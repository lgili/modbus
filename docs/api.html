

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API Reference &mdash; Modbus C Library 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=8d563738"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Roadmap &amp; Gates (0–44)" href="roadmapping.html" />
    <link rel="prev" title="Developer Guide" href="developer_guide.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Modbus C Library
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#feature-gates">Feature Gates</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#design-principles">Design Principles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#obtaining-the-sources">Obtaining the Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#building-the-library">Building the Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#minimal-client">Minimal Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#working-on-windows">Working on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#quick-checklist">Quick Checklist</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#profiles">Profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#core-options">Core Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#diagnostics-observability">Diagnostics &amp; Observability</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#power-management-gate-27">Power Management (Gate 27)</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#transport-ports">Transport Ports</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#build-time-overrides">Build-Time Overrides</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#gate-coverage-map">Gate Coverage Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#memory-footprint-tips">Memory Footprint Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="transports.html">Transports &amp; Ports</a><ul>
<li class="toctree-l2"><a class="reference internal" href="transports.html#posix-helper-gate-20">POSIX Helper (Gate 20)</a></li>
<li class="toctree-l2"><a class="reference internal" href="transports.html#freertos-transport-gate-31">FreeRTOS Transport (Gate 31)</a></li>
<li class="toctree-l2"><a class="reference internal" href="transports.html#bare-metal-isr-path-gate-21">Bare-metal ISR Path (Gate 21)</a></li>
<li class="toctree-l2"><a class="reference internal" href="transports.html#transport-selection-checklist">Transport Selection Checklist</a></li>
<li class="toctree-l2"><a class="reference internal" href="transports.html#ascii-transport">ASCII Transport</a></li>
<li class="toctree-l2"><a class="reference internal" href="transports.html#custom-transports">Custom Transports</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="diagnostics.html">Diagnostics &amp; Observability</a><ul>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#metrics">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#diagnostics-counters-gate-22">Diagnostics Counters (Gate 22)</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#event-callbacks-gate-28-29">Event Callbacks (Gate 28/29)</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#hex-tracing">Hex Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#queue-inspection">Queue Inspection</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#integrating-with-external-telemetry">Integrating With External Telemetry</a></li>
<li class="toctree-l2"><a class="reference internal" href="diagnostics.html#logging-backend">Logging Backend</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="power_management.html">Power Management (Gate 27)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="power_management.html#idle-handling">Idle Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="power_management.html#poll-jitter-metrics">Poll Jitter Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="power_management.html#integrating-with-rtos-tickless-mode">Integrating With RTOS Tickless Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="power_management.html#runtime-adjustments">Runtime Adjustments</a></li>
<li class="toctree-l2"><a class="reference internal" href="power_management.html#memory-considerations">Memory Considerations</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Reference Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#posix">POSIX</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#freertos-gate-31">FreeRTOS (Gate 31)</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#zephyr-gate-30">Zephyr (Gate 30)</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#interop-benchmarks-gate-32">Interop / Benchmarks (Gate 32)</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#quick-test-loop">Quick Test Loop</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced_topics.html">Advanced Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced_topics.html#rtu-timing">RTU Timing</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_topics.html#zero-copy-i-o">Zero-Copy I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_topics.html#concurrency-mutexes">Concurrency &amp; Mutexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_topics.html#misra-compliance-gate-23-24">MISRA Compliance (Gate 23/24)</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_topics.html#embedding-in-bootloaders">Embedding in Bootloaders</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_topics.html#extending-function-codes">Extending Function Codes</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Reference</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#repository-layout">Repository Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#coding-standards">Coding Standards</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#continuous-integration">Continuous Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#roadmap-issues">Roadmap &amp; Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#contribution-checklist">Contribution Checklist</a></li>
<li class="toctree-l2"><a class="reference internal" href="developer_guide.html#license">License</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv43fsm"><code class="docutils literal notranslate"><span class="pre">fsm</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N3fsm13current_stateE"><code class="docutils literal notranslate"><span class="pre">current_state</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N3fsm9user_dataE"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N3fsm11event_queueE"><code class="docutils literal notranslate"><span class="pre">event_queue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N3fsm7time_fnE"><code class="docutils literal notranslate"><span class="pre">time_fn</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N3fsm13event_drop_cbE"><code class="docutils literal notranslate"><span class="pre">event_drop_cb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N3fsm16state_entry_timeE"><code class="docutils literal notranslate"><span class="pre">state_entry_time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N3fsm11has_timeoutE"><code class="docutils literal notranslate"><span class="pre">has_timeout</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N3fsm12inline_queueE"><code class="docutils literal notranslate"><span class="pre">inline_queue</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412fsm_config_t"><code class="docutils literal notranslate"><span class="pre">fsm_config_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12fsm_config_t13queue_storageE"><code class="docutils literal notranslate"><span class="pre">queue_storage</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12fsm_config_t14queue_capacityE"><code class="docutils literal notranslate"><span class="pre">queue_capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12fsm_config_t7time_fnE"><code class="docutils literal notranslate"><span class="pre">time_fn</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12fsm_config_t13on_event_dropE"><code class="docutils literal notranslate"><span class="pre">on_event_drop</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417fsm_event_queue_t"><code class="docutils literal notranslate"><span class="pre">fsm_event_queue_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17fsm_event_queue_t6eventsE"><code class="docutils literal notranslate"><span class="pre">events</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17fsm_event_queue_t4headE"><code class="docutils literal notranslate"><span class="pre">head</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17fsm_event_queue_t4tailE"><code class="docutils literal notranslate"><span class="pre">tail</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17fsm_event_queue_t8capacityE"><code class="docutils literal notranslate"><span class="pre">capacity</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv49fsm_state"><code class="docutils literal notranslate"><span class="pre">fsm_state</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9fsm_state4nameE"><code class="docutils literal notranslate"><span class="pre">name</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9fsm_state2idE"><code class="docutils literal notranslate"><span class="pre">id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9fsm_state11transitionsE"><code class="docutils literal notranslate"><span class="pre">transitions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9fsm_state15num_transitionsE"><code class="docutils literal notranslate"><span class="pre">num_transitions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9fsm_state14default_actionE"><code class="docutils literal notranslate"><span class="pre">default_action</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9fsm_state10timeout_msE"><code class="docutils literal notranslate"><span class="pre">timeout_ms</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416fsm_transition_t"><code class="docutils literal notranslate"><span class="pre">fsm_transition_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16fsm_transition_t5eventE"><code class="docutils literal notranslate"><span class="pre">event</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16fsm_transition_t10next_stateE"><code class="docutils literal notranslate"><span class="pre">next_state</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16fsm_transition_t6actionE"><code class="docutils literal notranslate"><span class="pre">action</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16fsm_transition_t5guardE"><code class="docutils literal notranslate"><span class="pre">guard</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_adu_hash_entry_t"><code class="docutils literal notranslate"><span class="pre">mb_adu_hash_entry_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_adu_hash_entry_t4hashE"><code class="docutils literal notranslate"><span class="pre">hash</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_adu_hash_entry_t12timestamp_msE"><code class="docutils literal notranslate"><span class="pre">timestamp_ms</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413mb_adu_view_t"><code class="docutils literal notranslate"><span class="pre">mb_adu_view_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_adu_view_t7unit_idE"><code class="docutils literal notranslate"><span class="pre">unit_id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_adu_view_t8functionE"><code class="docutils literal notranslate"><span class="pre">function</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_adu_view_t7payloadE"><code class="docutils literal notranslate"><span class="pre">payload</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_adu_view_t11payload_lenE"><code class="docutils literal notranslate"><span class="pre">payload_len</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv49mb_client"><code class="docutils literal notranslate"><span class="pre">mb_client</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client5ifaceE"><code class="docutils literal notranslate"><span class="pre">iface</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client9transportE"><code class="docutils literal notranslate"><span class="pre">transport</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client4poolE"><code class="docutils literal notranslate"><span class="pre">pool</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client9pool_sizeE"><code class="docutils literal notranslate"><span class="pre">pool_size</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client12pending_headE"><code class="docutils literal notranslate"><span class="pre">pending_head</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client12pending_tailE"><code class="docutils literal notranslate"><span class="pre">pending_tail</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client7currentE"><code class="docutils literal notranslate"><span class="pre">current</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client5stateE"><code class="docutils literal notranslate"><span class="pre">state</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client11watchdog_msE"><code class="docutils literal notranslate"><span class="pre">watchdog_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client8next_tidE"><code class="docutils literal notranslate"><span class="pre">next_tid</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client14queue_capacityE"><code class="docutils literal notranslate"><span class="pre">queue_capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client13pending_countE"><code class="docutils literal notranslate"><span class="pre">pending_count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client11fc_timeoutsE"><code class="docutils literal notranslate"><span class="pre">fc_timeouts</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client7metricsE"><code class="docutils literal notranslate"><span class="pre">metrics</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client4diagE"><code class="docutils literal notranslate"><span class="pre">diag</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client11observer_cbE"><code class="docutils literal notranslate"><span class="pre">observer_cb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client13observer_userE"><code class="docutils literal notranslate"><span class="pre">observer_user</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client9trace_hexE"><code class="docutils literal notranslate"><span class="pre">trace_hex</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_client11poll_jitterE"><code class="docutils literal notranslate"><span class="pre">poll_jitter</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_client_metrics_t"><code class="docutils literal notranslate"><span class="pre">mb_client_metrics_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t9submittedE"><code class="docutils literal notranslate"><span class="pre">submitted</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t9completedE"><code class="docutils literal notranslate"><span class="pre">completed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t7retriesE"><code class="docutils literal notranslate"><span class="pre">retries</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t8timeoutsE"><code class="docutils literal notranslate"><span class="pre">timeouts</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t6errorsE"><code class="docutils literal notranslate"><span class="pre">errors</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t9cancelledE"><code class="docutils literal notranslate"><span class="pre">cancelled</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t15poison_triggersE"><code class="docutils literal notranslate"><span class="pre">poison_triggers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t8bytes_txE"><code class="docutils literal notranslate"><span class="pre">bytes_tx</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t8bytes_rxE"><code class="docutils literal notranslate"><span class="pre">bytes_rx</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t14response_countE"><code class="docutils literal notranslate"><span class="pre">response_count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t25response_latency_total_msE"><code class="docutils literal notranslate"><span class="pre">response_latency_total_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t18step_max_jitter_msE"><code class="docutils literal notranslate"><span class="pre">step_max_jitter_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_client_metrics_t18step_avg_jitter_msE"><code class="docutils literal notranslate"><span class="pre">step_avg_jitter_ms</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_client_request"><code class="docutils literal notranslate"><span class="pre">mb_client_request</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_request5flagsE"><code class="docutils literal notranslate"><span class="pre">flags</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_request7requestE"><code class="docutils literal notranslate"><span class="pre">request</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_request10timeout_msE"><code class="docutils literal notranslate"><span class="pre">timeout_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_request11max_retriesE"><code class="docutils literal notranslate"><span class="pre">max_retries</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_request16retry_backoff_msE"><code class="docutils literal notranslate"><span class="pre">retry_backoff_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_request8callbackE"><code class="docutils literal notranslate"><span class="pre">callback</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_request8user_ctxE"><code class="docutils literal notranslate"><span class="pre">user_ctx</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_client_sync_opts_t"><code class="docutils literal notranslate"><span class="pre">mb_client_sync_opts_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_client_sync_opts_t10timeout_msE"><code class="docutils literal notranslate"><span class="pre">timeout_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_client_sync_opts_t11max_retriesE"><code class="docutils literal notranslate"><span class="pre">max_retries</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_client_sync_opts_t16retry_backoff_msE"><code class="docutils literal notranslate"><span class="pre">retry_backoff_ms</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_client_sync_state_t"><code class="docutils literal notranslate"><span class="pre">mb_client_sync_state_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_client_sync_state_t9completedE"><code class="docutils literal notranslate"><span class="pre">completed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_client_sync_state_t6statusE"><code class="docutils literal notranslate"><span class="pre">status</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_client_sync_state_t8functionE"><code class="docutils literal notranslate"><span class="pre">function</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_client_sync_state_t7unit_idE"><code class="docutils literal notranslate"><span class="pre">unit_id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_client_sync_state_t7payloadE"><code class="docutils literal notranslate"><span class="pre">payload</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_client_sync_state_t11payload_lenE"><code class="docutils literal notranslate"><span class="pre">payload_len</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413mb_client_txn"><code class="docutils literal notranslate"><span class="pre">mb_client_txn</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn6in_useE"><code class="docutils literal notranslate"><span class="pre">in_use</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn6queuedE"><code class="docutils literal notranslate"><span class="pre">queued</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn9completedE"><code class="docutils literal notranslate"><span class="pre">completed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn9cancelledE"><code class="docutils literal notranslate"><span class="pre">cancelled</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn16callback_pendingE"><code class="docutils literal notranslate"><span class="pre">callback_pending</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn15expect_responseE"><code class="docutils literal notranslate"><span class="pre">expect_response</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn13high_priorityE"><code class="docutils literal notranslate"><span class="pre">high_priority</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn6poisonE"><code class="docutils literal notranslate"><span class="pre">poison</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn3cfgE"><code class="docutils literal notranslate"><span class="pre">cfg</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn6statusE"><code class="docutils literal notranslate"><span class="pre">status</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn11retry_countE"><code class="docutils literal notranslate"><span class="pre">retry_count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn11max_retriesE"><code class="docutils literal notranslate"><span class="pre">max_retries</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn10timeout_msE"><code class="docutils literal notranslate"><span class="pre">timeout_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn15base_timeout_msE"><code class="docutils literal notranslate"><span class="pre">base_timeout_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn16retry_backoff_msE"><code class="docutils literal notranslate"><span class="pre">retry_backoff_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn8deadlineE"><code class="docutils literal notranslate"><span class="pre">deadline</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn17watchdog_deadlineE"><code class="docutils literal notranslate"><span class="pre">watchdog_deadline</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn15next_attempt_msE"><code class="docutils literal notranslate"><span class="pre">next_attempt_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn10start_timeE"><code class="docutils literal notranslate"><span class="pre">start_time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn12request_viewE"><code class="docutils literal notranslate"><span class="pre">request_view</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn13response_viewE"><code class="docutils literal notranslate"><span class="pre">response_view</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn15request_storageE"><code class="docutils literal notranslate"><span class="pre">request_storage</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn16response_storageE"><code class="docutils literal notranslate"><span class="pre">response_storage</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn3tidE"><code class="docutils literal notranslate"><span class="pre">tid</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn8tx_phaseE"><code class="docutils literal notranslate"><span class="pre">tx_phase</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn8rx_phaseE"><code class="docutils literal notranslate"><span class="pre">rx_phase</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn14tx_deadline_msE"><code class="docutils literal notranslate"><span class="pre">tx_deadline_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn14rx_deadline_msE"><code class="docutils literal notranslate"><span class="pre">rx_deadline_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn10rx_pendingE"><code class="docutils literal notranslate"><span class="pre">rx_pending</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn9rx_statusE"><code class="docutils literal notranslate"><span class="pre">rx_status</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn7rx_viewE"><code class="docutils literal notranslate"><span class="pre">rx_view</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_client_txn4nextE"><code class="docutils literal notranslate"><span class="pre">next</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_diag_counters_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_counters_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_counters_t8functionE"><code class="docutils literal notranslate"><span class="pre">function</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_counters_t5errorE"><code class="docutils literal notranslate"><span class="pre">error</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_diag_snapshot_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_snapshot_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_snapshot_t8reservedE"><code class="docutils literal notranslate"><span class="pre">reserved</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_diag_state_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_state_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_diag_state_t8reservedE"><code class="docutils literal notranslate"><span class="pre">reserved</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_dup_filter_t"><code class="docutils literal notranslate"><span class="pre">mb_dup_filter_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_dup_filter_t7entriesE"><code class="docutils literal notranslate"><span class="pre">entries</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_dup_filter_t4headE"><code class="docutils literal notranslate"><span class="pre">head</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_dup_filter_t5countE"><code class="docutils literal notranslate"><span class="pre">count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_dup_filter_t9window_msE"><code class="docutils literal notranslate"><span class="pre">window_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_dup_filter_t15last_added_hashE"><code class="docutils literal notranslate"><span class="pre">last_added_hash</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_dup_filter_t20last_added_timestampE"><code class="docutils literal notranslate"><span class="pre">last_added_timestamp</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_dup_filter_t14has_last_addedE"><code class="docutils literal notranslate"><span class="pre">has_last_added</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_dup_filter_t14frames_checkedE"><code class="docutils literal notranslate"><span class="pre">frames_checked</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_dup_filter_t16duplicates_foundE"><code class="docutils literal notranslate"><span class="pre">duplicates_found</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_dup_filter_t15false_positivesE"><code class="docutils literal notranslate"><span class="pre">false_positives</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_embed_request_opts_t"><code class="docutils literal notranslate"><span class="pre">mb_embed_request_opts_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23mb_embed_request_opts_t10timeout_msE"><code class="docutils literal notranslate"><span class="pre">timeout_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23mb_embed_request_opts_t16retry_backoff_msE"><code class="docutils literal notranslate"><span class="pre">retry_backoff_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23mb_embed_request_opts_t11max_retriesE"><code class="docutils literal notranslate"><span class="pre">max_retries</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23mb_embed_request_opts_t5flagsE"><code class="docutils literal notranslate"><span class="pre">flags</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23mb_embed_request_opts_t8callbackE"><code class="docutils literal notranslate"><span class="pre">callback</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23mb_embed_request_opts_t8user_ctxE"><code class="docutils literal notranslate"><span class="pre">user_ctx</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv48mb_event"><code class="docutils literal notranslate"><span class="pre">mb_event</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event6sourceE"><code class="docutils literal notranslate"><span class="pre">source</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event4typeE"><code class="docutils literal notranslate"><span class="pre">type</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event9timestampE"><code class="docutils literal notranslate"><span class="pre">timestamp</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event5stateE"><code class="docutils literal notranslate"><span class="pre">state</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event12client_stateE"><code class="docutils literal notranslate"><span class="pre">client_state</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event12server_stateE"><code class="docutils literal notranslate"><span class="pre">server_state</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event8functionE"><code class="docutils literal notranslate"><span class="pre">function</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event6statusE"><code class="docutils literal notranslate"><span class="pre">status</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event15expect_responseE"><code class="docutils literal notranslate"><span class="pre">expect_response</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event10client_txnE"><code class="docutils literal notranslate"><span class="pre">client_txn</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event9broadcastE"><code class="docutils literal notranslate"><span class="pre">broadcast</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event10server_reqE"><code class="docutils literal notranslate"><span class="pre">server_req</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N8mb_event4dataE"><code class="docutils literal notranslate"><span class="pre">data</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_feature_profile"><code class="docutils literal notranslate"><span class="pre">mb_feature_profile</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_feature_profile10profile_idE"><code class="docutils literal notranslate"><span class="pre">profile_id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_feature_profile12profile_nameE"><code class="docutils literal notranslate"><span class="pre">profile_name</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_feature_profile12build_clientE"><code class="docutils literal notranslate"><span class="pre">build_client</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_feature_profile12build_serverE"><code class="docutils literal notranslate"><span class="pre">build_server</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_feature_profile13transport_rtuE"><code class="docutils literal notranslate"><span class="pre">transport_rtu</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_feature_profile15transport_asciiE"><code class="docutils literal notranslate"><span class="pre">transport_ascii</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_feature_profile13transport_tcpE"><code class="docutils literal notranslate"><span class="pre">transport_tcp</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_feature_profile10port_mutexE"><code class="docutils literal notranslate"><span class="pre">port_mutex</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_feature_profile10port_posixE"><code class="docutils literal notranslate"><span class="pre">port_posix</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_feature_profile14function_codesE"><code class="docutils literal notranslate"><span class="pre">function_codes</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_feature_profile19function_code_countE"><code class="docutils literal notranslate"><span class="pre">function_code_count</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_host_client"><code class="docutils literal notranslate"><span class="pre">mb_host_client</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N14mb_host_client6clientE"><code class="docutils literal notranslate"><span class="pre">client</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N14mb_host_client6socketE"><code class="docutils literal notranslate"><span class="pre">socket</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N14mb_host_client10timeout_msE"><code class="docutils literal notranslate"><span class="pre">timeout_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N14mb_host_client15logging_enabledE"><code class="docutils literal notranslate"><span class="pre">logging_enabled</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N14mb_host_client14last_exceptionE"><code class="docutils literal notranslate"><span class="pre">last_exception</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N14mb_host_client8txn_poolE"><code class="docutils literal notranslate"><span class="pre">txn_pool</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_idle_config"><code class="docutils literal notranslate"><span class="pre">mb_idle_config</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N14mb_idle_config8callbackE"><code class="docutils literal notranslate"><span class="pre">callback</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N14mb_idle_config8user_ctxE"><code class="docutils literal notranslate"><span class="pre">user_ctx</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N14mb_idle_config12threshold_msE"><code class="docutils literal notranslate"><span class="pre">threshold_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N14mb_idle_config7enabledE"><code class="docutils literal notranslate"><span class="pre">enabled</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_iovec_list_t"><code class="docutils literal notranslate"><span class="pre">mb_iovec_list_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_iovec_list_t7vectorsE"><code class="docutils literal notranslate"><span class="pre">vectors</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_iovec_list_t5countE"><code class="docutils literal notranslate"><span class="pre">count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_iovec_list_t9total_lenE"><code class="docutils literal notranslate"><span class="pre">total_len</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_iovec_stats_t"><code class="docutils literal notranslate"><span class="pre">mb_iovec_stats_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_iovec_stats_t12tx_zero_copyE"><code class="docutils literal notranslate"><span class="pre">tx_zero_copy</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_iovec_stats_t9tx_memcpyE"><code class="docutils literal notranslate"><span class="pre">tx_memcpy</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_iovec_stats_t12rx_zero_copyE"><code class="docutils literal notranslate"><span class="pre">rx_zero_copy</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_iovec_stats_t9rx_memcpyE"><code class="docutils literal notranslate"><span class="pre">rx_memcpy</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_iovec_stats_t13scratch_bytesE"><code class="docutils literal notranslate"><span class="pre">scratch_bytes</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410mb_iovec_t"><code class="docutils literal notranslate"><span class="pre">mb_iovec_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_iovec_t4baseE"><code class="docutils literal notranslate"><span class="pre">base</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_iovec_t3lenE"><code class="docutils literal notranslate"><span class="pre">len</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413mb_isr_config"><code class="docutils literal notranslate"><span class="pre">mb_isr_config</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_isr_config14rx_queue_slotsE"><code class="docutils literal notranslate"><span class="pre">rx_queue_slots</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_isr_config17rx_queue_capacityE"><code class="docutils literal notranslate"><span class="pre">rx_queue_capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_isr_config14tx_queue_slotsE"><code class="docutils literal notranslate"><span class="pre">tx_queue_slots</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_isr_config17tx_queue_capacityE"><code class="docutils literal notranslate"><span class="pre">tx_queue_capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_isr_config9rx_bufferE"><code class="docutils literal notranslate"><span class="pre">rx_buffer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_isr_config14rx_buffer_sizeE"><code class="docutils literal notranslate"><span class="pre">rx_buffer_size</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_isr_config9tx_bufferE"><code class="docutils literal notranslate"><span class="pre">tx_buffer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_isr_config14tx_buffer_sizeE"><code class="docutils literal notranslate"><span class="pre">tx_buffer_size</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_isr_config14enable_loggingE"><code class="docutils literal notranslate"><span class="pre">enable_logging</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_isr_config20turnaround_target_usE"><code class="docutils literal notranslate"><span class="pre">turnaround_target_us</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410mb_isr_ctx"><code class="docutils literal notranslate"><span class="pre">mb_isr_ctx</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx8rx_queueE"><code class="docutils literal notranslate"><span class="pre">rx_queue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx8tx_queueE"><code class="docutils literal notranslate"><span class="pre">tx_queue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx9rx_bufferE"><code class="docutils literal notranslate"><span class="pre">rx_buffer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx14rx_buffer_sizeE"><code class="docutils literal notranslate"><span class="pre">rx_buffer_size</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx9tx_bufferE"><code class="docutils literal notranslate"><span class="pre">tx_buffer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx14tx_buffer_sizeE"><code class="docutils literal notranslate"><span class="pre">tx_buffer_size</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx15current_tx_dataE"><code class="docutils literal notranslate"><span class="pre">current_tx_data</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx14current_tx_lenE"><code class="docutils literal notranslate"><span class="pre">current_tx_len</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx14tx_in_progressE"><code class="docutils literal notranslate"><span class="pre">tx_in_progress</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx5statsE"><code class="docutils literal notranslate"><span class="pre">stats</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx20turnaround_target_usE"><code class="docutils literal notranslate"><span class="pre">turnaround_target_us</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx17last_rx_timestampE"><code class="docutils literal notranslate"><span class="pre">last_rx_timestamp</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_isr_ctx14enable_loggingE"><code class="docutils literal notranslate"><span class="pre">enable_logging</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412mb_isr_stats"><code class="docutils literal notranslate"><span class="pre">mb_isr_stats</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_isr_stats19rx_chunks_processedE"><code class="docutils literal notranslate"><span class="pre">rx_chunks_processed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_isr_stats19tx_started_from_isrE"><code class="docutils literal notranslate"><span class="pre">tx_started_from_isr</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_isr_stats16fast_turnaroundsE"><code class="docutils literal notranslate"><span class="pre">fast_turnarounds</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_isr_stats17queue_full_eventsE"><code class="docutils literal notranslate"><span class="pre">queue_full_events</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_isr_stats17min_turnaround_usE"><code class="docutils literal notranslate"><span class="pre">min_turnaround_us</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_isr_stats17max_turnaround_usE"><code class="docutils literal notranslate"><span class="pre">max_turnaround_us</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_isr_stats17avg_turnaround_usE"><code class="docutils literal notranslate"><span class="pre">avg_turnaround_us</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_isr_stats12isr_overrunsE"><code class="docutils literal notranslate"><span class="pre">isr_overruns</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410mb_mempool"><code class="docutils literal notranslate"><span class="pre">mb_mempool</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_mempool7storageE"><code class="docutils literal notranslate"><span class="pre">storage</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_mempool10block_sizeE"><code class="docutils literal notranslate"><span class="pre">block_size</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_mempool11block_countE"><code class="docutils literal notranslate"><span class="pre">block_count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_mempool10free_countE"><code class="docutils literal notranslate"><span class="pre">free_count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_mempool9free_listE"><code class="docutils literal notranslate"><span class="pre">free_list</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_poll_jitter_t"><code class="docutils literal notranslate"><span class="pre">mb_poll_jitter_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_poll_jitter_t14last_timestampE"><code class="docutils literal notranslate"><span class="pre">last_timestamp</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_poll_jitter_t12max_delta_msE"><code class="docutils literal notranslate"><span class="pre">max_delta_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_poll_jitter_t14total_delta_msE"><code class="docutils literal notranslate"><span class="pre">total_delta_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_poll_jitter_t7samplesE"><code class="docutils literal notranslate"><span class="pre">samples</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_port_bare_transport"><code class="docutils literal notranslate"><span class="pre">mb_port_bare_transport</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_port_bare_transport8user_ctxE"><code class="docutils literal notranslate"><span class="pre">user_ctx</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_port_bare_transport9clock_ctxE"><code class="docutils literal notranslate"><span class="pre">clock_ctx</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_port_bare_transport7send_fnE"><code class="docutils literal notranslate"><span class="pre">send_fn</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_port_bare_transport7recv_fnE"><code class="docutils literal notranslate"><span class="pre">recv_fn</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_port_bare_transport11tick_now_fnE"><code class="docutils literal notranslate"><span class="pre">tick_now_fn</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_port_bare_transport8yield_fnE"><code class="docutils literal notranslate"><span class="pre">yield_fn</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_port_bare_transport12tick_rate_hzE"><code class="docutils literal notranslate"><span class="pre">tick_rate_hz</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22mb_port_bare_transport5ifaceE"><code class="docutils literal notranslate"><span class="pre">iface</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426mb_port_freertos_transport"><code class="docutils literal notranslate"><span class="pre">mb_port_freertos_transport</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N26mb_port_freertos_transport9tx_streamE"><code class="docutils literal notranslate"><span class="pre">tx_stream</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N26mb_port_freertos_transport9rx_streamE"><code class="docutils literal notranslate"><span class="pre">rx_stream</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N26mb_port_freertos_transport7send_fnE"><code class="docutils literal notranslate"><span class="pre">send_fn</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N26mb_port_freertos_transport7recv_fnE"><code class="docutils literal notranslate"><span class="pre">recv_fn</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N26mb_port_freertos_transport7tick_fnE"><code class="docutils literal notranslate"><span class="pre">tick_fn</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N26mb_port_freertos_transport8yield_fnE"><code class="docutils literal notranslate"><span class="pre">yield_fn</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N26mb_port_freertos_transport12tick_rate_hzE"><code class="docutils literal notranslate"><span class="pre">tick_rate_hz</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N26mb_port_freertos_transport15max_block_ticksE"><code class="docutils literal notranslate"><span class="pre">max_block_ticks</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N26mb_port_freertos_transport5ifaceE"><code class="docutils literal notranslate"><span class="pre">iface</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413mb_port_mutex"><code class="docutils literal notranslate"><span class="pre">mb_port_mutex</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_port_mutex6handleE"><code class="docutils literal notranslate"><span class="pre">handle</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_port_mutex11initialisedE"><code class="docutils literal notranslate"><span class="pre">initialised</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_port_posix_socket"><code class="docutils literal notranslate"><span class="pre">mb_port_posix_socket</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N20mb_port_posix_socket2fdE"><code class="docutils literal notranslate"><span class="pre">fd</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N20mb_port_posix_socket7owns_fdE"><code class="docutils literal notranslate"><span class="pre">owns_fd</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N20mb_port_posix_socket5ifaceE"><code class="docutils literal notranslate"><span class="pre">iface</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413mb_qos_config"><code class="docutils literal notranslate"><span class="pre">mb_qos_config</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_config16high_queue_slotsE"><code class="docutils literal notranslate"><span class="pre">high_queue_slots</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_config13high_capacityE"><code class="docutils literal notranslate"><span class="pre">high_capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_config18normal_queue_slotsE"><code class="docutils literal notranslate"><span class="pre">normal_queue_slots</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_config15normal_capacityE"><code class="docutils literal notranslate"><span class="pre">normal_capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_config6policyE"><code class="docutils literal notranslate"><span class="pre">policy</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_config21deadline_threshold_msE"><code class="docutils literal notranslate"><span class="pre">deadline_threshold_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_config17enable_monitoringE"><code class="docutils literal notranslate"><span class="pre">enable_monitoring</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_config6now_msE"><code class="docutils literal notranslate"><span class="pre">now_ms</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410mb_qos_ctx"><code class="docutils literal notranslate"><span class="pre">mb_qos_ctx</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_qos_ctx10high_queueE"><code class="docutils literal notranslate"><span class="pre">high_queue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_qos_ctx12normal_queueE"><code class="docutils literal notranslate"><span class="pre">normal_queue</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_qos_ctx6policyE"><code class="docutils literal notranslate"><span class="pre">policy</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_qos_ctx21deadline_threshold_msE"><code class="docutils literal notranslate"><span class="pre">deadline_threshold_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_qos_ctx5statsE"><code class="docutils literal notranslate"><span class="pre">stats</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_qos_ctx17enable_monitoringE"><code class="docutils literal notranslate"><span class="pre">enable_monitoring</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_qos_ctx6now_msE"><code class="docutils literal notranslate"><span class="pre">now_ms</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_qos_priority_stats"><code class="docutils literal notranslate"><span class="pre">mb_qos_priority_stats</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_qos_priority_stats8enqueuedE"><code class="docutils literal notranslate"><span class="pre">enqueued</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_qos_priority_stats9completedE"><code class="docutils literal notranslate"><span class="pre">completed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_qos_priority_stats8rejectedE"><code class="docutils literal notranslate"><span class="pre">rejected</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_qos_priority_stats14min_latency_msE"><code class="docutils literal notranslate"><span class="pre">min_latency_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_qos_priority_stats14max_latency_msE"><code class="docutils literal notranslate"><span class="pre">max_latency_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_qos_priority_stats14avg_latency_msE"><code class="docutils literal notranslate"><span class="pre">avg_latency_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_qos_priority_stats15deadline_missesE"><code class="docutils literal notranslate"><span class="pre">deadline_misses</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412mb_qos_stats"><code class="docutils literal notranslate"><span class="pre">mb_qos_stats</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_qos_stats4highE"><code class="docutils literal notranslate"><span class="pre">high</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_qos_stats6normalE"><code class="docutils literal notranslate"><span class="pre">normal</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_qos_stats17queue_full_eventsE"><code class="docutils literal notranslate"><span class="pre">queue_full_events</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_qos_stats19priority_inversionsE"><code class="docutils literal notranslate"><span class="pre">priority_inversions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_qos_stats18current_high_depthE"><code class="docutils literal notranslate"><span class="pre">current_high_depth</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_qos_stats20current_normal_depthE"><code class="docutils literal notranslate"><span class="pre">current_normal_depth</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_qos_stats20high_water_mark_highE"><code class="docutils literal notranslate"><span class="pre">high_water_mark_high</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12mb_qos_stats22high_water_mark_normalE"><code class="docutils literal notranslate"><span class="pre">high_water_mark_normal</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_qos_transaction"><code class="docutils literal notranslate"><span class="pre">mb_qos_transaction</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_qos_transaction13slave_addressE"><code class="docutils literal notranslate"><span class="pre">slave_address</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_qos_transaction13function_codeE"><code class="docutils literal notranslate"><span class="pre">function_code</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_qos_transaction11deadline_msE"><code class="docutils literal notranslate"><span class="pre">deadline_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_qos_transaction17enqueue_timestampE"><code class="docutils literal notranslate"><span class="pre">enqueue_timestamp</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_qos_transaction8priorityE"><code class="docutils literal notranslate"><span class="pre">priority</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413mb_queue_mpsc"><code class="docutils literal notranslate"><span class="pre">mb_queue_mpsc</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_mpsc5slotsE"><code class="docutils literal notranslate"><span class="pre">slots</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_mpsc8capacityE"><code class="docutils literal notranslate"><span class="pre">capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_mpsc4maskE"><code class="docutils literal notranslate"><span class="pre">mask</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_mpsc4headE"><code class="docutils literal notranslate"><span class="pre">head</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_mpsc4tailE"><code class="docutils literal notranslate"><span class="pre">tail</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_mpsc10high_waterE"><code class="docutils literal notranslate"><span class="pre">high_water</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_mpsc5mutexE"><code class="docutils literal notranslate"><span class="pre">mutex</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413mb_queue_spsc"><code class="docutils literal notranslate"><span class="pre">mb_queue_spsc</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_spsc5slotsE"><code class="docutils literal notranslate"><span class="pre">slots</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_spsc8capacityE"><code class="docutils literal notranslate"><span class="pre">capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_spsc4maskE"><code class="docutils literal notranslate"><span class="pre">mask</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_spsc4headE"><code class="docutils literal notranslate"><span class="pre">head</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_spsc4tailE"><code class="docutils literal notranslate"><span class="pre">tail</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_spsc10high_waterE"><code class="docutils literal notranslate"><span class="pre">high_water</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_queue_spsc5mutexE"><code class="docutils literal notranslate"><span class="pre">mutex</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410mb_ringbuf"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_ringbuf6bufferE"><code class="docutils literal notranslate"><span class="pre">buffer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_ringbuf8capacityE"><code class="docutils literal notranslate"><span class="pre">capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_ringbuf4maskE"><code class="docutils literal notranslate"><span class="pre">mask</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_ringbuf4headE"><code class="docutils literal notranslate"><span class="pre">head</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_ringbuf4tailE"><code class="docutils literal notranslate"><span class="pre">tail</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N10mb_ringbuf5countE"><code class="docutils literal notranslate"><span class="pre">count</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_rtu_resync_t"><code class="docutils literal notranslate"><span class="pre">mb_rtu_resync_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_rtu_resync_t6bufferE"><code class="docutils literal notranslate"><span class="pre">buffer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_rtu_resync_t4headE"><code class="docutils literal notranslate"><span class="pre">head</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_rtu_resync_t4tailE"><code class="docutils literal notranslate"><span class="pre">tail</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_rtu_resync_t13candidate_posE"><code class="docutils literal notranslate"><span class="pre">candidate_pos</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_rtu_resync_t15resync_attemptsE"><code class="docutils literal notranslate"><span class="pre">resync_attempts</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_rtu_resync_t15bytes_discardedE"><code class="docutils literal notranslate"><span class="pre">bytes_discarded</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_rtu_resync_t16frames_recoveredE"><code class="docutils literal notranslate"><span class="pre">frames_recovered</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_server_metrics_t"><code class="docutils literal notranslate"><span class="pre">mb_server_metrics_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_server_metrics_t8receivedE"><code class="docutils literal notranslate"><span class="pre">received</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_server_metrics_t9respondedE"><code class="docutils literal notranslate"><span class="pre">responded</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_server_metrics_t10broadcastsE"><code class="docutils literal notranslate"><span class="pre">broadcasts</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_server_metrics_t10exceptionsE"><code class="docutils literal notranslate"><span class="pre">exceptions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_server_metrics_t7droppedE"><code class="docutils literal notranslate"><span class="pre">dropped</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_server_metrics_t15poison_triggersE"><code class="docutils literal notranslate"><span class="pre">poison_triggers</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_server_metrics_t6errorsE"><code class="docutils literal notranslate"><span class="pre">errors</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_server_metrics_t8timeoutsE"><code class="docutils literal notranslate"><span class="pre">timeouts</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_server_metrics_t16latency_total_msE"><code class="docutils literal notranslate"><span class="pre">latency_total_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_server_metrics_t18step_max_jitter_msE"><code class="docutils literal notranslate"><span class="pre">step_max_jitter_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N19mb_server_metrics_t18step_avg_jitter_msE"><code class="docutils literal notranslate"><span class="pre">step_avg_jitter_ms</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_server_region"><code class="docutils literal notranslate"><span class="pre">mb_server_region</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_server_region5startE"><code class="docutils literal notranslate"><span class="pre">start</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_server_region5countE"><code class="docutils literal notranslate"><span class="pre">count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_server_region9read_onlyE"><code class="docutils literal notranslate"><span class="pre">read_only</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_server_region7read_cbE"><code class="docutils literal notranslate"><span class="pre">read_cb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_server_region8write_cbE"><code class="docutils literal notranslate"><span class="pre">write_cb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_server_region8user_ctxE"><code class="docutils literal notranslate"><span class="pre">user_ctx</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16mb_server_region7storageE"><code class="docutils literal notranslate"><span class="pre">storage</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_server_request"><code class="docutils literal notranslate"><span class="pre">mb_server_request</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request6in_useE"><code class="docutils literal notranslate"><span class="pre">in_use</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request6queuedE"><code class="docutils literal notranslate"><span class="pre">queued</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request13high_priorityE"><code class="docutils literal notranslate"><span class="pre">high_priority</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request6poisonE"><code class="docutils literal notranslate"><span class="pre">poison</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request9broadcastE"><code class="docutils literal notranslate"><span class="pre">broadcast</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request7unit_idE"><code class="docutils literal notranslate"><span class="pre">unit_id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request5flagsE"><code class="docutils literal notranslate"><span class="pre">flags</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request8functionE"><code class="docutils literal notranslate"><span class="pre">function</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request7pdu_lenE"><code class="docutils literal notranslate"><span class="pre">pdu_len</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request12enqueue_timeE"><code class="docutils literal notranslate"><span class="pre">enqueue_time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request10start_timeE"><code class="docutils literal notranslate"><span class="pre">start_time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request8deadlineE"><code class="docutils literal notranslate"><span class="pre">deadline</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request12request_viewE"><code class="docutils literal notranslate"><span class="pre">request_view</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request7storageE"><code class="docutils literal notranslate"><span class="pre">storage</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request8rx_phaseE"><code class="docutils literal notranslate"><span class="pre">rx_phase</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request8tx_phaseE"><code class="docutils literal notranslate"><span class="pre">tx_phase</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request14rx_deadline_msE"><code class="docutils literal notranslate"><span class="pre">rx_deadline_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request14tx_deadline_msE"><code class="docutils literal notranslate"><span class="pre">tx_deadline_ms</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request9rx_statusE"><code class="docutils literal notranslate"><span class="pre">rx_status</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request6regionE"><code class="docutils literal notranslate"><span class="pre">region</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request10addr_startE"><code class="docutils literal notranslate"><span class="pre">addr_start</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request8quantityE"><code class="docutils literal notranslate"><span class="pre">quantity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request12single_valueE"><code class="docutils literal notranslate"><span class="pre">single_value</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request10tx_pdu_lenE"><code class="docutils literal notranslate"><span class="pre">tx_pdu_len</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request14exception_codeE"><code class="docutils literal notranslate"><span class="pre">exception_code</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_request4nextE"><code class="docutils literal notranslate"><span class="pre">next</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411mb_server_t"><code class="docutils literal notranslate"><span class="pre">mb_server_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t5ifaceE"><code class="docutils literal notranslate"><span class="pre">iface</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t3rtuE"><code class="docutils literal notranslate"><span class="pre">rtu</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t7unit_idE"><code class="docutils literal notranslate"><span class="pre">unit_id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t7regionsE"><code class="docutils literal notranslate"><span class="pre">regions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t10region_capE"><code class="docutils literal notranslate"><span class="pre">region_cap</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t12region_countE"><code class="docutils literal notranslate"><span class="pre">region_count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t4poolE"><code class="docutils literal notranslate"><span class="pre">pool</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t9pool_sizeE"><code class="docutils literal notranslate"><span class="pre">pool_size</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t12pending_headE"><code class="docutils literal notranslate"><span class="pre">pending_head</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t12pending_tailE"><code class="docutils literal notranslate"><span class="pre">pending_tail</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t7currentE"><code class="docutils literal notranslate"><span class="pre">current</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t14queue_capacityE"><code class="docutils literal notranslate"><span class="pre">queue_capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t13pending_countE"><code class="docutils literal notranslate"><span class="pre">pending_count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t11fc_timeoutsE"><code class="docutils literal notranslate"><span class="pre">fc_timeouts</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t7metricsE"><code class="docutils literal notranslate"><span class="pre">metrics</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t4diagE"><code class="docutils literal notranslate"><span class="pre">diag</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t11observer_cbE"><code class="docutils literal notranslate"><span class="pre">observer_cb</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t13observer_userE"><code class="docutils literal notranslate"><span class="pre">observer_user</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t9trace_hexE"><code class="docutils literal notranslate"><span class="pre">trace_hex</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t5stateE"><code class="docutils literal notranslate"><span class="pre">state</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t11poll_jitterE"><code class="docutils literal notranslate"><span class="pre">poll_jitter</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t9rx_bufferE"><code class="docutils literal notranslate"><span class="pre">rx_buffer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_server_t9tx_bufferE"><code class="docutils literal notranslate"><span class="pre">tx_buffer</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_transport_if_t"><code class="docutils literal notranslate"><span class="pre">mb_transport_if_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_transport_if_t3ctxE"><code class="docutils literal notranslate"><span class="pre">ctx</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_transport_if_t4sendE"><code class="docutils literal notranslate"><span class="pre">send</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_transport_if_t4recvE"><code class="docutils literal notranslate"><span class="pre">recv</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_transport_if_t5sendvE"><code class="docutils literal notranslate"><span class="pre">sendv</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_transport_if_t5recvvE"><code class="docutils literal notranslate"><span class="pre">recvv</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_transport_if_t3nowE"><code class="docutils literal notranslate"><span class="pre">now</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_transport_if_t5yieldE"><code class="docutils literal notranslate"><span class="pre">yield</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">mb_transport_io_result_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N24mb_transport_io_result_t9processedE"><code class="docutils literal notranslate"><span class="pre">processed</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv49mb_txpool"><code class="docutils literal notranslate"><span class="pre">mb_txpool</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_txpool4poolE"><code class="docutils literal notranslate"><span class="pre">pool</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_txpool5statsE"><code class="docutils literal notranslate"><span class="pre">stats</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9mb_txpool14current_in_useE"><code class="docutils literal notranslate"><span class="pre">current_in_use</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_txpool_stats"><code class="docutils literal notranslate"><span class="pre">mb_txpool_stats</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_txpool_stats8capacityE"><code class="docutils literal notranslate"><span class="pre">capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_txpool_stats6in_useE"><code class="docutils literal notranslate"><span class="pre">in_use</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_txpool_stats9availableE"><code class="docutils literal notranslate"><span class="pre">available</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_txpool_stats10high_waterE"><code class="docutils literal notranslate"><span class="pre">high_water</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_txpool_stats14total_acquiredE"><code class="docutils literal notranslate"><span class="pre">total_acquired</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_txpool_stats14total_releasedE"><code class="docutils literal notranslate"><span class="pre">total_released</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_txpool_stats15failed_acquiresE"><code class="docutils literal notranslate"><span class="pre">failed_acquires</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421modbus_compat_context"><code class="docutils literal notranslate"><span class="pre">modbus_compat_context</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context7backendE"><code class="docutils literal notranslate"><span class="pre">backend</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context6deviceE"><code class="docutils literal notranslate"><span class="pre">device</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context4baudE"><code class="docutils literal notranslate"><span class="pre">baud</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context6parityE"><code class="docutils literal notranslate"><span class="pre">parity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context9data_bitsE"><code class="docutils literal notranslate"><span class="pre">data_bits</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context9stop_bitsE"><code class="docutils literal notranslate"><span class="pre">stop_bits</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context4hostE"><code class="docutils literal notranslate"><span class="pre">host</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context4portE"><code class="docutils literal notranslate"><span class="pre">port</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context5slaveE"><code class="docutils literal notranslate"><span class="pre">slave</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context13debug_enabledE"><code class="docutils literal notranslate"><span class="pre">debug_enabled</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context9connectedE"><code class="docutils literal notranslate"><span class="pre">connected</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context6clientE"><code class="docutils literal notranslate"><span class="pre">client</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21modbus_compat_context10timeout_msE"><code class="docutils literal notranslate"><span class="pre">timeout_ms</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416modbus_context_t"><code class="docutils literal notranslate"><span class="pre">modbus_context_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t9transportE"><code class="docutils literal notranslate"><span class="pre">transport</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t15transport_ifaceE"><code class="docutils literal notranslate"><span class="pre">transport_iface</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t4roleE"><code class="docutils literal notranslate"><span class="pre">role</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t9rx_bufferE"><code class="docutils literal notranslate"><span class="pre">rx_buffer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t11rx_capacityE"><code class="docutils literal notranslate"><span class="pre">rx_capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t8rx_countE"><code class="docutils literal notranslate"><span class="pre">rx_count</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t8rx_indexE"><code class="docutils literal notranslate"><span class="pre">rx_index</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t13rx_raw_bufferE"><code class="docutils literal notranslate"><span class="pre">rx_raw_buffer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t15rx_raw_capacityE"><code class="docutils literal notranslate"><span class="pre">rx_raw_capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t13tx_raw_bufferE"><code class="docutils literal notranslate"><span class="pre">tx_raw_buffer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t15tx_raw_capacityE"><code class="docutils literal notranslate"><span class="pre">tx_raw_capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t12tx_raw_indexE"><code class="docutils literal notranslate"><span class="pre">tx_raw_index</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t9tx_bufferE"><code class="docutils literal notranslate"><span class="pre">tx_buffer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t11tx_capacityE"><code class="docutils literal notranslate"><span class="pre">tx_capacity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t8tx_indexE"><code class="docutils literal notranslate"><span class="pre">tx_index</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t17rx_reference_timeE"><code class="docutils literal notranslate"><span class="pre">rx_reference_time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t17tx_reference_timeE"><code class="docutils literal notranslate"><span class="pre">tx_reference_time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t11error_timerE"><code class="docutils literal notranslate"><span class="pre">error_timer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t9user_dataE"><code class="docutils literal notranslate"><span class="pre">user_data</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t2rxE"><code class="docutils literal notranslate"><span class="pre">rx</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t6rx_rawE"><code class="docutils literal notranslate"><span class="pre">rx_raw</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t6tx_rawE"><code class="docutils literal notranslate"><span class="pre">tx_raw</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t2txE"><code class="docutils literal notranslate"><span class="pre">tx</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N16modbus_context_t16internal_buffersE"><code class="docutils literal notranslate"><span class="pre">internal_buffers</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418modbus_transport_t"><code class="docutils literal notranslate"><span class="pre">modbus_transport_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18modbus_transport_t9transportE"><code class="docutils literal notranslate"><span class="pre">transport</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18modbus_transport_t4readE"><code class="docutils literal notranslate"><span class="pre">read</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18modbus_transport_t5writeE"><code class="docutils literal notranslate"><span class="pre">write</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18modbus_transport_t18get_reference_msecE"><code class="docutils literal notranslate"><span class="pre">get_reference_msec</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18modbus_transport_t17measure_time_msecE"><code class="docutils literal notranslate"><span class="pre">measure_time_msec</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18modbus_transport_t15change_baudrateE"><code class="docutils literal notranslate"><span class="pre">change_baudrate</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18modbus_transport_t12restart_uartE"><code class="docutils literal notranslate"><span class="pre">restart_uart</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18modbus_transport_t10write_gpioE"><code class="docutils literal notranslate"><span class="pre">write_gpio</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18modbus_transport_t24parse_bootloader_requestE"><code class="docutils literal notranslate"><span class="pre">parse_bootloader_request</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18modbus_transport_t3argE"><code class="docutils literal notranslate"><span class="pre">arg</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417variable_modbus_t"><code class="docutils literal notranslate"><span class="pre">variable_modbus_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17variable_modbus_t12variable_ptrE"><code class="docutils literal notranslate"><span class="pre">variable_ptr</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17variable_modbus_t13read_callbackE"><code class="docutils literal notranslate"><span class="pre">read_callback</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17variable_modbus_t14write_callbackE"><code class="docutils literal notranslate"><span class="pre">write_callback</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17variable_modbus_t9read_onlyE"><code class="docutils literal notranslate"><span class="pre">read_only</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17variable_modbus_t7addressE"><code class="docutils literal notranslate"><span class="pre">address</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CLIENT_DEFAULT_TIMEOUT_MS"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_DEFAULT_TIMEOUT_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CLIENT_DEFAULT_RETRY_BACKOFF_MS"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_DEFAULT_RETRY_BACKOFF_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CLIENT_DEFAULT_WATCHDOG_MS"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_DEFAULT_WATCHDOG_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CLIENT_MAX_TIMEOUT_MS"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_MAX_TIMEOUT_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CLIENT_REQUEST_NO_RESPONSE"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_REQUEST_NO_RESPONSE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CLIENT_REQUEST_HIGH_PRIORITY"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_REQUEST_HIGH_PRIORITY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CLIENT_REQUEST_POISON"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_REQUEST_POISON</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_idle_config_t"><code class="docutils literal notranslate"><span class="pre">mb_idle_config_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_client_callback_t"><code class="docutils literal notranslate"><span class="pre">mb_client_callback_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_client_request_t"><code class="docutils literal notranslate"><span class="pre">mb_client_request_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">mb_client_txn_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411mb_client_t"><code class="docutils literal notranslate"><span class="pre">mb_client_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_client_state_t"><code class="docutils literal notranslate"><span class="pre">mb_client_state_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_state_t20MB_CLIENT_STATE_IDLEE"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_STATE_IDLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_state_t25MB_CLIENT_STATE_PREPARINGE"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_STATE_PREPARING</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_state_t23MB_CLIENT_STATE_SENDINGE"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_STATE_SENDING</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_state_t23MB_CLIENT_STATE_WAITINGE"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_STATE_WAITING</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_client_state_t23MB_CLIENT_STATE_BACKOFFE"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_STATE_BACKOFF</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_client_transport_t"><code class="docutils literal notranslate"><span class="pre">mb_client_transport_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_client_transport_t23MB_CLIENT_TRANSPORT_RTUE"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_TRANSPORT_RTU</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N21mb_client_transport_t23MB_CLIENT_TRANSPORT_TCPE"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_TRANSPORT_TCP</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_client_submitP11mb_client_tPK19mb_client_request_tPP15mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">mb_client_submit()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_client_submit_poisonP11mb_client_t"><code class="docutils literal notranslate"><span class="pre">mb_client_submit_poison()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_client_cancelP11mb_client_tP15mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">mb_client_cancel()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_client_pollP11mb_client_t"><code class="docutils literal notranslate"><span class="pre">mb_client_poll()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426mb_client_poll_with_budgetP11mb_client_t9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_client_poll_with_budget()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_client_set_watchdogP11mb_client_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">mb_client_set_watchdog()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_client_is_idlePK11mb_client_t"><code class="docutils literal notranslate"><span class="pre">mb_client_is_idle()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_client_pendingPK11mb_client_t"><code class="docutils literal notranslate"><span class="pre">mb_client_pending()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv428mb_client_set_queue_capacityP11mb_client_t9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_client_set_queue_capacity()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_client_queue_capacityPK11mb_client_t"><code class="docutils literal notranslate"><span class="pre">mb_client_queue_capacity()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_client_set_fc_timeoutP11mb_client_t5mb_u812mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">mb_client_set_fc_timeout()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_client_get_metricsPK11mb_client_tP19mb_client_metrics_t"><code class="docutils literal notranslate"><span class="pre">mb_client_get_metrics()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_client_reset_metricsP11mb_client_t"><code class="docutils literal notranslate"><span class="pre">mb_client_reset_metrics()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_client_get_diagPK11mb_client_tP18mb_diag_counters_t"><code class="docutils literal notranslate"><span class="pre">mb_client_get_diag()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427mb_client_get_diag_snapshotPK11mb_client_tP18mb_diag_snapshot_t"><code class="docutils literal notranslate"><span class="pre">mb_client_get_diag_snapshot()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_client_reset_diagP11mb_client_t"><code class="docutils literal notranslate"><span class="pre">mb_client_reset_diag()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv428mb_client_set_event_callbackP11mb_client_t19mb_event_callback_tPv"><code class="docutils literal notranslate"><span class="pre">mb_client_set_event_callback()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_client_set_trace_hexP11mb_client_tb"><code class="docutils literal notranslate"><span class="pre">mb_client_set_trace_hex()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CLIENT_SYNC_TIMEOUT_DEFAULT"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_SYNC_TIMEOUT_DEFAULT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_client_sync_opts_initP21mb_client_sync_opts_t"><code class="docutils literal notranslate"><span class="pre">mb_client_sync_opts_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427mb_client_read_holding_syncP11mb_client_t7uint8_t8uint16_t8uint16_tP8uint16_tPK21mb_client_sync_opts_t"><code class="docutils literal notranslate"><span class="pre">mb_client_read_holding_sync()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv429mb_client_write_register_syncP11mb_client_t7uint8_t8uint16_t8uint16_tPK21mb_client_sync_opts_t"><code class="docutils literal notranslate"><span class="pre">mb_client_write_register_sync()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414modbus_new_rtuPKcicii"><code class="docutils literal notranslate"><span class="pre">modbus_new_rtu()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414modbus_new_tcpPKci"><code class="docutils literal notranslate"><span class="pre">modbus_new_tcp()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411modbus_freeP8modbus_t"><code class="docutils literal notranslate"><span class="pre">modbus_free()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414modbus_connectP8modbus_t"><code class="docutils literal notranslate"><span class="pre">modbus_connect()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412modbus_closeP8modbus_t"><code class="docutils literal notranslate"><span class="pre">modbus_close()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416modbus_set_slaveP8modbus_ti"><code class="docutils literal notranslate"><span class="pre">modbus_set_slave()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416modbus_get_slaveP8modbus_t"><code class="docutils literal notranslate"><span class="pre">modbus_get_slave()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427modbus_set_response_timeoutP8modbus_t8uint32_t8uint32_t"><code class="docutils literal notranslate"><span class="pre">modbus_set_response_timeout()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427modbus_get_response_timeoutP8modbus_tP8uint32_tP8uint32_t"><code class="docutils literal notranslate"><span class="pre">modbus_get_response_timeout()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416modbus_set_debugP8modbus_ti"><code class="docutils literal notranslate"><span class="pre">modbus_set_debug()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421modbus_read_registersP8modbus_tiiP8uint16_t"><code class="docutils literal notranslate"><span class="pre">modbus_read_registers()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421modbus_write_registerP8modbus_tii"><code class="docutils literal notranslate"><span class="pre">modbus_write_register()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422modbus_write_registersP8modbus_tiiPK8uint16_t"><code class="docutils literal notranslate"><span class="pre">modbus_write_registers()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv48modbus_t"><code class="docutils literal notranslate"><span class="pre">modbus_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412modbus_flushP8modbus_t"><code class="docutils literal notranslate"><span class="pre">modbus_flush()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415modbus_strerrori"><code class="docutils literal notranslate"><span class="pre">modbus_strerror()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412modbus_errno"><code class="docutils literal notranslate"><span class="pre">modbus_errno</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBXILFUN"><code class="docutils literal notranslate"><span class="pre">EMBXILFUN</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBXILADR"><code class="docutils literal notranslate"><span class="pre">EMBXILADR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBXILVAL"><code class="docutils literal notranslate"><span class="pre">EMBXILVAL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBXSFAIL"><code class="docutils literal notranslate"><span class="pre">EMBXSFAIL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBXACK"><code class="docutils literal notranslate"><span class="pre">EMBXACK</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBXSBUSY"><code class="docutils literal notranslate"><span class="pre">EMBXSBUSY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBXNACK"><code class="docutils literal notranslate"><span class="pre">EMBXNACK</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBXMEMPAR"><code class="docutils literal notranslate"><span class="pre">EMBXMEMPAR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBXGPATH"><code class="docutils literal notranslate"><span class="pre">EMBXGPATH</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBXGTAR"><code class="docutils literal notranslate"><span class="pre">EMBXGTAR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBBADCRC"><code class="docutils literal notranslate"><span class="pre">EMBBADCRC</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBBADDATA"><code class="docutils literal notranslate"><span class="pre">EMBBADDATA</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBADSLAVE"><code class="docutils literal notranslate"><span class="pre">EMBADSLAVE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBMDATA"><code class="docutils literal notranslate"><span class="pre">EMBMDATA</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBEDATA"><code class="docutils literal notranslate"><span class="pre">EMBEDATA</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBEBUSY"><code class="docutils literal notranslate"><span class="pre">EMBEBUSY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBETIMEDOUT"><code class="docutils literal notranslate"><span class="pre">EMBETIMEDOUT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBECONNRESET"><code class="docutils literal notranslate"><span class="pre">EMBECONNRESET</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.EMBEILLSTATE"><code class="docutils literal notranslate"><span class="pre">EMBEILLSTATE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_BUILD_CLIENT"><code class="docutils literal notranslate"><span class="pre">MB_CONF_BUILD_CLIENT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_BUILD_SERVER"><code class="docutils literal notranslate"><span class="pre">MB_CONF_BUILD_SERVER</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_TRANSPORT_RTU"><code class="docutils literal notranslate"><span class="pre">MB_CONF_TRANSPORT_RTU</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_TRANSPORT_ASCII"><code class="docutils literal notranslate"><span class="pre">MB_CONF_TRANSPORT_ASCII</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_TRANSPORT_TCP"><code class="docutils literal notranslate"><span class="pre">MB_CONF_TRANSPORT_TCP</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_PROFILE_TINY"><code class="docutils literal notranslate"><span class="pre">MB_CONF_PROFILE_TINY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_PROFILE_LEAN"><code class="docutils literal notranslate"><span class="pre">MB_CONF_PROFILE_LEAN</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_PROFILE_FULL"><code class="docutils literal notranslate"><span class="pre">MB_CONF_PROFILE_FULL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_PROFILE_CUSTOM"><code class="docutils literal notranslate"><span class="pre">MB_CONF_PROFILE_CUSTOM</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_PROFILE"><code class="docutils literal notranslate"><span class="pre">MB_CONF_PROFILE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC01"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC01</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC02"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC02</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC03"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC03</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC04"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC04</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC05"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC05</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC06"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC06</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC07"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC07</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC0F"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC0F</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC10"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC10</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC11"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC11</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC16"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC16</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_FC17"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_FC17</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_DIAG_ENABLE_COUNTERS"><code class="docutils literal notranslate"><span class="pre">MB_CONF_DIAG_ENABLE_COUNTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_DIAG_ENABLE_TRACE"><code class="docutils literal notranslate"><span class="pre">MB_CONF_DIAG_ENABLE_TRACE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_DIAG_TRACE_DEPTH"><code class="docutils literal notranslate"><span class="pre">MB_CONF_DIAG_TRACE_DEPTH</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_POWER_MANAGEMENT"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_POWER_MANAGEMENT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_COMPAT_LIBMODBUS"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_COMPAT_LIBMODBUS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_ENABLED"><code class="docutils literal notranslate"><span class="pre">LOG_ENABLED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MAX_SIZE_HOLDING_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MAX_SIZE_HOLDING_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MAX_ADDRESS_HOLDING_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MAX_ADDRESS_HOLDING_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MODBUS_MAX_READ_WRITE_SIZE"><code class="docutils literal notranslate"><span class="pre">MODBUS_MAX_READ_WRITE_SIZE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MAX_DEVICE_PACKAGES"><code class="docutils literal notranslate"><span class="pre">MAX_DEVICE_PACKAGES</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MAX_DEVICE_PACKAGE_VALUES"><code class="docutils literal notranslate"><span class="pre">MAX_DEVICE_PACKAGE_VALUES</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MODBUS_BAUDRATE"><code class="docutils literal notranslate"><span class="pre">MODBUS_BAUDRATE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_IOVEC_STATS"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_IOVEC_STATS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MODBUS_RECEIVE_BUFFER_SIZE"><code class="docutils literal notranslate"><span class="pre">MODBUS_RECEIVE_BUFFER_SIZE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MODBUS_SEND_BUFFER_SIZE"><code class="docutils literal notranslate"><span class="pre">MODBUS_SEND_BUFFER_SIZE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MASTER_DEFAULT_TIMEOUT_MS"><code class="docutils literal notranslate"><span class="pre">MASTER_DEFAULT_TIMEOUT_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_TCP_MAX_CONNECTIONS"><code class="docutils literal notranslate"><span class="pre">MB_TCP_MAX_CONNECTIONS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_CLIENT_POLL_BUDGET_STEPS"><code class="docutils literal notranslate"><span class="pre">MB_CONF_CLIENT_POLL_BUDGET_STEPS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_SERVER_POLL_BUDGET_STEPS"><code class="docutils literal notranslate"><span class="pre">MB_CONF_SERVER_POLL_BUDGET_STEPS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_CLIENT_SUBSTATE_DEADLINE_MS"><code class="docutils literal notranslate"><span class="pre">MB_CONF_CLIENT_SUBSTATE_DEADLINE_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_SERVER_SUBSTATE_DEADLINE_MS"><code class="docutils literal notranslate"><span class="pre">MB_CONF_SERVER_SUBSTATE_DEADLINE_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_CLIENT_POLL_HOOK"><code class="docutils literal notranslate"><span class="pre">MB_CONF_CLIENT_POLL_HOOK</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_SERVER_POLL_HOOK"><code class="docutils literal notranslate"><span class="pre">MB_CONF_SERVER_POLL_HOOK</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_ISR_MODE"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_ISR_MODE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ISR_SUPPRESS_LOGGING"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ISR_SUPPRESS_LOGGING</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_ASSERTIONS"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_ASSERTIONS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_ENABLE_QOS"><code class="docutils literal notranslate"><span class="pre">MB_CONF_ENABLE_QOS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_QOS_HIGH_QUEUE_CAPACITY"><code class="docutils literal notranslate"><span class="pre">MB_CONF_QOS_HIGH_QUEUE_CAPACITY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CONF_QOS_NORMAL_QUEUE_CAPACITY"><code class="docutils literal notranslate"><span class="pre">MB_CONF_QOS_NORMAL_QUEUE_CAPACITY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427mb_conf_client_poll_phase_t"><code class="docutils literal notranslate"><span class="pre">mb_conf_client_poll_phase_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427mb_conf_server_poll_phase_t"><code class="docutils literal notranslate"><span class="pre">mb_conf_server_poll_phase_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425mb_conf_client_poll_phase"><code class="docutils literal notranslate"><span class="pre">mb_conf_client_poll_phase</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N25mb_conf_client_poll_phase31MB_CONF_CLIENT_POLL_PHASE_ENTERE"><code class="docutils literal notranslate"><span class="pre">MB_CONF_CLIENT_POLL_PHASE_ENTER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N25mb_conf_client_poll_phase41MB_CONF_CLIENT_POLL_PHASE_AFTER_TRANSPORTE"><code class="docutils literal notranslate"><span class="pre">MB_CONF_CLIENT_POLL_PHASE_AFTER_TRANSPORT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N25mb_conf_client_poll_phase37MB_CONF_CLIENT_POLL_PHASE_AFTER_STATEE"><code class="docutils literal notranslate"><span class="pre">MB_CONF_CLIENT_POLL_PHASE_AFTER_STATE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N25mb_conf_client_poll_phase30MB_CONF_CLIENT_POLL_PHASE_EXITE"><code class="docutils literal notranslate"><span class="pre">MB_CONF_CLIENT_POLL_PHASE_EXIT</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425mb_conf_server_poll_phase"><code class="docutils literal notranslate"><span class="pre">mb_conf_server_poll_phase</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N25mb_conf_server_poll_phase31MB_CONF_SERVER_POLL_PHASE_ENTERE"><code class="docutils literal notranslate"><span class="pre">MB_CONF_SERVER_POLL_PHASE_ENTER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N25mb_conf_server_poll_phase41MB_CONF_SERVER_POLL_PHASE_AFTER_TRANSPORTE"><code class="docutils literal notranslate"><span class="pre">MB_CONF_SERVER_POLL_PHASE_AFTER_TRANSPORT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N25mb_conf_server_poll_phase37MB_CONF_SERVER_POLL_PHASE_AFTER_STATEE"><code class="docutils literal notranslate"><span class="pre">MB_CONF_SERVER_POLL_PHASE_AFTER_STATE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N25mb_conf_server_poll_phase30MB_CONF_SERVER_POLL_PHASE_EXITE"><code class="docutils literal notranslate"><span class="pre">MB_CONF_SERVER_POLL_PHASE_EXIT</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422modbus_function_code_t"><code class="docutils literal notranslate"><span class="pre">modbus_function_code_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22modbus_function_code_t22MODBUS_FUNC_READ_COILSE"><code class="docutils literal notranslate"><span class="pre">MODBUS_FUNC_READ_COILS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22modbus_function_code_t32MODBUS_FUNC_READ_DISCRETE_INPUTSE"><code class="docutils literal notranslate"><span class="pre">MODBUS_FUNC_READ_DISCRETE_INPUTS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22modbus_function_code_t34MODBUS_FUNC_READ_HOLDING_REGISTERSE"><code class="docutils literal notranslate"><span class="pre">MODBUS_FUNC_READ_HOLDING_REGISTERS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22modbus_function_code_t32MODBUS_FUNC_READ_INPUT_REGISTERSE"><code class="docutils literal notranslate"><span class="pre">MODBUS_FUNC_READ_INPUT_REGISTERS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22modbus_function_code_t29MODBUS_FUNC_WRITE_SINGLE_COILE"><code class="docutils literal notranslate"><span class="pre">MODBUS_FUNC_WRITE_SINGLE_COIL</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22modbus_function_code_t33MODBUS_FUNC_WRITE_SINGLE_REGISTERE"><code class="docutils literal notranslate"><span class="pre">MODBUS_FUNC_WRITE_SINGLE_REGISTER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22modbus_function_code_t32MODBUS_FUNC_WRITE_MULTIPLE_COILSE"><code class="docutils literal notranslate"><span class="pre">MODBUS_FUNC_WRITE_MULTIPLE_COILS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22modbus_function_code_t36MODBUS_FUNC_WRITE_MULTIPLE_REGISTERSE"><code class="docutils literal notranslate"><span class="pre">MODBUS_FUNC_WRITE_MULTIPLE_REGISTERS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22modbus_function_code_t41MODBUS_FUNC_READ_WRITE_MULTIPLE_REGISTERSE"><code class="docutils literal notranslate"><span class="pre">MODBUS_FUNC_READ_WRITE_MULTIPLE_REGISTERS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22modbus_function_code_t35MODBUS_FUNC_READ_DEVICE_INFORMATIONE"><code class="docutils literal notranslate"><span class="pre">MODBUS_FUNC_READ_DEVICE_INFORMATION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N22modbus_function_code_t30MODBUS_FUNC_ERROR_FRAME_HEADERE"><code class="docutils literal notranslate"><span class="pre">MODBUS_FUNC_ERROR_FRAME_HEADER</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424modbus_is_error_response7uint8_t"><code class="docutils literal notranslate"><span class="pre">modbus_is_error_response()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425modbus_exception_to_error7uint8_t"><code class="docutils literal notranslate"><span class="pre">modbus_exception_to_error()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420modbus_reset_buffersP16modbus_context_t"><code class="docutils literal notranslate"><span class="pre">modbus_reset_buffers()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_DUP_WINDOW_SIZE"><code class="docutils literal notranslate"><span class="pre">MB_DUP_WINDOW_SIZE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_DUP_WINDOW_MS"><code class="docutils literal notranslate"><span class="pre">MB_DUP_WINDOW_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_dup_filter_initP15mb_dup_filter_t8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_dup_filter_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411mb_adu_hash7uint8_t7uint8_tPK7uint8_t6size_t"><code class="docutils literal notranslate"><span class="pre">mb_adu_hash()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_dup_filter_checkP15mb_dup_filter_t8uint32_t8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_dup_filter_check()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_dup_filter_addP15mb_dup_filter_t8uint32_t8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_dup_filter_add()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_dup_filter_age_outP15mb_dup_filter_t8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_dup_filter_age_out()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_dup_filter_get_statsPK15mb_dup_filter_tP8uint32_tP8uint32_tP8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_dup_filter_get_stats()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425mb_dup_filter_reset_statsP15mb_dup_filter_t"><code class="docutils literal notranslate"><span class="pre">mb_dup_filter_reset_stats()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_dup_filter_clearP15mb_dup_filter_t"><code class="docutils literal notranslate"><span class="pre">mb_dup_filter_clear()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_feature_profile_t"><code class="docutils literal notranslate"><span class="pre">mb_feature_profile_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_frame_rtu_encodePK13mb_adu_view_tP5mb_u89mb_size_tP9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_frame_rtu_encode()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_frame_rtu_decodePK5mb_u89mb_size_tP13mb_adu_view_t"><code class="docutils literal notranslate"><span class="pre">mb_frame_rtu_decode()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_INIT"><code class="docutils literal notranslate"><span class="pre">LOG_INIT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_SUBSCRIBE"><code class="docutils literal notranslate"><span class="pre">LOG_SUBSCRIBE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_UNSUBSCRIBE"><code class="docutils literal notranslate"><span class="pre">LOG_UNSUBSCRIBE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_LEVEL_NAME"><code class="docutils literal notranslate"><span class="pre">LOG_LEVEL_NAME</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG"><code class="docutils literal notranslate"><span class="pre">LOG</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_TRACE"><code class="docutils literal notranslate"><span class="pre">LOG_TRACE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_DEBUG"><code class="docutils literal notranslate"><span class="pre">LOG_DEBUG</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_INFO"><code class="docutils literal notranslate"><span class="pre">LOG_INFO</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_WARNING"><code class="docutils literal notranslate"><span class="pre">LOG_WARNING</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_ERROR"><code class="docutils literal notranslate"><span class="pre">LOG_ERROR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_CRITICAL"><code class="docutils literal notranslate"><span class="pre">LOG_CRITICAL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_ALWAYS"><code class="docutils literal notranslate"><span class="pre">LOG_ALWAYS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_MAX_SUBSCRIBERS"><code class="docutils literal notranslate"><span class="pre">LOG_MAX_SUBSCRIBERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.LOG_MAX_MESSAGE_LENGTH"><code class="docutils literal notranslate"><span class="pre">LOG_MAX_MESSAGE_LENGTH</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414log_function_t"><code class="docutils literal notranslate"><span class="pre">log_function_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411log_level_t"><code class="docutils literal notranslate"><span class="pre">log_level_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11log_level_t15LOG_TRACE_LEVELE"><code class="docutils literal notranslate"><span class="pre">LOG_TRACE_LEVEL</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11log_level_t15LOG_DEBUG_LEVELE"><code class="docutils literal notranslate"><span class="pre">LOG_DEBUG_LEVEL</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11log_level_t14LOG_INFO_LEVELE"><code class="docutils literal notranslate"><span class="pre">LOG_INFO_LEVEL</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11log_level_t17LOG_WARNING_LEVELE"><code class="docutils literal notranslate"><span class="pre">LOG_WARNING_LEVEL</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11log_level_t15LOG_ERROR_LEVELE"><code class="docutils literal notranslate"><span class="pre">LOG_ERROR_LEVEL</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11log_level_t18LOG_CRITICAL_LEVELE"><code class="docutils literal notranslate"><span class="pre">LOG_CRITICAL_LEVEL</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11log_level_t16LOG_ALWAYS_LEVELE"><code class="docutils literal notranslate"><span class="pre">LOG_ALWAYS_LEVEL</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv49log_err_t"><code class="docutils literal notranslate"><span class="pre">log_err_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9log_err_t12LOG_ERR_NONEE"><code class="docutils literal notranslate"><span class="pre">LOG_ERR_NONE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9log_err_t28LOG_ERR_SUBSCRIBERS_EXCEEDEDE"><code class="docutils literal notranslate"><span class="pre">LOG_ERR_SUBSCRIBERS_EXCEEDED</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N9log_err_t22LOG_ERR_NOT_SUBSCRIBEDE"><code class="docutils literal notranslate"><span class="pre">LOG_ERR_NOT_SUBSCRIBED</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv48log_initv"><code class="docutils literal notranslate"><span class="pre">log_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413log_subscribe14log_function_t11log_level_t"><code class="docutils literal notranslate"><span class="pre">log_subscribe()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415log_unsubscribe14log_function_t"><code class="docutils literal notranslate"><span class="pre">log_unsubscribe()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414log_level_name11log_level_t"><code class="docutils literal notranslate"><span class="pre">log_level_name()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411log_message11log_level_tPKcz"><code class="docutils literal notranslate"><span class="pre">log_message()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EMBED_CLIENT_POOL_MIN"><code class="docutils literal notranslate"><span class="pre">MB_EMBED_CLIENT_POOL_MIN</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EMBED_REQUEST_OPTS_INIT"><code class="docutils literal notranslate"><span class="pre">MB_EMBED_REQUEST_OPTS_INIT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv429mb_embed_request_opts_defaultv"><code class="docutils literal notranslate"><span class="pre">mb_embed_request_opts_default()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv436mb_embed_request_opts_apply_defaultsP23mb_embed_request_opts_t"><code class="docutils literal notranslate"><span class="pre">mb_embed_request_opts_apply_defaults()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426mb_embed_client_submit_rawP11mb_client_t5mb_u8PK5mb_u89mb_size_tPK23mb_embed_request_opts_tPP15mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">mb_embed_client_submit_raw()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv428mb_embed_parse_exception_aduPK13mb_adu_view_tP5mb_u8"><code class="docutils literal notranslate"><span class="pre">mb_embed_parse_exception_adu()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_OK"><code class="docutils literal notranslate"><span class="pre">MB_OK</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ERR_INVALID_ARGUMENT"><code class="docutils literal notranslate"><span class="pre">MB_ERR_INVALID_ARGUMENT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ERR_TIMEOUT"><code class="docutils literal notranslate"><span class="pre">MB_ERR_TIMEOUT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ERR_TRANSPORT"><code class="docutils literal notranslate"><span class="pre">MB_ERR_TRANSPORT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ERR_CRC"><code class="docutils literal notranslate"><span class="pre">MB_ERR_CRC</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ERR_INVALID_REQUEST"><code class="docutils literal notranslate"><span class="pre">MB_ERR_INVALID_REQUEST</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ERR_OTHER_REQUESTS"><code class="docutils literal notranslate"><span class="pre">MB_ERR_OTHER_REQUESTS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ERR_OTHER"><code class="docutils literal notranslate"><span class="pre">MB_ERR_OTHER</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ERR_CANCELLED"><code class="docutils literal notranslate"><span class="pre">MB_ERR_CANCELLED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ERR_NO_RESOURCES"><code class="docutils literal notranslate"><span class="pre">MB_ERR_NO_RESOURCES</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ERR_BUSY"><code class="docutils literal notranslate"><span class="pre">MB_ERR_BUSY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EX_ILLEGAL_FUNCTION"><code class="docutils literal notranslate"><span class="pre">MB_EX_ILLEGAL_FUNCTION</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EX_ILLEGAL_DATA_ADDRESS"><code class="docutils literal notranslate"><span class="pre">MB_EX_ILLEGAL_DATA_ADDRESS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EX_ILLEGAL_DATA_VALUE"><code class="docutils literal notranslate"><span class="pre">MB_EX_ILLEGAL_DATA_VALUE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EX_SERVER_DEVICE_FAILURE"><code class="docutils literal notranslate"><span class="pre">MB_EX_SERVER_DEVICE_FAILURE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EX_ACKNOWLEDGE"><code class="docutils literal notranslate"><span class="pre">MB_EX_ACKNOWLEDGE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EX_SERVER_DEVICE_BUSY"><code class="docutils literal notranslate"><span class="pre">MB_EX_SERVER_DEVICE_BUSY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EX_NEGATIVE_ACKNOWLEDGE"><code class="docutils literal notranslate"><span class="pre">MB_EX_NEGATIVE_ACKNOWLEDGE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EX_MEMORY_PARITY_ERROR"><code class="docutils literal notranslate"><span class="pre">MB_EX_MEMORY_PARITY_ERROR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EX_GATEWAY_PATH_UNAVAILABLE"><code class="docutils literal notranslate"><span class="pre">MB_EX_GATEWAY_PATH_UNAVAILABLE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_EX_GATEWAY_TARGET_FAILED"><code class="docutils literal notranslate"><span class="pre">MB_EX_GATEWAY_TARGET_FAILED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414modbus_error_t"><code class="docutils literal notranslate"><span class="pre">modbus_error_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv48mb_err_t"><code class="docutils literal notranslate"><span class="pre">mb_err_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412modbus_error"><code class="docutils literal notranslate"><span class="pre">modbus_error</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error17MODBUS_ERROR_NONEE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ERROR_NONE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error29MODBUS_ERROR_INVALID_ARGUMENTE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ERROR_INVALID_ARGUMENT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error20MODBUS_ERROR_TIMEOUTE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ERROR_TIMEOUT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error22MODBUS_ERROR_TRANSPORTE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ERROR_TRANSPORT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error16MODBUS_ERROR_CRCE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ERROR_CRC</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error28MODBUS_ERROR_INVALID_REQUESTE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ERROR_INVALID_REQUEST</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error27MODBUS_ERROR_OTHER_REQUESTSE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ERROR_OTHER_REQUESTS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error22MODBUS_OTHERS_REQUESTSE"><code class="docutils literal notranslate"><span class="pre">MODBUS_OTHERS_REQUESTS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error18MODBUS_ERROR_OTHERE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ERROR_OTHER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error22MODBUS_ERROR_CANCELLEDE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ERROR_CANCELLED</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error25MODBUS_ERROR_NO_RESOURCESE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ERROR_NO_RESOURCES</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error17MODBUS_ERROR_BUSYE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ERROR_BUSY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error33MODBUS_EXCEPTION_ILLEGAL_FUNCTIONE"><code class="docutils literal notranslate"><span class="pre">MODBUS_EXCEPTION_ILLEGAL_FUNCTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error37MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESSE"><code class="docutils literal notranslate"><span class="pre">MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error35MODBUS_EXCEPTION_ILLEGAL_DATA_VALUEE"><code class="docutils literal notranslate"><span class="pre">MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error38MODBUS_EXCEPTION_SERVER_DEVICE_FAILUREE"><code class="docutils literal notranslate"><span class="pre">MODBUS_EXCEPTION_SERVER_DEVICE_FAILURE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error28MODBUS_EXCEPTION_ACKNOWLEDGEE"><code class="docutils literal notranslate"><span class="pre">MODBUS_EXCEPTION_ACKNOWLEDGE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error35MODBUS_EXCEPTION_SERVER_DEVICE_BUSYE"><code class="docutils literal notranslate"><span class="pre">MODBUS_EXCEPTION_SERVER_DEVICE_BUSY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error37MODBUS_EXCEPTION_NEGATIVE_ACKNOWLEDGEE"><code class="docutils literal notranslate"><span class="pre">MODBUS_EXCEPTION_NEGATIVE_ACKNOWLEDGE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error36MODBUS_EXCEPTION_MEMORY_PARITY_ERRORE"><code class="docutils literal notranslate"><span class="pre">MODBUS_EXCEPTION_MEMORY_PARITY_ERROR</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error41MODBUS_EXCEPTION_GATEWAY_PATH_UNAVAILABLEE"><code class="docutils literal notranslate"><span class="pre">MODBUS_EXCEPTION_GATEWAY_PATH_UNAVAILABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N12modbus_error45MODBUS_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILEDE"><code class="docutils literal notranslate"><span class="pre">MODBUS_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILED</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412mb_err_is_ok8mb_err_t"><code class="docutils literal notranslate"><span class="pre">mb_err_is_ok()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410mb_err_str8mb_err_t"><code class="docutils literal notranslate"><span class="pre">mb_err_str()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_err_is_exception14modbus_error_t"><code class="docutils literal notranslate"><span class="pre">mb_err_is_exception()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425modbus_error_is_exception14modbus_error_t"><code class="docutils literal notranslate"><span class="pre">modbus_error_is_exception()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_host_client_t"><code class="docutils literal notranslate"><span class="pre">mb_host_client_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_host_tcp_connectPKc"><code class="docutils literal notranslate"><span class="pre">mb_host_tcp_connect()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_host_rtu_connectPKc8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_host_rtu_connect()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_host_disconnectP16mb_host_client_t"><code class="docutils literal notranslate"><span class="pre">mb_host_disconnect()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_host_read_holdingP16mb_host_client_t7uint8_t8uint16_t8uint16_tP8uint16_t"><code class="docutils literal notranslate"><span class="pre">mb_host_read_holding()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_host_read_inputP16mb_host_client_t7uint8_t8uint16_t8uint16_tP8uint16_t"><code class="docutils literal notranslate"><span class="pre">mb_host_read_input()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_host_read_coilsP16mb_host_client_t7uint8_t8uint16_t8uint16_tP7uint8_t"><code class="docutils literal notranslate"><span class="pre">mb_host_read_coils()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_host_read_discreteP16mb_host_client_t7uint8_t8uint16_t8uint16_tP7uint8_t"><code class="docutils literal notranslate"><span class="pre">mb_host_read_discrete()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv429mb_host_write_single_registerP16mb_host_client_t7uint8_t8uint16_t8uint16_t"><code class="docutils literal notranslate"><span class="pre">mb_host_write_single_register()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425mb_host_write_single_coilP16mb_host_client_t7uint8_t8uint16_tb"><code class="docutils literal notranslate"><span class="pre">mb_host_write_single_coil()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv432mb_host_write_multiple_registersP16mb_host_client_t7uint8_t8uint16_t8uint16_tPK8uint16_t"><code class="docutils literal notranslate"><span class="pre">mb_host_write_multiple_registers()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv428mb_host_write_multiple_coilsP16mb_host_client_t7uint8_t8uint16_t8uint16_tPK7uint8_t"><code class="docutils literal notranslate"><span class="pre">mb_host_write_multiple_coils()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_host_set_timeoutP16mb_host_client_t8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_host_set_timeout()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_host_enable_loggingP16mb_host_client_tb"><code class="docutils literal notranslate"><span class="pre">mb_host_enable_logging()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_host_error_string8mb_err_t"><code class="docutils literal notranslate"><span class="pre">mb_host_error_string()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_host_last_exceptionP16mb_host_client_t"><code class="docutils literal notranslate"><span class="pre">mb_host_last_exception()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_IOVEC_STATS_INC"><code class="docutils literal notranslate"><span class="pre">MB_IOVEC_STATS_INC</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_IOVEC_STATS_MAX"><code class="docutils literal notranslate"><span class="pre">MB_IOVEC_STATS_MAX</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413mb_iovec_initP10mb_iovec_tPK5mb_u89mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_iovec_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_iovec_list_initP15mb_iovec_list_tP10mb_iovec_t9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_iovec_list_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_iovec_list_addP15mb_iovec_list_tPK5mb_u89mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_iovec_list_add()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_iovec_list_totalPK15mb_iovec_list_t"><code class="docutils literal notranslate"><span class="pre">mb_iovec_list_total()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_iovec_list_copyoutPK15mb_iovec_list_tP5mb_u89mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_iovec_list_copyout()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_iovec_list_copyinPK15mb_iovec_list_tPK5mb_u89mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_iovec_list_copyin()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_iovec_from_ringP15mb_iovec_list_tPK5mb_u89mb_size_t9mb_size_t9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_iovec_from_ring()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_IN_ISR"><code class="docutils literal notranslate"><span class="pre">MB_IN_ISR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ISR_SAFE_LOG"><code class="docutils literal notranslate"><span class="pre">MB_ISR_SAFE_LOG</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ASSERT_NOT_ISR"><code class="docutils literal notranslate"><span class="pre">MB_ASSERT_NOT_ISR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_isr_stats_t"><code class="docutils literal notranslate"><span class="pre">mb_isr_stats_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412mb_isr_ctx_t"><code class="docutils literal notranslate"><span class="pre">mb_isr_ctx_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_isr_config_t"><code class="docutils literal notranslate"><span class="pre">mb_isr_config_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv49mb_in_isrv"><code class="docutils literal notranslate"><span class="pre">mb_in_isr()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_set_isr_contextb"><code class="docutils literal notranslate"><span class="pre">mb_set_isr_context()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_on_rx_chunk_from_isrP12mb_isr_ctx_tPK7uint8_t6size_t"><code class="docutils literal notranslate"><span class="pre">mb_on_rx_chunk_from_isr()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_try_tx_from_isrP12mb_isr_ctx_t"><code class="docutils literal notranslate"><span class="pre">mb_try_tx_from_isr()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425mb_get_tx_buffer_from_isrP12mb_isr_ctx_tPPK7uint8_tP6size_t"><code class="docutils literal notranslate"><span class="pre">mb_get_tx_buffer_from_isr()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_tx_complete_from_isrP12mb_isr_ctx_t"><code class="docutils literal notranslate"><span class="pre">mb_tx_complete_from_isr()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_isr_ctx_initP12mb_isr_ctx_tPK15mb_isr_config_t"><code class="docutils literal notranslate"><span class="pre">mb_isr_ctx_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_isr_ctx_deinitP12mb_isr_ctx_t"><code class="docutils literal notranslate"><span class="pre">mb_isr_ctx_deinit()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_isr_get_statsPK12mb_isr_ctx_tP14mb_isr_stats_t"><code class="docutils literal notranslate"><span class="pre">mb_isr_get_stats()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_isr_reset_statsP12mb_isr_ctx_t"><code class="docutils literal notranslate"><span class="pre">mb_isr_reset_stats()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_TRACE_LEVEL"><code class="docutils literal notranslate"><span class="pre">MB_LOG_TRACE_LEVEL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_DEBUG_LEVEL"><code class="docutils literal notranslate"><span class="pre">MB_LOG_DEBUG_LEVEL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_INFO_LEVEL"><code class="docutils literal notranslate"><span class="pre">MB_LOG_INFO_LEVEL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_WARNING_LEVEL"><code class="docutils literal notranslate"><span class="pre">MB_LOG_WARNING_LEVEL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_ERROR_LEVEL"><code class="docutils literal notranslate"><span class="pre">MB_LOG_ERROR_LEVEL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_CRITICAL_LEVEL"><code class="docutils literal notranslate"><span class="pre">MB_LOG_CRITICAL_LEVEL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_ALWAYS_LEVEL"><code class="docutils literal notranslate"><span class="pre">MB_LOG_ALWAYS_LEVEL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_ERR_NONE"><code class="docutils literal notranslate"><span class="pre">MB_LOG_ERR_NONE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_ERR_SUBSCRIBERS_EXCEEDED"><code class="docutils literal notranslate"><span class="pre">MB_LOG_ERR_SUBSCRIBERS_EXCEEDED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_ERR_NOT_SUBSCRIBED"><code class="docutils literal notranslate"><span class="pre">MB_LOG_ERR_NOT_SUBSCRIBED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_ENABLED"><code class="docutils literal notranslate"><span class="pre">MB_LOG_ENABLED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_ENABLE_STDIO"><code class="docutils literal notranslate"><span class="pre">MB_LOG_ENABLE_STDIO</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_ENABLE_SEGGER_RTT"><code class="docutils literal notranslate"><span class="pre">MB_LOG_ENABLE_SEGGER_RTT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_DEFAULT_THRESHOLD"><code class="docutils literal notranslate"><span class="pre">MB_LOG_DEFAULT_THRESHOLD</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_STDOUT_SYNC_FLUSH"><code class="docutils literal notranslate"><span class="pre">MB_LOG_STDOUT_SYNC_FLUSH</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_RTT_CHANNEL"><code class="docutils literal notranslate"><span class="pre">MB_LOG_RTT_CHANNEL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_INIT"><code class="docutils literal notranslate"><span class="pre">MB_LOG_INIT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_SUBSCRIBE"><code class="docutils literal notranslate"><span class="pre">MB_LOG_SUBSCRIBE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_UNSUBSCRIBE"><code class="docutils literal notranslate"><span class="pre">MB_LOG_UNSUBSCRIBE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_LEVEL_NAME"><code class="docutils literal notranslate"><span class="pre">MB_LOG_LEVEL_NAME</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_TRACE"><code class="docutils literal notranslate"><span class="pre">MB_LOG_TRACE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_DEBUG"><code class="docutils literal notranslate"><span class="pre">MB_LOG_DEBUG</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_INFO"><code class="docutils literal notranslate"><span class="pre">MB_LOG_INFO</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_WARNING"><code class="docutils literal notranslate"><span class="pre">MB_LOG_WARNING</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_ERROR"><code class="docutils literal notranslate"><span class="pre">MB_LOG_ERROR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_CRITICAL"><code class="docutils literal notranslate"><span class="pre">MB_LOG_CRITICAL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LOG_ALWAYS"><code class="docutils literal notranslate"><span class="pre">MB_LOG_ALWAYS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_log_level_t"><code class="docutils literal notranslate"><span class="pre">mb_log_level_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412mb_log_err_t"><code class="docutils literal notranslate"><span class="pre">mb_log_err_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_log_function_t"><code class="docutils literal notranslate"><span class="pre">mb_log_function_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425mb_log_bootstrap_defaultsv"><code class="docutils literal notranslate"><span class="pre">mb_log_bootstrap_defaults()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_log_subscribe_stdio14mb_log_level_t"><code class="docutils literal notranslate"><span class="pre">mb_log_subscribe_stdio()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_log_subscribe_rtt14mb_log_level_t"><code class="docutils literal notranslate"><span class="pre">mb_log_subscribe_rtt()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_POWER_SLEEP_WITH_MARGIN"><code class="docutils literal notranslate"><span class="pre">MB_POWER_SLEEP_WITH_MARGIN</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_POWER_SLEEP_IS_WORTH"><code class="docutils literal notranslate"><span class="pre">MB_POWER_SLEEP_IS_WORTH</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_idle_callback_t"><code class="docutils literal notranslate"><span class="pre">mb_idle_callback_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427mb_client_set_idle_callbackPv18mb_idle_callback_tPv6mb_u32"><code class="docutils literal notranslate"><span class="pre">mb_client_set_idle_callback()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425mb_client_get_idle_configPKvP16mb_idle_config_t"><code class="docutils literal notranslate"><span class="pre">mb_client_get_idle_config()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv431mb_client_time_until_next_eventPKv"><code class="docutils literal notranslate"><span class="pre">mb_client_time_until_next_event()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427mb_server_set_idle_callbackPv18mb_idle_callback_tPv6mb_u32"><code class="docutils literal notranslate"><span class="pre">mb_server_set_idle_callback()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425mb_server_get_idle_configPKvP16mb_idle_config_t"><code class="docutils literal notranslate"><span class="pre">mb_server_get_idle_config()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv431mb_server_time_until_next_eventPKv"><code class="docutils literal notranslate"><span class="pre">mb_server_time_until_next_event()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv439mb_client_invoke_idle_callback_internalPv"><code class="docutils literal notranslate"><span class="pre">mb_client_invoke_idle_callback_internal()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv439mb_server_invoke_idle_callback_internalPv"><code class="docutils literal notranslate"><span class="pre">mb_server_invoke_idle_callback_internal()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_QOS_HIGH_PRIORITY_FCS"><code class="docutils literal notranslate"><span class="pre">MB_QOS_HIGH_PRIORITY_FCS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_QOS_DEFAULT_DEADLINE_THRESHOLD_MS"><code class="docutils literal notranslate"><span class="pre">MB_QOS_DEFAULT_DEADLINE_THRESHOLD_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_qos_priority_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_priority_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_qos_policy_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_policy_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_qos_priority_stats_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_priority_stats_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_qos_stats_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_stats_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412mb_qos_ctx_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_ctx_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_qos_config_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_config_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_qos_priority"><code class="docutils literal notranslate"><span class="pre">mb_qos_priority</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_qos_priority20MB_QOS_PRIORITY_HIGHE"><code class="docutils literal notranslate"><span class="pre">MB_QOS_PRIORITY_HIGH</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_qos_priority22MB_QOS_PRIORITY_NORMALE"><code class="docutils literal notranslate"><span class="pre">MB_QOS_PRIORITY_NORMAL</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_qos_priority19MB_QOS_PRIORITY_MAXE"><code class="docutils literal notranslate"><span class="pre">MB_QOS_PRIORITY_MAX</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413mb_qos_policy"><code class="docutils literal notranslate"><span class="pre">mb_qos_policy</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_policy22MB_QOS_POLICY_FC_BASEDE"><code class="docutils literal notranslate"><span class="pre">MB_QOS_POLICY_FC_BASED</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_policy28MB_QOS_POLICY_DEADLINE_BASEDE"><code class="docutils literal notranslate"><span class="pre">MB_QOS_POLICY_DEADLINE_BASED</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_policy25MB_QOS_POLICY_APPLICATIONE"><code class="docutils literal notranslate"><span class="pre">MB_QOS_POLICY_APPLICATION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13mb_qos_policy20MB_QOS_POLICY_HYBRIDE"><code class="docutils literal notranslate"><span class="pre">MB_QOS_POLICY_HYBRID</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_qos_ctx_initP12mb_qos_ctx_tPK15mb_qos_config_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_ctx_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_qos_ctx_deinitP12mb_qos_ctx_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_ctx_deinit()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_qos_enqueueP12mb_qos_ctx_tPv"><code class="docutils literal notranslate"><span class="pre">mb_qos_enqueue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_qos_dequeueP12mb_qos_ctx_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_dequeue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_qos_completeP12mb_qos_ctx_tPv"><code class="docutils literal notranslate"><span class="pre">mb_qos_complete()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_qos_get_priorityPK12mb_qos_ctx_tPKv"><code class="docutils literal notranslate"><span class="pre">mb_qos_get_priority()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426mb_qos_is_high_priority_fc7uint8_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_is_high_priority_fc()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_qos_get_statsPK12mb_qos_ctx_tP14mb_qos_stats_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_get_stats()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_qos_reset_statsP12mb_qos_ctx_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_reset_stats()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_QUEUE_HAS_ATOMICS"><code class="docutils literal notranslate"><span class="pre">MB_QUEUE_HAS_ATOMICS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_atomic_size_t"><code class="docutils literal notranslate"><span class="pre">mb_atomic_size_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_queue_spsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_spsc_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_mpsc_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_queue_spsc_initP15mb_queue_spsc_tPPv6size_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_spsc_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_queue_spsc_deinitP15mb_queue_spsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_spsc_deinit()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_queue_spsc_enqueueP15mb_queue_spsc_tPv"><code class="docutils literal notranslate"><span class="pre">mb_queue_spsc_enqueue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_queue_spsc_dequeueP15mb_queue_spsc_tPPv"><code class="docutils literal notranslate"><span class="pre">mb_queue_spsc_dequeue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_queue_spsc_sizePK15mb_queue_spsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_spsc_size()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_queue_spsc_capacityPK15mb_queue_spsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_spsc_capacity()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_queue_spsc_high_waterPK15mb_queue_spsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_spsc_high_water()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_queue_spsc_is_emptyPK15mb_queue_spsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_spsc_is_empty()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_queue_spsc_is_fullPK15mb_queue_spsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_spsc_is_full()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_queue_mpsc_initP15mb_queue_mpsc_tPPv6size_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_mpsc_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_queue_mpsc_deinitP15mb_queue_mpsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_mpsc_deinit()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_queue_mpsc_enqueueP15mb_queue_mpsc_tPv"><code class="docutils literal notranslate"><span class="pre">mb_queue_mpsc_enqueue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_queue_mpsc_dequeueP15mb_queue_mpsc_tPPv"><code class="docutils literal notranslate"><span class="pre">mb_queue_mpsc_dequeue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_queue_mpsc_sizePK15mb_queue_mpsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_mpsc_size()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_queue_mpsc_capacityPK15mb_queue_mpsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_mpsc_capacity()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_queue_mpsc_high_waterPK15mb_queue_mpsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_mpsc_high_water()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_queue_mpsc_is_emptyPK15mb_queue_mpsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_mpsc_is_empty()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_queue_mpsc_is_fullPK15mb_queue_mpsc_t"><code class="docutils literal notranslate"><span class="pre">mb_queue_mpsc_is_full()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_txpool_stats_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_stats_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411mb_txpool_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_txpool_initP11mb_txpool_tPv6size_t6size_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_txpool_resetP11mb_txpool_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_reset()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_txpool_acquireP11mb_txpool_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_acquire()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_txpool_releaseP11mb_txpool_tPv"><code class="docutils literal notranslate"><span class="pre">mb_txpool_release()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_txpool_get_statsPK11mb_txpool_tP17mb_txpool_stats_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_get_stats()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_txpool_capacityPK11mb_txpool_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_capacity()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_txpool_availablePK11mb_txpool_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_available()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_txpool_in_usePK11mb_txpool_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_in_use()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_txpool_high_waterPK11mb_txpool_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_high_water()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_txpool_is_emptyPK11mb_txpool_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_is_empty()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_txpool_has_leaksPK11mb_txpool_t"><code class="docutils literal notranslate"><span class="pre">mb_txpool_has_leaks()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_STATIC_ASSERT"><code class="docutils literal notranslate"><span class="pre">MB_STATIC_ASSERT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_COUNTOF"><code class="docutils literal notranslate"><span class="pre">MB_COUNTOF</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PACKED"><code class="docutils literal notranslate"><span class="pre">MB_PACKED</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_LIKELY"><code class="docutils literal notranslate"><span class="pre">MB_LIKELY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_UNLIKELY"><code class="docutils literal notranslate"><span class="pre">MB_UNLIKELY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_IS_POWER_OF_TWO"><code class="docutils literal notranslate"><span class="pre">MB_IS_POWER_OF_TWO</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_ALIGN_UP"><code class="docutils literal notranslate"><span class="pre">MB_ALIGN_UP</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv45mb_i8"><code class="docutils literal notranslate"><span class="pre">mb_i8</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv45mb_u8"><code class="docutils literal notranslate"><span class="pre">mb_u8</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv46mb_i16"><code class="docutils literal notranslate"><span class="pre">mb_i16</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv46mb_u16"><code class="docutils literal notranslate"><span class="pre">mb_u16</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv46mb_i32"><code class="docutils literal notranslate"><span class="pre">mb_i32</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv46mb_u32"><code class="docutils literal notranslate"><span class="pre">mb_u32</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv46mb_i64"><code class="docutils literal notranslate"><span class="pre">mb_i64</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv46mb_u64"><code class="docutils literal notranslate"><span class="pre">mb_u64</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv49mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_size_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412mb_ptrdiff_t"><code class="docutils literal notranslate"><span class="pre">mb_ptrdiff_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412mb_uintptr_t"><code class="docutils literal notranslate"><span class="pre">mb_uintptr_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411mb_intptr_t"><code class="docutils literal notranslate"><span class="pre">mb_intptr_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">mb_time_ms_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_poll_rx_phase_t"><code class="docutils literal notranslate"><span class="pre">mb_poll_rx_phase_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_poll_rx_phase_t21MB_POLL_RX_PHASE_IDLEE"><code class="docutils literal notranslate"><span class="pre">MB_POLL_RX_PHASE_IDLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_poll_rx_phase_t23MB_POLL_RX_PHASE_HEADERE"><code class="docutils literal notranslate"><span class="pre">MB_POLL_RX_PHASE_HEADER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_poll_rx_phase_t21MB_POLL_RX_PHASE_BODYE"><code class="docutils literal notranslate"><span class="pre">MB_POLL_RX_PHASE_BODY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_poll_rx_phase_t25MB_POLL_RX_PHASE_VALIDATEE"><code class="docutils literal notranslate"><span class="pre">MB_POLL_RX_PHASE_VALIDATE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_poll_rx_phase_t25MB_POLL_RX_PHASE_DISPATCHE"><code class="docutils literal notranslate"><span class="pre">MB_POLL_RX_PHASE_DISPATCH</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_poll_tx_phase_t"><code class="docutils literal notranslate"><span class="pre">mb_poll_tx_phase_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_poll_tx_phase_t21MB_POLL_TX_PHASE_IDLEE"><code class="docutils literal notranslate"><span class="pre">MB_POLL_TX_PHASE_IDLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_poll_tx_phase_t22MB_POLL_TX_PHASE_BUILDE"><code class="docutils literal notranslate"><span class="pre">MB_POLL_TX_PHASE_BUILD</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_poll_tx_phase_t21MB_POLL_TX_PHASE_SENDE"><code class="docutils literal notranslate"><span class="pre">MB_POLL_TX_PHASE_SEND</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_poll_tx_phase_t22MB_POLL_TX_PHASE_DRAINE"><code class="docutils literal notranslate"><span class="pre">MB_POLL_TX_PHASE_DRAIN</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412mb_mempool_t"><code class="docutils literal notranslate"><span class="pre">mb_mempool_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_mempool_initP12mb_mempool_tPv9mb_size_t9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_mempool_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_mempool_resetP12mb_mempool_t"><code class="docutils literal notranslate"><span class="pre">mb_mempool_reset()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_mempool_acquireP12mb_mempool_t"><code class="docutils literal notranslate"><span class="pre">mb_mempool_acquire()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_mempool_releaseP12mb_mempool_tPv"><code class="docutils literal notranslate"><span class="pre">mb_mempool_release()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_mempool_capacityPK12mb_mempool_t"><code class="docutils literal notranslate"><span class="pre">mb_mempool_capacity()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_mempool_free_countPK12mb_mempool_t"><code class="docutils literal notranslate"><span class="pre">mb_mempool_free_count()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_mempool_containsPK12mb_mempool_tPKv"><code class="docutils literal notranslate"><span class="pre">mb_mempool_contains()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410mb_event_t"><code class="docutils literal notranslate"><span class="pre">mb_event_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_event_callback_t"><code class="docutils literal notranslate"><span class="pre">mb_event_callback_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_event_source_t"><code class="docutils literal notranslate"><span class="pre">mb_event_source_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_event_source_t22MB_EVENT_SOURCE_CLIENTE"><code class="docutils literal notranslate"><span class="pre">MB_EVENT_SOURCE_CLIENT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_event_source_t22MB_EVENT_SOURCE_SERVERE"><code class="docutils literal notranslate"><span class="pre">MB_EVENT_SOURCE_SERVER</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_event_type_t"><code class="docutils literal notranslate"><span class="pre">mb_event_type_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_event_type_t27MB_EVENT_CLIENT_STATE_ENTERE"><code class="docutils literal notranslate"><span class="pre">MB_EVENT_CLIENT_STATE_ENTER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_event_type_t26MB_EVENT_CLIENT_STATE_EXITE"><code class="docutils literal notranslate"><span class="pre">MB_EVENT_CLIENT_STATE_EXIT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_event_type_t25MB_EVENT_CLIENT_TX_SUBMITE"><code class="docutils literal notranslate"><span class="pre">MB_EVENT_CLIENT_TX_SUBMIT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_event_type_t27MB_EVENT_CLIENT_TX_COMPLETEE"><code class="docutils literal notranslate"><span class="pre">MB_EVENT_CLIENT_TX_COMPLETE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_event_type_t27MB_EVENT_SERVER_STATE_ENTERE"><code class="docutils literal notranslate"><span class="pre">MB_EVENT_SERVER_STATE_ENTER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_event_type_t26MB_EVENT_SERVER_STATE_EXITE"><code class="docutils literal notranslate"><span class="pre">MB_EVENT_SERVER_STATE_EXIT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_event_type_t30MB_EVENT_SERVER_REQUEST_ACCEPTE"><code class="docutils literal notranslate"><span class="pre">MB_EVENT_SERVER_REQUEST_ACCEPT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N15mb_event_type_t32MB_EVENT_SERVER_REQUEST_COMPLETEE"><code class="docutils literal notranslate"><span class="pre">MB_EVENT_SERVER_REQUEST_COMPLETE</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_diag_err_slot_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_err_slot_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t19MB_DIAG_ERR_SLOT_OKE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_OK</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t33MB_DIAG_ERR_SLOT_INVALID_ARGUMENTE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_INVALID_ARGUMENT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t24MB_DIAG_ERR_SLOT_TIMEOUTE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_TIMEOUT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t26MB_DIAG_ERR_SLOT_TRANSPORTE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_TRANSPORT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t20MB_DIAG_ERR_SLOT_CRCE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_CRC</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t32MB_DIAG_ERR_SLOT_INVALID_REQUESTE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_INVALID_REQUEST</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t31MB_DIAG_ERR_SLOT_OTHER_REQUESTSE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_OTHER_REQUESTS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t22MB_DIAG_ERR_SLOT_OTHERE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_OTHER</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t26MB_DIAG_ERR_SLOT_CANCELLEDE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_CANCELLED</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t29MB_DIAG_ERR_SLOT_NO_RESOURCESE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_NO_RESOURCES</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t43MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_FUNCTIONE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_FUNCTION</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t47MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_ADDRESSE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_ADDRESS</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t45MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_VALUEE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_VALUE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t48MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_FAILUREE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_FAILURE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t38MB_DIAG_ERR_SLOT_EXCEPTION_ACKNOWLEDGEE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ACKNOWLEDGE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t45MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_BUSYE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_BUSY</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t47MB_DIAG_ERR_SLOT_EXCEPTION_NEGATIVE_ACKNOWLEDGEE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_NEGATIVE_ACKNOWLEDGE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t46MB_DIAG_ERR_SLOT_EXCEPTION_MEMORY_PARITY_ERRORE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_MEMORY_PARITY_ERROR</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t51MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_PATH_UNAVAILABLEE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_PATH_UNAVAILABLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t55MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILEDE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILED</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t20MB_DIAG_ERR_SLOT_MAXE"><code class="docutils literal notranslate"><span class="pre">MB_DIAG_ERR_SLOT_MAX</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413mb_diag_resetP18mb_diag_counters_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_reset()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_diag_record_fcP18mb_diag_counters_t5mb_u8"><code class="docutils literal notranslate"><span class="pre">mb_diag_record_fc()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_diag_record_errorP18mb_diag_counters_t8mb_err_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_record_error()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_diag_slot_from_error8mb_err_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_slot_from_error()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_diag_err_slot_str18mb_diag_err_slot_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_err_slot_str()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_diag_state_initP15mb_diag_state_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_state_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_diag_state_resetP15mb_diag_state_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_state_reset()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_diag_state_record_fcP15mb_diag_state_t5mb_u8"><code class="docutils literal notranslate"><span class="pre">mb_diag_state_record_fc()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426mb_diag_state_record_errorP15mb_diag_state_t8mb_err_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_state_record_error()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427mb_diag_state_capture_eventP15mb_diag_state_tPK10mb_event_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_state_capture_event()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_diag_snapshotPK15mb_diag_state_tP18mb_diag_snapshot_t"><code class="docutils literal notranslate"><span class="pre">mb_diag_snapshot()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_MAX"><code class="docutils literal notranslate"><span class="pre">MB_PDU_MAX</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_READ_COILS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_READ_COILS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_READ_DISCRETE_INPUTS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_READ_DISCRETE_INPUTS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_READ_HOLDING_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_READ_HOLDING_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_READ_INPUT_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_READ_INPUT_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_WRITE_SINGLE_COIL"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_WRITE_SINGLE_COIL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_WRITE_SINGLE_REGISTER"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_WRITE_SINGLE_REGISTER</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_READ_EXCEPTION_STATUS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_READ_EXCEPTION_STATUS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_WRITE_MULTIPLE_COILS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_WRITE_MULTIPLE_COILS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_WRITE_MULTIPLE_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_WRITE_MULTIPLE_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_REPORT_SERVER_ID"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_REPORT_SERVER_ID</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_MASK_WRITE_REGISTER"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_MASK_WRITE_REGISTER</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC_READ_WRITE_MULTIPLE_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC_READ_WRITE_MULTIPLE_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_EXCEPTION_BIT"><code class="docutils literal notranslate"><span class="pre">MB_PDU_EXCEPTION_BIT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_COIL_OFF_VALUE"><code class="docutils literal notranslate"><span class="pre">MB_PDU_COIL_OFF_VALUE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_COIL_ON_VALUE"><code class="docutils literal notranslate"><span class="pre">MB_PDU_COIL_ON_VALUE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC01_MIN_COILS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC01_MIN_COILS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC01_MAX_COILS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC01_MAX_COILS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC02_MIN_INPUTS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC02_MIN_INPUTS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC02_MAX_INPUTS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC02_MAX_INPUTS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC03_MIN_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC03_MIN_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC03_MAX_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC03_MAX_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC04_MIN_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC04_MIN_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC04_MAX_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC04_MAX_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC16_MIN_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC16_MIN_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC16_MAX_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC16_MAX_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC0F_MIN_COILS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC0F_MIN_COILS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC0F_MAX_COILS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC0F_MAX_COILS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC17_MIN_READ_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC17_MIN_READ_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC17_MAX_READ_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC17_MAX_READ_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC17_MIN_WRITE_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC17_MIN_WRITE_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC17_MAX_WRITE_REGISTERS"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC17_MAX_WRITE_REGISTERS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PDU_FC11_MAX_PAYLOAD"><code class="docutils literal notranslate"><span class="pre">MB_PDU_FC11_MAX_PAYLOAD</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_pdu_build_exceptionP5mb_u89mb_size_t5mb_u85mb_u8"><code class="docutils literal notranslate"><span class="pre">mb_pdu_build_exception()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_pdu_parse_exceptionPK5mb_u89mb_size_tP5mb_u8P5mb_u8"><code class="docutils literal notranslate"><span class="pre">mb_pdu_parse_exception()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_port_bare_send_fn"><code class="docutils literal notranslate"><span class="pre">mb_port_bare_send_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_port_bare_recv_fn"><code class="docutils literal notranslate"><span class="pre">mb_port_bare_recv_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_port_bare_tick_now_fn"><code class="docutils literal notranslate"><span class="pre">mb_port_bare_tick_now_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_port_bare_yield_fn"><code class="docutils literal notranslate"><span class="pre">mb_port_bare_yield_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_port_bare_transport_t"><code class="docutils literal notranslate"><span class="pre">mb_port_bare_transport_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427mb_port_bare_transport_initP24mb_port_bare_transport_tPv20mb_port_bare_send_fn20mb_port_bare_recv_fn24mb_port_bare_tick_now_fn8uint32_t21mb_port_bare_yield_fnPv"><code class="docutils literal notranslate"><span class="pre">mb_port_bare_transport_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv439mb_port_bare_transport_update_tick_rateP24mb_port_bare_transport_t8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_port_bare_transport_update_tick_rate()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv436mb_port_bare_transport_set_clock_ctxP24mb_port_bare_transport_tPv"><code class="docutils literal notranslate"><span class="pre">mb_port_bare_transport_set_clock_ctx()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv428mb_port_bare_transport_ifaceP24mb_port_bare_transport_t"><code class="docutils literal notranslate"><span class="pre">mb_port_bare_transport_iface()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv431mb_port_freertos_stream_send_fn"><code class="docutils literal notranslate"><span class="pre">mb_port_freertos_stream_send_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv431mb_port_freertos_stream_recv_fn"><code class="docutils literal notranslate"><span class="pre">mb_port_freertos_stream_recv_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv429mb_port_freertos_tick_hook_fn"><code class="docutils literal notranslate"><span class="pre">mb_port_freertos_tick_hook_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv430mb_port_freertos_yield_hook_fn"><code class="docutils literal notranslate"><span class="pre">mb_port_freertos_yield_hook_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv428mb_port_freertos_transport_t"><code class="docutils literal notranslate"><span class="pre">mb_port_freertos_transport_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv431mb_port_freertos_transport_initP28mb_port_freertos_transport_tPvPv31mb_port_freertos_stream_send_fn31mb_port_freertos_stream_recv_fn29mb_port_freertos_tick_hook_fn30mb_port_freertos_yield_hook_fn8uint32_t8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_port_freertos_transport_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv442mb_port_freertos_transport_set_block_ticksP28mb_port_freertos_transport_t8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_port_freertos_transport_set_block_ticks()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv440mb_port_freertos_transport_set_tick_rateP28mb_port_freertos_transport_t8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_port_freertos_transport_set_tick_rate()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv432mb_port_freertos_transport_ifaceP28mb_port_freertos_transport_t"><code class="docutils literal notranslate"><span class="pre">mb_port_freertos_transport_iface()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_PORT_HAS_C11_THREADS"><code class="docutils literal notranslate"><span class="pre">MB_PORT_HAS_C11_THREADS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_port_mutex_t"><code class="docutils literal notranslate"><span class="pre">mb_port_mutex_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_port_mutex_initP15mb_port_mutex_t"><code class="docutils literal notranslate"><span class="pre">mb_port_mutex_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_port_mutex_deinitP15mb_port_mutex_t"><code class="docutils literal notranslate"><span class="pre">mb_port_mutex_deinit()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_port_mutex_lockP15mb_port_mutex_t"><code class="docutils literal notranslate"><span class="pre">mb_port_mutex_lock()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_port_mutex_unlockP15mb_port_mutex_t"><code class="docutils literal notranslate"><span class="pre">mb_port_mutex_unlock()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t"><code class="docutils literal notranslate"><span class="pre">mb_port_posix_socket_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411mb_parity_t"><code class="docutils literal notranslate"><span class="pre">mb_parity_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_parity_t14MB_PARITY_NONEE"><code class="docutils literal notranslate"><span class="pre">MB_PARITY_NONE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_parity_t14MB_PARITY_EVENE"><code class="docutils literal notranslate"><span class="pre">MB_PARITY_EVEN</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N11mb_parity_t13MB_PARITY_ODDE"><code class="docutils literal notranslate"><span class="pre">MB_PARITY_ODD</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425mb_port_posix_socket_initP22mb_port_posix_socket_tib"><code class="docutils literal notranslate"><span class="pre">mb_port_posix_socket_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426mb_port_posix_socket_closeP22mb_port_posix_socket_t"><code class="docutils literal notranslate"><span class="pre">mb_port_posix_socket_close()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426mb_port_posix_socket_ifaceP22mb_port_posix_socket_t"><code class="docutils literal notranslate"><span class="pre">mb_port_posix_socket_iface()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_port_posix_tcp_clientP22mb_port_posix_socket_tPKc8uint16_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">mb_port_posix_tcp_client()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425mb_port_posix_serial_openP22mb_port_posix_socket_tPKc8uint32_t11mb_parity_t7uint8_t7uint8_t"><code class="docutils literal notranslate"><span class="pre">mb_port_posix_serial_open()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412mb_ringbuf_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_ringbuf_initP12mb_ringbuf_tP7uint8_t6size_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_ringbuf_resetP12mb_ringbuf_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_reset()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_ringbuf_capacityPK12mb_ringbuf_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_capacity()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_ringbuf_sizePK12mb_ringbuf_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_size()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_ringbuf_freePK12mb_ringbuf_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_free()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_ringbuf_is_emptyPK12mb_ringbuf_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_is_empty()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_ringbuf_is_fullPK12mb_ringbuf_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_is_full()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_ringbuf_writeP12mb_ringbuf_tPK7uint8_t6size_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_write()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_ringbuf_readP12mb_ringbuf_tP7uint8_t6size_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_read()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_ringbuf_pushP12mb_ringbuf_t7uint8_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_push()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_ringbuf_popP12mb_ringbuf_tP7uint8_t"><code class="docutils literal notranslate"><span class="pre">mb_ringbuf_pop()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_RESYNC_BUFFER_SIZE"><code class="docutils literal notranslate"><span class="pre">MB_RESYNC_BUFFER_SIZE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_SLAVE_ADDR_MIN"><code class="docutils literal notranslate"><span class="pre">MB_SLAVE_ADDR_MIN</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_SLAVE_ADDR_MAX"><code class="docutils literal notranslate"><span class="pre">MB_SLAVE_ADDR_MAX</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_rtu_resync_initP15mb_rtu_resync_t"><code class="docutils literal notranslate"><span class="pre">mb_rtu_resync_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_rtu_resync_add_dataP15mb_rtu_resync_tPK7uint8_t6size_t"><code class="docutils literal notranslate"><span class="pre">mb_rtu_resync_add_data()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_rtu_find_frame_startP15mb_rtu_resync_t"><code class="docutils literal notranslate"><span class="pre">mb_rtu_find_frame_start()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_rtu_quick_crc_checkPK7uint8_t6size_t"><code class="docutils literal notranslate"><span class="pre">mb_rtu_quick_crc_check()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426mb_rtu_is_valid_slave_addr7uint8_t"><code class="docutils literal notranslate"><span class="pre">mb_rtu_is_valid_slave_addr()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_rtu_resync_discardP15mb_rtu_resync_t6size_t"><code class="docutils literal notranslate"><span class="pre">mb_rtu_resync_discard()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_rtu_resync_availablePK15mb_rtu_resync_t"><code class="docutils literal notranslate"><span class="pre">mb_rtu_resync_available()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_rtu_resync_copyP15mb_rtu_resync_tP7uint8_t6size_t"><code class="docutils literal notranslate"><span class="pre">mb_rtu_resync_copy()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_rtu_resync_get_statsPK15mb_rtu_resync_tP8uint32_tP8uint32_tP8uint32_t"><code class="docutils literal notranslate"><span class="pre">mb_rtu_resync_get_stats()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425mb_rtu_resync_reset_statsP15mb_rtu_resync_t"><code class="docutils literal notranslate"><span class="pre">mb_rtu_resync_reset_stats()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_SERVER_DEFAULT_TIMEOUT_MS"><code class="docutils literal notranslate"><span class="pre">MB_SERVER_DEFAULT_TIMEOUT_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_SERVER_MAX_TIMEOUT_MS"><code class="docutils literal notranslate"><span class="pre">MB_SERVER_MAX_TIMEOUT_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_SERVER_REQUEST_HIGH_PRIORITY"><code class="docutils literal notranslate"><span class="pre">MB_SERVER_REQUEST_HIGH_PRIORITY</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_SERVER_REQUEST_POISON"><code class="docutils literal notranslate"><span class="pre">MB_SERVER_REQUEST_POISON</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_server_read_fn"><code class="docutils literal notranslate"><span class="pre">mb_server_read_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_server_write_fn"><code class="docutils literal notranslate"><span class="pre">mb_server_write_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_server_region_t"><code class="docutils literal notranslate"><span class="pre">mb_server_region_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_server_request_t"><code class="docutils literal notranslate"><span class="pre">mb_server_request_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_server_state_t"><code class="docutils literal notranslate"><span class="pre">mb_server_state_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_state_t20MB_SERVER_STATE_IDLEE"><code class="docutils literal notranslate"><span class="pre">MB_SERVER_STATE_IDLE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_state_t26MB_SERVER_STATE_PROCESSINGE"><code class="docutils literal notranslate"><span class="pre">MB_SERVER_STATE_PROCESSING</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N17mb_server_state_t24MB_SERVER_STATE_DRAININGE"><code class="docutils literal notranslate"><span class="pre">MB_SERVER_STATE_DRAINING</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_server_initP11mb_server_tPK17mb_transport_if_t5mb_u8P18mb_server_region_t9mb_size_tP19mb_server_request_t9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_server_init()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_server_resetP11mb_server_t"><code class="docutils literal notranslate"><span class="pre">mb_server_reset()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_server_add_regionP11mb_server_t6mb_u166mb_u16b17mb_server_read_fn18mb_server_write_fnPv"><code class="docutils literal notranslate"><span class="pre">mb_server_add_region()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_server_add_storageP11mb_server_t6mb_u166mb_u16bP6mb_u16"><code class="docutils literal notranslate"><span class="pre">mb_server_add_storage()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414mb_server_pollP11mb_server_t"><code class="docutils literal notranslate"><span class="pre">mb_server_poll()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426mb_server_poll_with_budgetP11mb_server_t9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_server_poll_with_budget()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_server_pendingPK11mb_server_t"><code class="docutils literal notranslate"><span class="pre">mb_server_pending()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_server_is_idlePK11mb_server_t"><code class="docutils literal notranslate"><span class="pre">mb_server_is_idle()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv428mb_server_set_queue_capacityP11mb_server_t9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_server_set_queue_capacity()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_server_queue_capacityPK11mb_server_t"><code class="docutils literal notranslate"><span class="pre">mb_server_queue_capacity()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_server_set_fc_timeoutP11mb_server_t5mb_u812mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">mb_server_set_fc_timeout()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_server_submit_poisonP11mb_server_t"><code class="docutils literal notranslate"><span class="pre">mb_server_submit_poison()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_server_get_metricsPK11mb_server_tP19mb_server_metrics_t"><code class="docutils literal notranslate"><span class="pre">mb_server_get_metrics()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_server_reset_metricsP11mb_server_t"><code class="docutils literal notranslate"><span class="pre">mb_server_reset_metrics()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_server_inject_aduP11mb_server_tPK13mb_adu_view_t"><code class="docutils literal notranslate"><span class="pre">mb_server_inject_adu()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_server_get_diagPK11mb_server_tP18mb_diag_counters_t"><code class="docutils literal notranslate"><span class="pre">mb_server_get_diag()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427mb_server_get_diag_snapshotPK11mb_server_tP18mb_diag_snapshot_t"><code class="docutils literal notranslate"><span class="pre">mb_server_get_diag_snapshot()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_server_reset_diagP11mb_server_t"><code class="docutils literal notranslate"><span class="pre">mb_server_reset_diag()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv428mb_server_set_event_callbackP11mb_server_t19mb_event_callback_tPv"><code class="docutils literal notranslate"><span class="pre">mb_server_set_event_callback()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_server_set_trace_hexP11mb_server_tb"><code class="docutils literal notranslate"><span class="pre">mb_server_set_trace_hex()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_transport_send_fn"><code class="docutils literal notranslate"><span class="pre">mb_transport_send_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_transport_recv_fn"><code class="docutils literal notranslate"><span class="pre">mb_transport_recv_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_transport_sendv_fn"><code class="docutils literal notranslate"><span class="pre">mb_transport_sendv_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_transport_recvv_fn"><code class="docutils literal notranslate"><span class="pre">mb_transport_recvv_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_transport_now_fn"><code class="docutils literal notranslate"><span class="pre">mb_transport_now_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_transport_yield_fn"><code class="docutils literal notranslate"><span class="pre">mb_transport_yield_fn</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_transport_sendPK17mb_transport_if_tPK5mb_u89mb_size_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">mb_transport_send()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417mb_transport_recvPK17mb_transport_if_tP5mb_u89mb_size_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">mb_transport_recv()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_transport_nowPK17mb_transport_if_t"><code class="docutils literal notranslate"><span class="pre">mb_transport_now()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_transport_yieldPK17mb_transport_if_t"><code class="docutils literal notranslate"><span class="pre">mb_transport_yield()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426mb_transport_elapsed_sincePK17mb_transport_if_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">mb_transport_elapsed_since()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_transport_sendvPK17mb_transport_if_tPK15mb_iovec_list_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">mb_transport_sendv()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418mb_transport_recvvPK17mb_transport_if_tP15mb_iovec_list_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">mb_transport_recvv()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CLIENT_TIMEOUT_DEFAULT"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_TIMEOUT_DEFAULT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_CLIENT_BACKOFF_DEFAULT"><code class="docutils literal notranslate"><span class="pre">MB_CLIENT_BACKOFF_DEFAULT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423client_transport_submitP11mb_client_tP15mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">client_transport_submit()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421client_transport_pollP11mb_client_t"><code class="docutils literal notranslate"><span class="pre">client_transport_poll()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412client_retryP11mb_client_t"><code class="docutils literal notranslate"><span class="pre">client_retry()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423client_reset_txn_phasesP15mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">client_reset_txn_phases()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420client_jitter_sampleP11mb_client_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">client_jitter_sample()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423client_normalize_budget9mb_size_t"><code class="docutils literal notranslate"><span class="pre">client_normalize_budget()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410client_nowPK11mb_client_t"><code class="docutils literal notranslate"><span class="pre">client_now()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421client_total_inflightPK11mb_client_t"><code class="docutils literal notranslate"><span class="pre">client_total_inflight()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423client_trace_hex_bufferPK11mb_client_tPKcPK5mb_u89mb_size_t"><code class="docutils literal notranslate"><span class="pre">client_trace_hex_buffer()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420client_trace_requestPK11mb_client_tPK15mb_client_txn_tPKc"><code class="docutils literal notranslate"><span class="pre">client_trace_request()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421client_trace_responsePK11mb_client_tPK13mb_adu_view_tPKc"><code class="docutils literal notranslate"><span class="pre">client_trace_response()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423client_emit_state_eventP11mb_client_t15mb_event_type_t17mb_client_state_t"><code class="docutils literal notranslate"><span class="pre">client_emit_state_event()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420client_emit_tx_eventP11mb_client_t15mb_event_type_tPK15mb_client_txn_t8mb_err_t"><code class="docutils literal notranslate"><span class="pre">client_emit_tx_event()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423client_transition_stateP11mb_client_t17mb_client_state_t"><code class="docutils literal notranslate"><span class="pre">client_transition_state()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422client_base_timeout_msPK15mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">client_base_timeout_ms()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425client_current_timeout_msPK15mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">client_current_timeout_ms()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422client_base_backoff_msPK15mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">client_base_backoff_ms()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423client_retry_backoff_msPK15mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">client_retry_backoff_ms()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426client_backoff_with_jitterPK15mb_client_txn_t12mb_time_ms_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">client_backoff_with_jitter()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417client_start_nextP11mb_client_t"><code class="docutils literal notranslate"><span class="pre">client_start_next()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414client_enqueueP11mb_client_tP15mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">client_enqueue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424client_remove_from_queueP11mb_client_tP15mb_client_txn_t"><code class="docutils literal notranslate"><span class="pre">client_remove_from_queue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414client_dequeueP11mb_client_t"><code class="docutils literal notranslate"><span class="pre">client_dequeue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415client_finalizeP11mb_client_tP15mb_client_txn_t8mb_err_tPK13mb_adu_view_t"><code class="docutils literal notranslate"><span class="pre">client_finalize()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423client_prepare_responseP15mb_client_txn_tPK13mb_adu_view_t"><code class="docutils literal notranslate"><span class="pre">client_prepare_response()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423client_process_tx_phaseP11mb_client_tP15mb_client_txn_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">client_process_tx_phase()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423client_process_rx_phaseP11mb_client_tP15mb_client_txn_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">client_process_rx_phase()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420client_check_waitingP11mb_client_tP15mb_client_txn_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">client_check_waiting()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415client_run_stepP11mb_client_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">client_run_step()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_client_init_commonP11mb_client_tPK17mb_transport_if_tP15mb_client_txn_t9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_client_init_common()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427mb_client_sync_resolve_optsPK21mb_client_sync_opts_tP21mb_client_sync_opts_t"><code class="docutils literal notranslate"><span class="pre">mb_client_sync_resolve_opts()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mb_client_sync_callbackP11mb_client_tPK15mb_client_txn_t8mb_err_tPK13mb_adu_view_tPv"><code class="docutils literal notranslate"><span class="pre">mb_client_sync_callback()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419mb_client_sync_waitP11mb_client_tP15mb_client_txn_tP22mb_client_sync_state_tPK21mb_client_sync_opts_t"><code class="docutils literal notranslate"><span class="pre">mb_client_sync_wait()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421mb_client_sync_submitP11mb_client_tP19mb_client_request_tP22mb_client_sync_state_tPK21mb_client_sync_opts_t"><code class="docutils literal notranslate"><span class="pre">mb_client_sync_submit()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.ENOTCONN"><code class="docutils literal notranslate"><span class="pre">ENOTCONN</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.ENOTSUP"><code class="docutils literal notranslate"><span class="pre">ENOTSUP</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.COMPAT_DEFAULT_TIMEOUT_MS"><code class="docutils literal notranslate"><span class="pre">COMPAT_DEFAULT_TIMEOUT_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423modbus_compat_backend_t"><code class="docutils literal notranslate"><span class="pre">modbus_compat_backend_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23modbus_compat_backend_t26MODBUS_COMPAT_BACKEND_NONEE"><code class="docutils literal notranslate"><span class="pre">MODBUS_COMPAT_BACKEND_NONE</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23modbus_compat_backend_t25MODBUS_COMPAT_BACKEND_RTUE"><code class="docutils literal notranslate"><span class="pre">MODBUS_COMPAT_BACKEND_RTU</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23modbus_compat_backend_t25MODBUS_COMPAT_BACKEND_TCPE"><code class="docutils literal notranslate"><span class="pre">MODBUS_COMPAT_BACKEND_TCP</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416clamp_timeout_ms8uint64_t"><code class="docutils literal notranslate"><span class="pre">clamp_timeout_ms()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422map_exception_to_errno8mb_err_t"><code class="docutils literal notranslate"><span class="pre">map_exception_to_errno()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418map_error_to_errno8mb_err_t"><code class="docutils literal notranslate"><span class="pre">map_error_to_errno()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415propagate_errorP8modbus_t8mb_err_t"><code class="docutils literal notranslate"><span class="pre">propagate_error()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416ensure_connectedP8modbus_t"><code class="docutils literal notranslate"><span class="pre">ensure_connected()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413alloc_contextv"><code class="docutils literal notranslate"><span class="pre">alloc_context()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411connect_rtuP8modbus_t"><code class="docutils literal notranslate"><span class="pre">connect_rtu()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411connect_tcpP8modbus_t"><code class="docutils literal notranslate"><span class="pre">connect_tcp()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MODBUS_INTERFRAME_TIMEOUT_MS"><code class="docutils literal notranslate"><span class="pre">MODBUS_INTERFRAME_TIMEOUT_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MODBUS_BYTE_TIMEOUT_MS"><code class="docutils literal notranslate"><span class="pre">MODBUS_BYTE_TIMEOUT_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_BOOL_FROM_FLAG"><code class="docutils literal notranslate"><span class="pre">MB_BOOL_FROM_FLAG</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_FEATURE_PROFILE_NAME"><code class="docutils literal notranslate"><span class="pre">MB_FEATURE_PROFILE_NAME</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_FEATURE_FUNCTION_CODE_COUNT"><code class="docutils literal notranslate"><span class="pre">MB_FEATURE_FUNCTION_CODE_COUNT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_FEATURE_FUNCTION_CODES_PTR"><code class="docutils literal notranslate"><span class="pre">MB_FEATURE_FUNCTION_CODES_PTR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv430mb_feature_function_codes_data"><code class="docutils literal notranslate"><span class="pre">mb_feature_function_codes_data</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419get_current_time_msv"><code class="docutils literal notranslate"><span class="pre">get_current_time_ms()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv47fsm_nowPK5fsm_t"><code class="docutils literal notranslate"><span class="pre">fsm_now()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415fsm_queue_resetP5fsm_t"><code class="docutils literal notranslate"><span class="pre">fsm_queue_reset()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414fsm_bind_queueP5fsm_tPK12fsm_config_t"><code class="docutils literal notranslate"><span class="pre">fsm_bind_queue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv434mb_client_prepare_standard_requestP19mb_client_request_t7uint8_tPK7uint8_t9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_client_prepare_standard_request()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420wait_for_transactionP16mb_host_client_tP15mb_client_txn_t8uint32_t"><code class="docutils literal notranslate"><span class="pre">wait_for_transaction()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415submit_and_waitP16mb_host_client_tPP15mb_client_txn_t8mb_err_t"><code class="docutils literal notranslate"><span class="pre">submit_and_wait()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421copy_register_payloadPK15mb_client_txn_t8uint16_tP8uint16_t"><code class="docutils literal notranslate"><span class="pre">copy_register_payload()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416copy_bit_payloadPK15mb_client_txn_t8uint16_tP7uint8_t"><code class="docutils literal notranslate"><span class="pre">copy_bit_payload()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_HAS_CORTEX_M_IPSR"><code class="docutils literal notranslate"><span class="pre">MB_HAS_CORTEX_M_IPSR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_HAS_FREERTOS"><code class="docutils literal notranslate"><span class="pre">MB_HAS_FREERTOS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MB_HAS_ZEPHYR"><code class="docutils literal notranslate"><span class="pre">MB_HAS_ZEPHYR</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417g_manual_isr_flag"><code class="docutils literal notranslate"><span class="pre">g_manual_isr_flag</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420mb_qos_transaction_t"><code class="docutils literal notranslate"><span class="pre">mb_qos_transaction_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mempool_build_free_listP12mb_mempool_t"><code class="docutils literal notranslate"><span class="pre">mempool_build_free_list()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423mempool_pointer_belongsPK12mb_mempool_tPKv"><code class="docutils literal notranslate"><span class="pre">mempool_pointer_belongs()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv416mb_pdu_write_u16P5mb_u86mb_u16"><code class="docutils literal notranslate"><span class="pre">mb_pdu_write_u16()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415mb_pdu_read_u16PK5mb_u8"><code class="docutils literal notranslate"><span class="pre">mb_pdu_read_u16()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv424mb_pdu_validate_capacity9mb_size_t9mb_size_t"><code class="docutils literal notranslate"><span class="pre">mb_pdu_validate_capacity()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413bare_validatePK24mb_port_bare_transport_t"><code class="docutils literal notranslate"><span class="pre">bare_validate()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv49bare_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">bare_send()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv49bare_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">bare_recv()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv48bare_nowPv"><code class="docutils literal notranslate"><span class="pre">bare_now()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410bare_yieldPv"><code class="docutils literal notranslate"><span class="pre">bare_yield()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417freertos_validatePK28mb_port_freertos_transport_t"><code class="docutils literal notranslate"><span class="pre">freertos_validate()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413freertos_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">freertos_send()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413freertos_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">freertos_recv()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412freertos_nowPv"><code class="docutils literal notranslate"><span class="pre">freertos_now()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414freertos_yieldPv"><code class="docutils literal notranslate"><span class="pre">freertos_yield()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv429posix_socket_make_nonblockingi"><code class="docutils literal notranslate"><span class="pre">posix_socket_make_nonblocking()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418posix_monotonic_msv"><code class="docutils literal notranslate"><span class="pre">posix_monotonic_ms()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410posix_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">posix_send()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410posix_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">posix_recv()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv49posix_nowPv"><code class="docutils literal notranslate"><span class="pre">posix_now()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411posix_yieldPv"><code class="docutils literal notranslate"><span class="pre">posix_yield()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423posix_socket_bind_ifaceP22mb_port_posix_socket_t"><code class="docutils literal notranslate"><span class="pre">posix_socket_bind_iface()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417baudrate_to_speed8uint32_t"><code class="docutils literal notranslate"><span class="pre">baudrate_to_speed()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415is_power_of_two6size_t"><code class="docutils literal notranslate"><span class="pre">is_power_of_two()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423server_trace_hex_bufferPK11mb_server_tPKcPK5mb_u89mb_size_t"><code class="docutils literal notranslate"><span class="pre">server_trace_hex_buffer()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420server_reset_requestP19mb_server_request_t"><code class="docutils literal notranslate"><span class="pre">server_reset_request()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420server_jitter_sampleP11mb_server_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">server_jitter_sample()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423server_normalize_budget9mb_size_t"><code class="docutils literal notranslate"><span class="pre">server_normalize_budget()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv431server_prepare_processing_stateP19mb_server_request_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">server_prepare_processing_state()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv410server_nowPK11mb_server_t"><code class="docutils literal notranslate"><span class="pre">server_now()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423server_emit_state_eventP11mb_server_t15mb_event_type_t17mb_server_state_t"><code class="docutils literal notranslate"><span class="pre">server_emit_state_event()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425server_emit_request_eventP11mb_server_t15mb_event_type_tPK19mb_server_request_t8mb_err_t"><code class="docutils literal notranslate"><span class="pre">server_emit_request_event()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423server_transition_stateP11mb_server_t17mb_server_state_t"><code class="docutils literal notranslate"><span class="pre">server_transition_state()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417server_fc_timeoutPK11mb_server_t5mb_u8"><code class="docutils literal notranslate"><span class="pre">server_fc_timeout()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426server_is_high_priority_fc5mb_u8"><code class="docutils literal notranslate"><span class="pre">server_is_high_priority_fc()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421server_total_inflightPK11mb_server_t"><code class="docutils literal notranslate"><span class="pre">server_total_inflight()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420server_alloc_requestP11mb_server_t"><code class="docutils literal notranslate"><span class="pre">server_alloc_request()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414server_enqueueP11mb_server_tP19mb_server_request_t"><code class="docutils literal notranslate"><span class="pre">server_enqueue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414server_dequeueP11mb_server_t"><code class="docutils literal notranslate"><span class="pre">server_dequeue()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422server_release_requestP19mb_server_request_t"><code class="docutils literal notranslate"><span class="pre">server_release_request()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421server_send_exceptionP11mb_server_tPK13mb_adu_view_t5mb_u8"><code class="docutils literal notranslate"><span class="pre">server_send_exception()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv414ranges_overlap6mb_u166mb_u166mb_u166mb_u16"><code class="docutils literal notranslate"><span class="pre">ranges_overlap()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415region_containsPK18mb_server_region_t6mb_u166mb_u16"><code class="docutils literal notranslate"><span class="pre">region_contains()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411region_readPK18mb_server_region_t6mb_u166mb_u16P6mb_u16"><code class="docutils literal notranslate"><span class="pre">region_read()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412region_writePK18mb_server_region_t6mb_u16PK6mb_u166mb_u16"><code class="docutils literal notranslate"><span class="pre">region_write()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411find_regionPK11mb_server_t6mb_u166mb_u16"><code class="docutils literal notranslate"><span class="pre">find_region()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422map_error_to_exception8mb_err_t"><code class="docutils literal notranslate"><span class="pre">map_error_to_exception()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421server_update_latencyP11mb_server_tPK19mb_server_request_t"><code class="docutils literal notranslate"><span class="pre">server_update_latency()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420server_handle_poisonP11mb_server_t"><code class="docutils literal notranslate"><span class="pre">server_handle_poison()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423server_prepare_responseP11mb_server_tP19mb_server_request_t"><code class="docutils literal notranslate"><span class="pre">server_prepare_response()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423server_finalize_requestP11mb_server_tP19mb_server_request_t8mb_err_t"><code class="docutils literal notranslate"><span class="pre">server_finalize_request()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426server_send_built_responseP11mb_server_tPK19mb_server_request_t"><code class="docutils literal notranslate"><span class="pre">server_send_built_response()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419server_perform_sendP11mb_server_tP19mb_server_request_t"><code class="docutils literal notranslate"><span class="pre">server_perform_send()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423server_process_rx_phaseP11mb_server_tP19mb_server_request_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">server_process_rx_phase()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423server_process_tx_phaseP11mb_server_tP19mb_server_request_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">server_process_tx_phase()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422server_check_deadlinesP11mb_server_tP19mb_server_request_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">server_check_deadlines()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418server_expire_headP11mb_server_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">server_expire_head()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417server_start_nextP11mb_server_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">server_start_next()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv415server_run_stepP11mb_server_t12mb_time_ms_t"><code class="docutils literal notranslate"><span class="pre">server_run_step()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv418server_record_dropP11mb_server_tPK13mb_adu_view_tb8mb_err_t"><code class="docutils literal notranslate"><span class="pre">server_record_drop()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417server_accept_aduP11mb_server_tPK13mb_adu_view_t8mb_err_t"><code class="docutils literal notranslate"><span class="pre">server_accept_adu()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422mb_server_rtu_callbackP18mb_rtu_transport_tPK13mb_adu_view_t8mb_err_tPv"><code class="docutils literal notranslate"><span class="pre">mb_server_rtu_callback()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413insert_regionP11mb_server_tPK18mb_server_region_t"><code class="docutils literal notranslate"><span class="pre">insert_region()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425kExceptionIllegalFunction"><code class="docutils literal notranslate"><span class="pre">kExceptionIllegalFunction</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv428kExceptionIllegalDataAddress"><code class="docutils literal notranslate"><span class="pre">kExceptionIllegalDataAddress</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv426kExceptionIllegalDataValue"><code class="docutils literal notranslate"><span class="pre">kExceptionIllegalDataValue</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv429kExceptionServerDeviceFailure"><code class="docutils literal notranslate"><span class="pre">kExceptionServerDeviceFailure</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv428modbus_transport_legacy_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">modbus_transport_legacy_send()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv428modbus_transport_legacy_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"><code class="docutils literal notranslate"><span class="pre">modbus_transport_legacy_recv()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv427modbus_transport_legacy_nowPv"><code class="docutils literal notranslate"><span class="pre">modbus_transport_legacy_now()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.CRC_POLYNOMIAL"><code class="docutils literal notranslate"><span class="pre">CRC_POLYNOMIAL</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv49crc_table"><code class="docutils literal notranslate"><span class="pre">crc_table</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425modbus_regs_to_bytes_abcdPK8uint16_tAL4E_7uint8_t"><code class="docutils literal notranslate"><span class="pre">modbus_regs_to_bytes_abcd()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv425modbus_bytes_to_regs_abcdAL4E_K7uint8_tP8uint16_t"><code class="docutils literal notranslate"><span class="pre">modbus_bytes_to_regs_abcd()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419modbus_bytes_to_u32AL4E_K7uint8_t"><code class="docutils literal notranslate"><span class="pre">modbus_bytes_to_u32()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419modbus_u32_to_bytes8uint32_tAL4E_7uint8_t"><code class="docutils literal notranslate"><span class="pre">modbus_u32_to_bytes()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv420modbus_reorder_bytesAL4E_K7uint8_tAL4E_7uint8_t7uint8_t7uint8_t7uint8_t7uint8_t"><code class="docutils literal notranslate"><span class="pre">modbus_reorder_bytes()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422modbus_get_u32_orderedPK8uint16_t7uint8_t7uint8_t7uint8_t7uint8_t"><code class="docutils literal notranslate"><span class="pre">modbus_get_u32_ordered()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422modbus_set_u32_ordered8uint32_tP8uint16_t7uint8_t7uint8_t7uint8_t7uint8_t"><code class="docutils literal notranslate"><span class="pre">modbus_set_u32_ordered()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421modbus_float_from_u328uint32_t"><code class="docutils literal notranslate"><span class="pre">modbus_float_from_u32()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv421modbus_u32_from_floatf"><code class="docutils literal notranslate"><span class="pre">modbus_u32_from_float()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MODBUS_BROADCAST_ADDRESS"><code class="docutils literal notranslate"><span class="pre">MODBUS_BROADCAST_ADDRESS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.MODBUS_BOOTLOADER_ADDRESS"><code class="docutils literal notranslate"><span class="pre">MODBUS_BOOTLOADER_ADDRESS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.GET_LOW_BYTE"><code class="docutils literal notranslate"><span class="pre">GET_LOW_BYTE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.GET_HIGH_BYTE"><code class="docutils literal notranslate"><span class="pre">GET_HIGH_BYTE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv422modbus_read_callback_t"><code class="docutils literal notranslate"><span class="pre">modbus_read_callback_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423modbus_write_callback_t"><code class="docutils literal notranslate"><span class="pre">modbus_write_callback_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413modbus_role_t"><code class="docutils literal notranslate"><span class="pre">modbus_role_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13modbus_role_t18MODBUS_ROLE_CLIENTE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ROLE_CLIENT</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N13modbus_role_t18MODBUS_ROLE_SERVERE"><code class="docutils literal notranslate"><span class="pre">MODBUS_ROLE_SERVER</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#c.FSM_EVENT_QUEUE_SIZE"><code class="docutils literal notranslate"><span class="pre">FSM_EVENT_QUEUE_SIZE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.FSM_CONF_INLINE_QUEUE"><code class="docutils literal notranslate"><span class="pre">FSM_CONF_INLINE_QUEUE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.FSM_EVENT_STATE_TIMEOUT"><code class="docutils literal notranslate"><span class="pre">FSM_EVENT_STATE_TIMEOUT</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.FSM_TRANSITION"><code class="docutils literal notranslate"><span class="pre">FSM_TRANSITION</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#c.FSM_STATE"><code class="docutils literal notranslate"><span class="pre">FSM_STATE</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv417fsm_queue_index_t"><code class="docutils literal notranslate"><span class="pre">fsm_queue_index_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv45fsm_t"><code class="docutils literal notranslate"><span class="pre">fsm_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411fsm_state_t"><code class="docutils literal notranslate"><span class="pre">fsm_state_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv412fsm_action_t"><code class="docutils literal notranslate"><span class="pre">fsm_action_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv411fsm_guard_t"><code class="docutils literal notranslate"><span class="pre">fsm_guard_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv413fsm_time_fn_t"><code class="docutils literal notranslate"><span class="pre">fsm_time_fn_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv419fsm_event_drop_cb_t"><code class="docutils literal notranslate"><span class="pre">fsm_event_drop_cb_t</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#_CPPv423modbus_transport_type_t"><code class="docutils literal notranslate"><span class="pre">modbus_transport_type_t</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23modbus_transport_type_t20MODBUS_TRANSPORT_RTUE"><code class="docutils literal notranslate"><span class="pre">MODBUS_TRANSPORT_RTU</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23modbus_transport_type_t20MODBUS_TRANSPORT_TCPE"><code class="docutils literal notranslate"><span class="pre">MODBUS_TRANSPORT_TCP</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#_CPPv4N23modbus_transport_type_t22MODBUS_TRANSPORT_ASCIIE"><code class="docutils literal notranslate"><span class="pre">MODBUS_TRANSPORT_ASCII</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#c.MODBUS_CONVERT_CHAR_INTERVAL_TO_MS"><code class="docutils literal notranslate"><span class="pre">MODBUS_CONVERT_CHAR_INTERVAL_TO_MS</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#clients">Clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="#servers">Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#observability">Observability</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transports">Transports</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="roadmapping.html">Roadmap &amp; Gates (0–44)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-0-foundation-build">Gate 0 – Foundation &amp; Build</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-1-core-types-utilities">Gate 1 – Core Types &amp; Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-2-pdu-codec">Gate 2 – PDU Codec</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-3-transport-abstraction">Gate 3 – Transport Abstraction</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-4-rtu-minimum">Gate 4 – RTU Minimum</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-5-client-fsm">Gate 5 – Client FSM</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-6-server-core">Gate 6 – Server Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-7-tcp-mbap">Gate 7 – TCP / MBAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-8-robustness-backpressure">Gate 8 – Robustness &amp; Backpressure</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-9-port-hal-adapters">Gate 9 – Port/HAL Adapters</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-10-extended-function-codes-ascii">Gate 10 – Extended Function Codes + ASCII</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-11-observability-debug">Gate 11 – Observability &amp; Debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-12-documentation-api-stability">Gate 12 – Documentation &amp; API Stability</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-13-hardening-release">Gate 13 – Hardening &amp; Release</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-14-protocol-parity-data-helpers">Gate 14 – Protocol Parity &amp; Data Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-15-compatibility-port-conveniences">Gate 15 – Compatibility &amp; Port Conveniences</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-16-reserved-bridge-milestone">Gate 16 – Reserved Bridge Milestone</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-17-embedded-dx-bundle-integration-in-minutes">Gate 17 – Embedded DX Bundle (Integration in Minutes)</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-18-profile-matrix-feature-flags">Gate 18 – Profile Matrix &amp; Feature Flags</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-19-budgeted-fsm-micro-steps">Gate 19 – Budgeted FSM Micro-Steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-20-real-world-rtu-uart-dma-idle-line-t3-5">Gate 20 – Real-World RTU UART: DMA + IDLE Line + T3.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-21-zero-copy-io-scatter-gather">Gate 21 – Zero-Copy IO &amp; Scatter-Gather</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-22-lightweight-spsc-mpsc-static-pool">Gate 22 – Lightweight SPSC/MPSC + Static Pool</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-23-optional-isr-safe-mode">Gate 23 – Optional ISR-Safe Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-24-backpressure-simple-qos">Gate 24 – Backpressure + Simple QoS</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-25-compact-on-device-diagnostics">Gate 25 – Compact On-Device Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-26-interop-rig-golden-pcaps">Gate 26 – Interop Rig &amp; Golden PCAPs</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-27-power-tickless-real-time">Gate 27 – Power &amp; Tickless Real-Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-28-reproducible-benchmarks-host-target">Gate 28 – Reproducible Benchmarks (Host + Target)</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-29-canonical-embedded-ready-examples">Gate 29 – Canonical “Embedded Ready” Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-30-footprint-worst-case-stack-guide">Gate 30 – Footprint &amp; Worst-Case Stack Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-31-kconfig-menuconfig-build-presets">Gate 31 – Kconfig/Menuconfig &amp; Build Presets</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-32-amalgamated-build-package-install">Gate 32 – Amalgamated Build + Package Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-33-security-robustness-for-noisy-links">Gate 33 – Security &amp; Robustness for Noisy Links</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-34-opt-in-libmodbus-compatibility-layer">Gate 34 – Opt-In libmodbus Compatibility Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-35-cmake-package-pkg-config">Gate 35 – CMake Package &amp; pkg-config</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-36-prebuilt-artifacts-per-platform">Gate 36 – Prebuilt Artifacts per Platform</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-37-vcpkg-port">Gate 37 – vcpkg Port</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-38-conan-package">Gate 38 – Conan Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-39-homebrew-tap">Gate 39 – Homebrew Tap</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-40-windows-installers-chocolatey-winget">Gate 40 – Windows Installers (Chocolatey/Winget)</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-41-meson-wrap-pkg-config">Gate 41 – Meson Wrap &amp; pkg-config</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-42-installer-ux-hello-examples-per-os">Gate 42 – Installer UX &amp; “Hello” Examples per OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-43-signing-notarisation">Gate 43 – Signing &amp; Notarisation</a></li>
<li class="toctree-l2"><a class="reference internal" href="roadmapping.html#gate-44-documentation-install-use-in-60-seconds">Gate 44 – Documentation: Install &amp; Use in 60 Seconds</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="misra.html">MISRA-C compliance checklist</a><ul>
<li class="toctree-l2"><a class="reference internal" href="misra.html#key-enforcement-hooks">Key enforcement hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="misra.html#documented-deviations">Documented deviations</a></li>
<li class="toctree-l2"><a class="reference internal" href="misra.html#maintenance-checklist">Maintenance checklist</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="migration.html">Migration guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="migration.html#upgrading-to-1-0-0-from-0-x">Upgrading to 1.0.0 (from 0.x)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="migration.html#observability-layer">Observability layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration.html#diagnostics-counters">Diagnostics counters</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration.html#configuration-knobs">Configuration knobs</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration.html#transport-helpers">Transport helpers</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration.html#testing-layout">Testing layout</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration.html#build-system-updates">Build-system updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration.html#compatibility-helpers-gate-15">Compatibility helpers (Gate 15)</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration.html#libmodbus-compatibility-gate-34">libmodbus compatibility (Gate 34)</a></li>
<li class="toctree-l3"><a class="reference internal" href="migration.html#adoption-checklist">Adoption checklist</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Cookbook</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cookbook.html#running-the-bundled-demos">Running the bundled demos</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cookbook.html#modbus-tcp-client-server-pair">Modbus TCP client/server pair</a></li>
<li class="toctree-l3"><a class="reference internal" href="cookbook.html#rtu-in-memory-loopback">RTU in-memory loopback</a></li>
<li class="toctree-l3"><a class="reference internal" href="cookbook.html#unit-test-style-loopback-gate-15">Unit-test style loopback (Gate 15)</a></li>
<li class="toctree-l3"><a class="reference internal" href="cookbook.html#rtu-serial-client-server-pair">RTU serial client/server pair</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cookbook.html#minimal-rtu-client-loop">Minimal RTU client loop</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook.html#server-with-observability-hooks">Server with observability hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook.html#switching-to-modbus-tcp-with-multiple-sockets">Switching to Modbus TCP with multiple sockets</a></li>
<li class="toctree-l2"><a class="reference internal" href="cookbook.html#testing-with-the-mock-transport">Testing with the mock transport</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Modbus C Library</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">API Reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading"></a></h1>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv43fsm">
<span id="_CPPv33fsm"></span><span id="_CPPv23fsm"></span><span id="fsm"></span><span class="target" id="structfsm"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsm</span></span></span><a class="headerlink" href="#_CPPv43fsm" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#fsm_8h"><span class="std std-ref">fsm.h</span></a>&gt;</em></div>
<p>Structure representing the finite state machine. </p>
<p>The FSM holds:<ul class="simple">
<li><p>The current state</p></li>
<li><p>User-defined data pointer for application-specific context</p></li>
<li><p>An event queue for storing incoming events </p></li>
</ul>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3fsm13current_stateE">
<span id="_CPPv3N3fsm13current_stateE"></span><span id="_CPPv2N3fsm13current_stateE"></span><span id="fsm::current_state__fsm_state_tCP"></span><span class="target" id="structfsm_1aa971da478481cfda1bd384b46adfca03"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411fsm_state_t" title="fsm_state_t"><span class="n"><span class="pre">fsm_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">current_state</span></span></span><a class="headerlink" href="#_CPPv4N3fsm13current_stateE" title="Link to this definition"></a><br /></dt>
<dd><p>Pointer to the current state. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3fsm9user_dataE">
<span id="_CPPv3N3fsm9user_dataE"></span><span id="_CPPv2N3fsm9user_dataE"></span><span id="fsm::user_data__voidP"></span><span class="target" id="structfsm_1a00cab20b7dc0b4a7d29afa1ea3085e89"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">user_data</span></span></span><a class="headerlink" href="#_CPPv4N3fsm9user_dataE" title="Link to this definition"></a><br /></dt>
<dd><p>User data associated with the FSM instance. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3fsm11event_queueE">
<span id="_CPPv3N3fsm11event_queueE"></span><span id="_CPPv2N3fsm11event_queueE"></span><span id="fsm::event_queue__fsm_event_queue_t"></span><span class="target" id="structfsm_1aba1d760ccce36c9a4a206986eda4dbe1"></span><a class="reference internal" href="#_CPPv417fsm_event_queue_t" title="fsm_event_queue_t"><span class="n"><span class="pre">fsm_event_queue_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">event_queue</span></span></span><a class="headerlink" href="#_CPPv4N3fsm11event_queueE" title="Link to this definition"></a><br /></dt>
<dd><p>Event queue for handling asynchronous events. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3fsm7time_fnE">
<span id="_CPPv3N3fsm7time_fnE"></span><span id="_CPPv2N3fsm7time_fnE"></span><span id="fsm::time_fn__fsm_time_fn_t"></span><span class="target" id="structfsm_1aefbd293fbbb0d1a6ffda9b5b5dd5a357"></span><a class="reference internal" href="#_CPPv413fsm_time_fn_t" title="fsm_time_fn_t"><span class="n"><span class="pre">fsm_time_fn_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">time_fn</span></span></span><a class="headerlink" href="#_CPPv4N3fsm7time_fnE" title="Link to this definition"></a><br /></dt>
<dd><p>Time retrieval callback. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3fsm13event_drop_cbE">
<span id="_CPPv3N3fsm13event_drop_cbE"></span><span id="_CPPv2N3fsm13event_drop_cbE"></span><span id="fsm::event_drop_cb__fsm_event_drop_cb_t"></span><span class="target" id="structfsm_1a28576309100641a777a72e434bb158d8"></span><a class="reference internal" href="#_CPPv419fsm_event_drop_cb_t" title="fsm_event_drop_cb_t"><span class="n"><span class="pre">fsm_event_drop_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">event_drop_cb</span></span></span><a class="headerlink" href="#_CPPv4N3fsm13event_drop_cbE" title="Link to this definition"></a><br /></dt>
<dd><p>Callback invoked when an event is dropped. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3fsm16state_entry_timeE">
<span id="_CPPv3N3fsm16state_entry_timeE"></span><span id="_CPPv2N3fsm16state_entry_timeE"></span><span id="fsm::state_entry_time__uint16_t"></span><span class="target" id="structfsm_1a44daa5ec9855456171bbcf609f3e370a"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state_entry_time</span></span></span><a class="headerlink" href="#_CPPv4N3fsm16state_entry_timeE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3fsm11has_timeoutE">
<span id="_CPPv3N3fsm11has_timeoutE"></span><span id="_CPPv2N3fsm11has_timeoutE"></span><span id="fsm::has_timeout__b"></span><span class="target" id="structfsm_1a6485707124ae0a6e54cf7aad8b689655"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">has_timeout</span></span></span><a class="headerlink" href="#_CPPv4N3fsm11has_timeoutE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N3fsm12inline_queueE">
<span id="_CPPv3N3fsm12inline_queueE"></span><span id="_CPPv2N3fsm12inline_queueE"></span><span id="fsm::inline_queue__uint8_tA"></span><span class="target" id="structfsm_1ad134e9cfb4a191ff4439d6653346cf7f"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">inline_queue</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">FSM_EVENT_QUEUE_SIZE</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N3fsm12inline_queueE" title="Link to this definition"></a><br /></dt>
<dd><p>Default inline queue storage. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv412fsm_config_t">
<span id="_CPPv312fsm_config_t"></span><span id="_CPPv212fsm_config_t"></span><span id="fsm_config_t"></span><span class="target" id="structfsm__config__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsm_config_t</span></span></span><a class="headerlink" href="#_CPPv412fsm_config_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#fsm_8h"><span class="std std-ref">fsm.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12fsm_config_t13queue_storageE">
<span id="_CPPv3N12fsm_config_t13queue_storageE"></span><span id="_CPPv2N12fsm_config_t13queue_storageE"></span><span id="fsm_config_t::queue_storage__uint8_tP"></span><span class="target" id="structfsm__config__t_1a538a80d51501eb6a24bd347d94636a1d"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">queue_storage</span></span></span><a class="headerlink" href="#_CPPv4N12fsm_config_t13queue_storageE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional external queue storage (must hold at least 2 entries). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12fsm_config_t14queue_capacityE">
<span id="_CPPv3N12fsm_config_t14queue_capacityE"></span><span id="_CPPv2N12fsm_config_t14queue_capacityE"></span><span id="fsm_config_t::queue_capacity__fsm_queue_index_t"></span><span class="target" id="structfsm__config__t_1a80f221722e0f5e0e29f705e13bfccf97"></span><a class="reference internal" href="#_CPPv417fsm_queue_index_t" title="fsm_queue_index_t"><span class="n"><span class="pre">fsm_queue_index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">queue_capacity</span></span></span><a class="headerlink" href="#_CPPv4N12fsm_config_t14queue_capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Capacity of the external queue. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12fsm_config_t7time_fnE">
<span id="_CPPv3N12fsm_config_t7time_fnE"></span><span id="_CPPv2N12fsm_config_t7time_fnE"></span><span id="fsm_config_t::time_fn__fsm_time_fn_t"></span><span class="target" id="structfsm__config__t_1aba56490bd75a7d3ec0505ec222d7240c"></span><a class="reference internal" href="#_CPPv413fsm_time_fn_t" title="fsm_time_fn_t"><span class="n"><span class="pre">fsm_time_fn_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">time_fn</span></span></span><a class="headerlink" href="#_CPPv4N12fsm_config_t7time_fnE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional time function override. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12fsm_config_t13on_event_dropE">
<span id="_CPPv3N12fsm_config_t13on_event_dropE"></span><span id="_CPPv2N12fsm_config_t13on_event_dropE"></span><span id="fsm_config_t::on_event_drop__fsm_event_drop_cb_t"></span><span class="target" id="structfsm__config__t_1a9ebf01e1c15733579d51b50fde7f2cb6"></span><a class="reference internal" href="#_CPPv419fsm_event_drop_cb_t" title="fsm_event_drop_cb_t"><span class="n"><span class="pre">fsm_event_drop_cb_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">on_event_drop</span></span></span><a class="headerlink" href="#_CPPv4N12fsm_config_t13on_event_dropE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional callback for dropped events. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv417fsm_event_queue_t">
<span id="_CPPv317fsm_event_queue_t"></span><span id="_CPPv217fsm_event_queue_t"></span><span id="fsm_event_queue_t"></span><span class="target" id="structfsm__event__queue__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsm_event_queue_t</span></span></span><a class="headerlink" href="#_CPPv417fsm_event_queue_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#fsm_8h"><span class="std std-ref">fsm.h</span></a>&gt;</em></div>
<p>Structure for the FSM’s event queue. </p>
<p>Implements a circular buffer storing events until processed by <code class="docutils literal notranslate"><span class="pre">fsm_run()</span></code>. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17fsm_event_queue_t6eventsE">
<span id="_CPPv3N17fsm_event_queue_t6eventsE"></span><span id="_CPPv2N17fsm_event_queue_t6eventsE"></span><span id="fsm_event_queue_t::events__uint8_tP"></span><span class="target" id="structfsm__event__queue__t_1a5f4cb123edaa553802be5bb8b31608ea"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">events</span></span></span><a class="headerlink" href="#_CPPv4N17fsm_event_queue_t6eventsE" title="Link to this definition"></a><br /></dt>
<dd><p>Circular buffer of events. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17fsm_event_queue_t4headE">
<span id="_CPPv3N17fsm_event_queue_t4headE"></span><span id="_CPPv2N17fsm_event_queue_t4headE"></span><span id="fsm_event_queue_t::head__fsm_queue_index_tV"></span><span class="target" id="structfsm__event__queue__t_1a15badd7ae96718683426fd6a2258b759"></span><span class="k"><span class="pre">volatile</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417fsm_queue_index_t" title="fsm_queue_index_t"><span class="n"><span class="pre">fsm_queue_index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">head</span></span></span><a class="headerlink" href="#_CPPv4N17fsm_event_queue_t4headE" title="Link to this definition"></a><br /></dt>
<dd><p>Index of the next event to process. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17fsm_event_queue_t4tailE">
<span id="_CPPv3N17fsm_event_queue_t4tailE"></span><span id="_CPPv2N17fsm_event_queue_t4tailE"></span><span id="fsm_event_queue_t::tail__fsm_queue_index_tV"></span><span class="target" id="structfsm__event__queue__t_1a5f18ef97fe71d89744d9c0d796462c26"></span><span class="k"><span class="pre">volatile</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417fsm_queue_index_t" title="fsm_queue_index_t"><span class="n"><span class="pre">fsm_queue_index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tail</span></span></span><a class="headerlink" href="#_CPPv4N17fsm_event_queue_t4tailE" title="Link to this definition"></a><br /></dt>
<dd><p>Index where the next event will be added. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17fsm_event_queue_t8capacityE">
<span id="_CPPv3N17fsm_event_queue_t8capacityE"></span><span id="_CPPv2N17fsm_event_queue_t8capacityE"></span><span id="fsm_event_queue_t::capacity__fsm_queue_index_t"></span><span class="target" id="structfsm__event__queue__t_1af5cd82e9ae1036a38d2245f4e9cb17e1"></span><a class="reference internal" href="#_CPPv417fsm_queue_index_t" title="fsm_queue_index_t"><span class="n"><span class="pre">fsm_queue_index_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">capacity</span></span></span><a class="headerlink" href="#_CPPv4N17fsm_event_queue_t8capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Total number of entries in the queue. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv49fsm_state">
<span id="_CPPv39fsm_state"></span><span id="_CPPv29fsm_state"></span><span id="fsm_state"></span><span class="target" id="structfsm__state"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsm_state</span></span></span><a class="headerlink" href="#_CPPv49fsm_state" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#fsm_8h"><span class="std std-ref">fsm.h</span></a>&gt;</em></div>
<p>Structure representing a state in the FSM. </p>
<p>Each state has:<ul class="simple">
<li><p>An optional name (for debugging)</p></li>
<li><p>A numeric ID</p></li>
<li><p>A set of transitions triggered by events</p></li>
<li><p>A default action executed if no events are pending (optional) </p></li>
</ul>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9fsm_state4nameE">
<span id="_CPPv3N9fsm_state4nameE"></span><span id="_CPPv2N9fsm_state4nameE"></span><span id="fsm_state::name__cCP"></span><span class="target" id="structfsm__state_1a738a0e6293339a79b4622bb9696970b8"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">name</span></span></span><a class="headerlink" href="#_CPPv4N9fsm_state4nameE" title="Link to this definition"></a><br /></dt>
<dd><p>Human-readable name of the state (optional). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9fsm_state2idE">
<span id="_CPPv3N9fsm_state2idE"></span><span id="_CPPv2N9fsm_state2idE"></span><span id="fsm_state::id__uint8_t"></span><span class="target" id="structfsm__state_1a53f287ea6783a2a3bd5b27da91389d9f"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">id</span></span></span><a class="headerlink" href="#_CPPv4N9fsm_state2idE" title="Link to this definition"></a><br /></dt>
<dd><p>Numeric ID of the state. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9fsm_state11transitionsE">
<span id="_CPPv3N9fsm_state11transitionsE"></span><span id="_CPPv2N9fsm_state11transitionsE"></span><span id="fsm_state::transitions__fsm_transition_tCP"></span><span class="target" id="structfsm__state_1ac199fc039a3e4d8d1ca924fba3b38009"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv416fsm_transition_t" title="fsm_transition_t"><span class="n"><span class="pre">fsm_transition_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">transitions</span></span></span><a class="headerlink" href="#_CPPv4N9fsm_state11transitionsE" title="Link to this definition"></a><br /></dt>
<dd><p>Array of transitions for this state. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9fsm_state15num_transitionsE">
<span id="_CPPv3N9fsm_state15num_transitionsE"></span><span id="_CPPv2N9fsm_state15num_transitionsE"></span><span id="fsm_state::num_transitions__uint8_t"></span><span class="target" id="structfsm__state_1a12f919daef2fa14bb5fdf9e6141ee2f1"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">num_transitions</span></span></span><a class="headerlink" href="#_CPPv4N9fsm_state15num_transitionsE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of transitions in the array. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9fsm_state14default_actionE">
<span id="_CPPv3N9fsm_state14default_actionE"></span><span id="_CPPv2N9fsm_state14default_actionE"></span><span id="fsm_state::default_action__fsm_action_t"></span><span class="target" id="structfsm__state_1aceedd3c0d11082f2e8dd5ee25a7a8f16"></span><a class="reference internal" href="#_CPPv412fsm_action_t" title="fsm_action_t"><span class="n"><span class="pre">fsm_action_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">default_action</span></span></span><a class="headerlink" href="#_CPPv4N9fsm_state14default_actionE" title="Link to this definition"></a><br /></dt>
<dd><p>Default action executed when no events are pending (optional). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9fsm_state10timeout_msE">
<span id="_CPPv3N9fsm_state10timeout_msE"></span><span id="_CPPv2N9fsm_state10timeout_msE"></span><span id="fsm_state::timeout_ms__uint16_t"></span><span class="target" id="structfsm__state_1a48001e6fc5fac8ed81e38f51c4f49dd4"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timeout_ms</span></span></span><a class="headerlink" href="#_CPPv4N9fsm_state10timeout_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Timeout <em>deste</em> estado (0=desabilitado) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv416fsm_transition_t">
<span id="_CPPv316fsm_transition_t"></span><span id="_CPPv216fsm_transition_t"></span><span id="fsm_transition_t"></span><span class="target" id="structfsm__transition__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsm_transition_t</span></span></span><a class="headerlink" href="#_CPPv416fsm_transition_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#fsm_8h"><span class="std std-ref">fsm.h</span></a>&gt;</em></div>
<p>Structure representing a single transition in the FSM. </p>
<p>Each transition is triggered by a specific event and can optionally have a guard and an action. If the guard evaluates to true, the FSM transitions to the next state and executes the action (if not NULL). </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16fsm_transition_t5eventE">
<span id="_CPPv3N16fsm_transition_t5eventE"></span><span id="_CPPv2N16fsm_transition_t5eventE"></span><span id="fsm_transition_t::event__uint8_t"></span><span class="target" id="structfsm__transition__t_1a3bfdee0b406dbb2a829ae266cd753d8c"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">event</span></span></span><a class="headerlink" href="#_CPPv4N16fsm_transition_t5eventE" title="Link to this definition"></a><br /></dt>
<dd><p>Event that triggers the transition. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16fsm_transition_t10next_stateE">
<span id="_CPPv3N16fsm_transition_t10next_stateE"></span><span id="_CPPv2N16fsm_transition_t10next_stateE"></span><span id="fsm_transition_t::next_state__fsm_state_tCP"></span><span class="target" id="structfsm__transition__t_1a8f209db0253e351bdd802968297a2437"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411fsm_state_t" title="fsm_state_t"><span class="n"><span class="pre">fsm_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">next_state</span></span></span><a class="headerlink" href="#_CPPv4N16fsm_transition_t10next_stateE" title="Link to this definition"></a><br /></dt>
<dd><p>Pointer to the next state after transition. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16fsm_transition_t6actionE">
<span id="_CPPv3N16fsm_transition_t6actionE"></span><span id="_CPPv2N16fsm_transition_t6actionE"></span><span id="fsm_transition_t::action__fsm_action_t"></span><span class="target" id="structfsm__transition__t_1a5826bce8d0a3ed79179a20ad3f756242"></span><a class="reference internal" href="#_CPPv412fsm_action_t" title="fsm_action_t"><span class="n"><span class="pre">fsm_action_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">action</span></span></span><a class="headerlink" href="#_CPPv4N16fsm_transition_t6actionE" title="Link to this definition"></a><br /></dt>
<dd><p>Action executed during the transition (optional). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16fsm_transition_t5guardE">
<span id="_CPPv3N16fsm_transition_t5guardE"></span><span id="_CPPv2N16fsm_transition_t5guardE"></span><span id="fsm_transition_t::guard__fsm_guard_t"></span><span class="target" id="structfsm__transition__t_1a1e64627c86c570b407534539c8044dfc"></span><a class="reference internal" href="#_CPPv411fsm_guard_t" title="fsm_guard_t"><span class="n"><span class="pre">fsm_guard_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">guard</span></span></span><a class="headerlink" href="#_CPPv4N16fsm_transition_t5guardE" title="Link to this definition"></a><br /></dt>
<dd><p>Guard condition for the transition (optional). </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv419mb_adu_hash_entry_t">
<span id="_CPPv319mb_adu_hash_entry_t"></span><span id="_CPPv219mb_adu_hash_entry_t"></span><span id="mb_adu_hash_entry_t"></span><span class="target" id="structmb__adu__hash__entry__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_adu_hash_entry_t</span></span></span><a class="headerlink" href="#_CPPv419mb_adu_hash_entry_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#dup__filter_8h"><span class="std std-ref">dup_filter.h</span></a>&gt;</em></div>
<p>ADU hash entry. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_adu_hash_entry_t4hashE">
<span id="_CPPv3N19mb_adu_hash_entry_t4hashE"></span><span id="_CPPv2N19mb_adu_hash_entry_t4hashE"></span><span id="mb_adu_hash_entry_t::hash__uint32_t"></span><span class="target" id="structmb__adu__hash__entry__t_1a73348fab314f457017ae135630af3689"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hash</span></span></span><a class="headerlink" href="#_CPPv4N19mb_adu_hash_entry_t4hashE" title="Link to this definition"></a><br /></dt>
<dd><p>Frame hash value </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_adu_hash_entry_t12timestamp_msE">
<span id="_CPPv3N19mb_adu_hash_entry_t12timestamp_msE"></span><span id="_CPPv2N19mb_adu_hash_entry_t12timestamp_msE"></span><span id="mb_adu_hash_entry_t::timestamp_ms__uint32_t"></span><span class="target" id="structmb__adu__hash__entry__t_1ae9c3f7a774ccfb658fa2a8d7ea529e86"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timestamp_ms</span></span></span><a class="headerlink" href="#_CPPv4N19mb_adu_hash_entry_t12timestamp_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Timestamp when frame was seen </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv413mb_adu_view_t">
<span id="_CPPv313mb_adu_view_t"></span><span id="_CPPv213mb_adu_view_t"></span><span id="mb_adu_view_t"></span><span class="target" id="structmb__adu__view__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_adu_view_t</span></span></span><a class="headerlink" href="#_CPPv413mb_adu_view_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#frame_8h"><span class="std std-ref">frame.h</span></a>&gt;</em></div>
<p>Lightweight view over a Modbus ADU payload. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_adu_view_t7unit_idE">
<span id="_CPPv3N13mb_adu_view_t7unit_idE"></span><span id="_CPPv2N13mb_adu_view_t7unit_idE"></span><span id="mb_adu_view_t::unit_id__mb_u8"></span><span class="target" id="structmb__adu__view__t_1a5b4387de76c19a47aa149c5ba254269f"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">unit_id</span></span></span><a class="headerlink" href="#_CPPv4N13mb_adu_view_t7unit_idE" title="Link to this definition"></a><br /></dt>
<dd><p>Slave / server address (a.k.a. unit identifier). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_adu_view_t8functionE">
<span id="_CPPv3N13mb_adu_view_t8functionE"></span><span id="_CPPv2N13mb_adu_view_t8functionE"></span><span id="mb_adu_view_t::function__mb_u8"></span><span class="target" id="structmb__adu__view__t_1a32f9d365914862ba467e07e927ef4720"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">function</span></span></span><a class="headerlink" href="#_CPPv4N13mb_adu_view_t8functionE" title="Link to this definition"></a><br /></dt>
<dd><p>Function code. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_adu_view_t7payloadE">
<span id="_CPPv3N13mb_adu_view_t7payloadE"></span><span id="_CPPv2N13mb_adu_view_t7payloadE"></span><span id="mb_adu_view_t::payload__mb_u8CP"></span><span class="target" id="structmb__adu__view__t_1ac1bc34a2a3c867f5f426b037a9d345fc"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">payload</span></span></span><a class="headerlink" href="#_CPPv4N13mb_adu_view_t7payloadE" title="Link to this definition"></a><br /></dt>
<dd><p>Pointer to bytes immediately after the function code. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_adu_view_t11payload_lenE">
<span id="_CPPv3N13mb_adu_view_t11payload_lenE"></span><span id="_CPPv2N13mb_adu_view_t11payload_lenE"></span><span id="mb_adu_view_t::payload_len__mb_size_t"></span><span class="target" id="structmb__adu__view__t_1a3660f0074683633fcd7f3d486e627f79"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">payload_len</span></span></span><a class="headerlink" href="#_CPPv4N13mb_adu_view_t11payload_lenE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of payload bytes (may be zero). </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv49mb_client">
<span id="_CPPv39mb_client"></span><span id="_CPPv29mb_client"></span><span id="mb_client"></span><span class="target" id="structmb__client"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client</span></span></span><a class="headerlink" href="#_CPPv49mb_client" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client_8h"><span class="std std-ref">client.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client5ifaceE">
<span id="_CPPv3N9mb_client5ifaceE"></span><span id="_CPPv2N9mb_client5ifaceE"></span><span id="mb_client::iface__mb_transport_if_tCP"></span><span class="target" id="structmb__client_1a7ed47d42540a5096dda2f1c8e8e34fba"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iface</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client5ifaceE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client9transportE">
<span id="_CPPv3N9mb_client9transportE"></span><span id="_CPPv2N9mb_client9transportE"></span><span id="mb_client::transport__mb_client_transport_t"></span><span class="target" id="structmb__client_1af202cd774318e521cd7a24f5b5338e5f"></span><a class="reference internal" href="#_CPPv421mb_client_transport_t" title="mb_client_transport_t"><span class="n"><span class="pre">mb_client_transport_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">transport</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client9transportE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client4poolE">
<span id="_CPPv3N9mb_client4poolE"></span><span id="_CPPv2N9mb_client4poolE"></span><span id="mb_client::pool__mb_client_txn_tP"></span><span class="target" id="structmb__client_1a65e26e05242a046b8a589097fc275ef5"></span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">pool</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client4poolE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client9pool_sizeE">
<span id="_CPPv3N9mb_client9pool_sizeE"></span><span id="_CPPv2N9mb_client9pool_sizeE"></span><span id="mb_client::pool_size__mb_size_t"></span><span class="target" id="structmb__client_1a0d6f660e572f457389fe1f61667041a1"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pool_size</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client9pool_sizeE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client12pending_headE">
<span id="_CPPv3N9mb_client12pending_headE"></span><span id="_CPPv2N9mb_client12pending_headE"></span><span id="mb_client::pending_head__mb_client_txn_tP"></span><span class="target" id="structmb__client_1a4d68385ccd006b0f30e8681860f89a8e"></span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">pending_head</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client12pending_headE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client12pending_tailE">
<span id="_CPPv3N9mb_client12pending_tailE"></span><span id="_CPPv2N9mb_client12pending_tailE"></span><span id="mb_client::pending_tail__mb_client_txn_tP"></span><span class="target" id="structmb__client_1a657618990db4620fe368677faee930a4"></span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">pending_tail</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client12pending_tailE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client7currentE">
<span id="_CPPv3N9mb_client7currentE"></span><span id="_CPPv2N9mb_client7currentE"></span><span id="mb_client::current__mb_client_txn_tP"></span><span class="target" id="structmb__client_1a4cb341019a3de76cdb35671f2c7918f6"></span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">current</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client7currentE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client5stateE">
<span id="_CPPv3N9mb_client5stateE"></span><span id="_CPPv2N9mb_client5stateE"></span><span id="mb_client::state__mb_client_state_t"></span><span class="target" id="structmb__client_1a9f326b8ea37c06fd80e2c3b0854b582a"></span><a class="reference internal" href="#_CPPv417mb_client_state_t" title="mb_client_state_t"><span class="n"><span class="pre">mb_client_state_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client5stateE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client11watchdog_msE">
<span id="_CPPv3N9mb_client11watchdog_msE"></span><span id="_CPPv2N9mb_client11watchdog_msE"></span><span id="mb_client::watchdog_ms__mb_time_ms_t"></span><span class="target" id="structmb__client_1a1c2664e038db46544e77c8c9fae24c90"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">watchdog_ms</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client11watchdog_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client8next_tidE">
<span id="_CPPv3N9mb_client8next_tidE"></span><span id="_CPPv2N9mb_client8next_tidE"></span><span id="mb_client::next_tid__mb_u16"></span><span class="target" id="structmb__client_1a0a92da113aa903f1ec5a5074085eff84"></span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">next_tid</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client8next_tidE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client14queue_capacityE">
<span id="_CPPv3N9mb_client14queue_capacityE"></span><span id="_CPPv2N9mb_client14queue_capacityE"></span><span id="mb_client::queue_capacity__mb_size_t"></span><span class="target" id="structmb__client_1a84e41e0191462200c3ae6ec82989019e"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">queue_capacity</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client14queue_capacityE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client13pending_countE">
<span id="_CPPv3N9mb_client13pending_countE"></span><span id="_CPPv2N9mb_client13pending_countE"></span><span id="mb_client::pending_count__mb_size_t"></span><span class="target" id="structmb__client_1a7e0bae1088a95cba1f7ba72717093f33"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pending_count</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client13pending_countE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client11fc_timeoutsE">
<span id="_CPPv3N9mb_client11fc_timeoutsE"></span><span id="_CPPv2N9mb_client11fc_timeoutsE"></span><span id="mb_client::fc_timeouts__mb_time_ms_tA"></span><span class="target" id="structmb__client_1a15eb1c0e83119033fa0b6504fd810eb3"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fc_timeouts</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">256</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N9mb_client11fc_timeoutsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client7metricsE">
<span id="_CPPv3N9mb_client7metricsE"></span><span id="_CPPv2N9mb_client7metricsE"></span><span id="mb_client::metrics__mb_client_metrics_t"></span><span class="target" id="structmb__client_1aadbe7bec3ae93adcfccae838ad6ec77e"></span><a class="reference internal" href="#_CPPv419mb_client_metrics_t" title="mb_client_metrics_t"><span class="n"><span class="pre">mb_client_metrics_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">metrics</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client7metricsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client4diagE">
<span id="_CPPv3N9mb_client4diagE"></span><span id="_CPPv2N9mb_client4diagE"></span><span id="mb_client::diag__mb_diag_state_t"></span><span class="target" id="structmb__client_1a1add54b4141d87512deff3b4a1b26bff"></span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">diag</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client4diagE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client11observer_cbE">
<span id="_CPPv3N9mb_client11observer_cbE"></span><span id="_CPPv2N9mb_client11observer_cbE"></span><span id="mb_client::observer_cb__mb_event_callback_t"></span><span class="target" id="structmb__client_1a8bb5ba664ea4446935ef965946a82d87"></span><a class="reference internal" href="#_CPPv419mb_event_callback_t" title="mb_event_callback_t"><span class="n"><span class="pre">mb_event_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">observer_cb</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client11observer_cbE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client13observer_userE">
<span id="_CPPv3N9mb_client13observer_userE"></span><span id="_CPPv2N9mb_client13observer_userE"></span><span id="mb_client::observer_user__voidP"></span><span class="target" id="structmb__client_1a54ffb1bf652451095a0ca18085547a3f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">observer_user</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client13observer_userE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client9trace_hexE">
<span id="_CPPv3N9mb_client9trace_hexE"></span><span id="_CPPv2N9mb_client9trace_hexE"></span><span id="mb_client::trace_hex__b"></span><span class="target" id="structmb__client_1aea133b2b3df985f95fc3dfe3c66b784d"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">trace_hex</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client9trace_hexE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_client11poll_jitterE">
<span id="_CPPv3N9mb_client11poll_jitterE"></span><span id="_CPPv2N9mb_client11poll_jitterE"></span><span id="mb_client::poll_jitter__mb_poll_jitter_t"></span><span class="target" id="structmb__client_1a61717200d4f61c81b5a0ef55f385a194"></span><a class="reference internal" href="#_CPPv416mb_poll_jitter_t" title="mb_poll_jitter_t"><span class="n"><span class="pre">mb_poll_jitter_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">poll_jitter</span></span></span><a class="headerlink" href="#_CPPv4N9mb_client11poll_jitterE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv419mb_client_metrics_t">
<span id="_CPPv319mb_client_metrics_t"></span><span id="_CPPv219mb_client_metrics_t"></span><span id="mb_client_metrics_t"></span><span class="target" id="structmb__client__metrics__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_metrics_t</span></span></span><a class="headerlink" href="#_CPPv419mb_client_metrics_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client_8h"><span class="std std-ref">client.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t9submittedE">
<span id="_CPPv3N19mb_client_metrics_t9submittedE"></span><span id="_CPPv2N19mb_client_metrics_t9submittedE"></span><span id="mb_client_metrics_t::submitted__mb_u64"></span><span class="target" id="structmb__client__metrics__t_1ac086693031fc267c00901635457fd6f6"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">submitted</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t9submittedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t9completedE">
<span id="_CPPv3N19mb_client_metrics_t9completedE"></span><span id="_CPPv2N19mb_client_metrics_t9completedE"></span><span id="mb_client_metrics_t::completed__mb_u64"></span><span class="target" id="structmb__client__metrics__t_1a7d4488552932be0141188a320c0c1f8c"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">completed</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t9completedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t7retriesE">
<span id="_CPPv3N19mb_client_metrics_t7retriesE"></span><span id="_CPPv2N19mb_client_metrics_t7retriesE"></span><span id="mb_client_metrics_t::retries__mb_u64"></span><span class="target" id="structmb__client__metrics__t_1a68b6d62453e62fdb14bfcfdf6a34d0ca"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">retries</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t7retriesE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t8timeoutsE">
<span id="_CPPv3N19mb_client_metrics_t8timeoutsE"></span><span id="_CPPv2N19mb_client_metrics_t8timeoutsE"></span><span id="mb_client_metrics_t::timeouts__mb_u64"></span><span class="target" id="structmb__client__metrics__t_1adf67671650596eb3ed233ee27d6765c1"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timeouts</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t8timeoutsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t6errorsE">
<span id="_CPPv3N19mb_client_metrics_t6errorsE"></span><span id="_CPPv2N19mb_client_metrics_t6errorsE"></span><span id="mb_client_metrics_t::errors__mb_u64"></span><span class="target" id="structmb__client__metrics__t_1a8361a4ee3995ea0613b0be8e48aaeb36"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">errors</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t6errorsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t9cancelledE">
<span id="_CPPv3N19mb_client_metrics_t9cancelledE"></span><span id="_CPPv2N19mb_client_metrics_t9cancelledE"></span><span id="mb_client_metrics_t::cancelled__mb_u64"></span><span class="target" id="structmb__client__metrics__t_1a3a12c505da5462f722da66d40c7f6d86"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cancelled</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t9cancelledE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t15poison_triggersE">
<span id="_CPPv3N19mb_client_metrics_t15poison_triggersE"></span><span id="_CPPv2N19mb_client_metrics_t15poison_triggersE"></span><span id="mb_client_metrics_t::poison_triggers__mb_u64"></span><span class="target" id="structmb__client__metrics__t_1abae2fbe402c3751ade6b1ddbfcee3731"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">poison_triggers</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t15poison_triggersE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t8bytes_txE">
<span id="_CPPv3N19mb_client_metrics_t8bytes_txE"></span><span id="_CPPv2N19mb_client_metrics_t8bytes_txE"></span><span id="mb_client_metrics_t::bytes_tx__mb_u64"></span><span class="target" id="structmb__client__metrics__t_1a1bd2c644620dfc435812ce0b90df17e4"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bytes_tx</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t8bytes_txE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t8bytes_rxE">
<span id="_CPPv3N19mb_client_metrics_t8bytes_rxE"></span><span id="_CPPv2N19mb_client_metrics_t8bytes_rxE"></span><span id="mb_client_metrics_t::bytes_rx__mb_u64"></span><span class="target" id="structmb__client__metrics__t_1af2165680ac8ae1ddf0dcc326d5605b96"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bytes_rx</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t8bytes_rxE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t14response_countE">
<span id="_CPPv3N19mb_client_metrics_t14response_countE"></span><span id="_CPPv2N19mb_client_metrics_t14response_countE"></span><span id="mb_client_metrics_t::response_count__mb_u64"></span><span class="target" id="structmb__client__metrics__t_1a774257ec5f4524f273041621207a3349"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">response_count</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t14response_countE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t25response_latency_total_msE">
<span id="_CPPv3N19mb_client_metrics_t25response_latency_total_msE"></span><span id="_CPPv2N19mb_client_metrics_t25response_latency_total_msE"></span><span id="mb_client_metrics_t::response_latency_total_ms__mb_u64"></span><span class="target" id="structmb__client__metrics__t_1a0b9fd4ddb4d1527c515916ead49f0510"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">response_latency_total_ms</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t25response_latency_total_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t18step_max_jitter_msE">
<span id="_CPPv3N19mb_client_metrics_t18step_max_jitter_msE"></span><span id="_CPPv2N19mb_client_metrics_t18step_max_jitter_msE"></span><span id="mb_client_metrics_t::step_max_jitter_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__metrics__t_1a8e9267b6357a0b614b3e9861f344e013"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">step_max_jitter_ms</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t18step_max_jitter_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_client_metrics_t18step_avg_jitter_msE">
<span id="_CPPv3N19mb_client_metrics_t18step_avg_jitter_msE"></span><span id="_CPPv2N19mb_client_metrics_t18step_avg_jitter_msE"></span><span id="mb_client_metrics_t::step_avg_jitter_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__metrics__t_1a245be9488178a51efceb6d2167f71437"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">step_avg_jitter_ms</span></span></span><a class="headerlink" href="#_CPPv4N19mb_client_metrics_t18step_avg_jitter_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv417mb_client_request">
<span id="_CPPv317mb_client_request"></span><span id="_CPPv217mb_client_request"></span><span id="mb_client_request"></span><span class="target" id="structmb__client__request"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_request</span></span></span><a class="headerlink" href="#_CPPv417mb_client_request" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client_8h"><span class="std std-ref">client.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_request5flagsE">
<span id="_CPPv3N17mb_client_request5flagsE"></span><span id="_CPPv2N17mb_client_request5flagsE"></span><span id="mb_client_request::flags__uint32_t"></span><span class="target" id="structmb__client__request_1a8935d564a2e4b5a872265ea014a1f755"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_request5flagsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_request7requestE">
<span id="_CPPv3N17mb_client_request7requestE"></span><span id="_CPPv2N17mb_client_request7requestE"></span><span id="mb_client_request::request__mb_adu_view_t"></span><span class="target" id="structmb__client__request_1ac322e5c2804dd65be9a6bdd29faeb96e"></span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">request</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_request7requestE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_request10timeout_msE">
<span id="_CPPv3N17mb_client_request10timeout_msE"></span><span id="_CPPv2N17mb_client_request10timeout_msE"></span><span id="mb_client_request::timeout_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__request_1a604fd034ec20c23427635ac980a398f6"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timeout_ms</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_request10timeout_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_request11max_retriesE">
<span id="_CPPv3N17mb_client_request11max_retriesE"></span><span id="_CPPv2N17mb_client_request11max_retriesE"></span><span id="mb_client_request::max_retries__mb_u8"></span><span class="target" id="structmb__client__request_1aabf6ad95f4aa3b81ff44237cd46f4ada"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_retries</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_request11max_retriesE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_request16retry_backoff_msE">
<span id="_CPPv3N17mb_client_request16retry_backoff_msE"></span><span id="_CPPv2N17mb_client_request16retry_backoff_msE"></span><span id="mb_client_request::retry_backoff_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__request_1adcd426ed7f450e12b8ced3568f3227cf"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">retry_backoff_ms</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_request16retry_backoff_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_request8callbackE">
<span id="_CPPv3N17mb_client_request8callbackE"></span><span id="_CPPv2N17mb_client_request8callbackE"></span><span id="mb_client_request::callback__mb_client_callback_t"></span><span class="target" id="structmb__client__request_1a0309f8c6ba35cc74be6b386e247bf084"></span><a class="reference internal" href="#_CPPv420mb_client_callback_t" title="mb_client_callback_t"><span class="n"><span class="pre">mb_client_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">callback</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_request8callbackE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_request8user_ctxE">
<span id="_CPPv3N17mb_client_request8user_ctxE"></span><span id="_CPPv2N17mb_client_request8user_ctxE"></span><span id="mb_client_request::user_ctx__voidP"></span><span class="target" id="structmb__client__request_1ae6d74c1d0f15189c6c17bd84431ab34f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">user_ctx</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_request8user_ctxE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv421mb_client_sync_opts_t">
<span id="_CPPv321mb_client_sync_opts_t"></span><span id="_CPPv221mb_client_sync_opts_t"></span><span id="mb_client_sync_opts_t"></span><span class="target" id="structmb__client__sync__opts__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></span><a class="headerlink" href="#_CPPv421mb_client_sync_opts_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client__sync_8h"><span class="std std-ref">client_sync.h</span></a>&gt;</em></div>
<p>Options controlling a synchronous client request. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_client_sync_opts_t10timeout_msE">
<span id="_CPPv3N21mb_client_sync_opts_t10timeout_msE"></span><span id="_CPPv2N21mb_client_sync_opts_t10timeout_msE"></span><span id="mb_client_sync_opts_t::timeout_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__sync__opts__t_1aedf4af55d5d839c7c51bbd08eb2d3598"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timeout_ms</span></span></span><a class="headerlink" href="#_CPPv4N21mb_client_sync_opts_t10timeout_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional timeout in milliseconds. When zero, the helper falls back to <a class="reference internal" href="#client__sync_8h_1afc1785e0c9e6fa63cf849dbc45f6bebb"><span class="std std-ref">MB_CLIENT_SYNC_TIMEOUT_DEFAULT</span></a> (in addition to the per-request timeout managed by the FSM itself). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_client_sync_opts_t11max_retriesE">
<span id="_CPPv3N21mb_client_sync_opts_t11max_retriesE"></span><span id="_CPPv2N21mb_client_sync_opts_t11max_retriesE"></span><span id="mb_client_sync_opts_t::max_retries__mb_u8"></span><span class="target" id="structmb__client__sync__opts__t_1a22556b8cca76832cf002b6c4de9dab8b"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_retries</span></span></span><a class="headerlink" href="#_CPPv4N21mb_client_sync_opts_t11max_retriesE" title="Link to this definition"></a><br /></dt>
<dd><p>Maximum number of retries issued by the client FSM. Set to zero to inherit the client’s default policy. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_client_sync_opts_t16retry_backoff_msE">
<span id="_CPPv3N21mb_client_sync_opts_t16retry_backoff_msE"></span><span id="_CPPv2N21mb_client_sync_opts_t16retry_backoff_msE"></span><span id="mb_client_sync_opts_t::retry_backoff_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__sync__opts__t_1a65e1bb7b9f310547cb7976660a6b8a1a"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">retry_backoff_ms</span></span></span><a class="headerlink" href="#_CPPv4N21mb_client_sync_opts_t16retry_backoff_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Backoff between retries, in milliseconds. Ignored when zero. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv422mb_client_sync_state_t">
<span id="_CPPv322mb_client_sync_state_t"></span><span id="_CPPv222mb_client_sync_state_t"></span><span id="mb_client_sync_state_t"></span><span class="target" id="structmb__client__sync__state__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_sync_state_t</span></span></span><a class="headerlink" href="#_CPPv422mb_client_sync_state_t" title="Link to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_client_sync_state_t9completedE">
<span id="_CPPv3N22mb_client_sync_state_t9completedE"></span><span id="_CPPv2N22mb_client_sync_state_t9completedE"></span><span id="mb_client_sync_state_t::completed__bV"></span><span class="target" id="structmb__client__sync__state__t_1a65ba4880246acdae306c8960b509f120"></span><span class="k"><span class="pre">volatile</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">completed</span></span></span><a class="headerlink" href="#_CPPv4N22mb_client_sync_state_t9completedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_client_sync_state_t6statusE">
<span id="_CPPv3N22mb_client_sync_state_t6statusE"></span><span id="_CPPv2N22mb_client_sync_state_t6statusE"></span><span id="mb_client_sync_state_t::status__mb_err_t"></span><span class="target" id="structmb__client__sync__state__t_1aa0d95e2ac02c7525f536ed329d12a945"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">status</span></span></span><a class="headerlink" href="#_CPPv4N22mb_client_sync_state_t6statusE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_client_sync_state_t8functionE">
<span id="_CPPv3N22mb_client_sync_state_t8functionE"></span><span id="_CPPv2N22mb_client_sync_state_t8functionE"></span><span id="mb_client_sync_state_t::function__uint8_t"></span><span class="target" id="structmb__client__sync__state__t_1a2d26bd71230673ae506aac5c6f336393"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">function</span></span></span><a class="headerlink" href="#_CPPv4N22mb_client_sync_state_t8functionE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_client_sync_state_t7unit_idE">
<span id="_CPPv3N22mb_client_sync_state_t7unit_idE"></span><span id="_CPPv2N22mb_client_sync_state_t7unit_idE"></span><span id="mb_client_sync_state_t::unit_id__uint8_t"></span><span class="target" id="structmb__client__sync__state__t_1ab805e446ccce0f076e6a590010ff548f"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">unit_id</span></span></span><a class="headerlink" href="#_CPPv4N22mb_client_sync_state_t7unit_idE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_client_sync_state_t7payloadE">
<span id="_CPPv3N22mb_client_sync_state_t7payloadE"></span><span id="_CPPv2N22mb_client_sync_state_t7payloadE"></span><span id="mb_client_sync_state_t::payload__uint8_tA"></span><span class="target" id="structmb__client__sync__state__t_1a70fbe79351c1a18b81aec6427a6846a7"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">payload</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MB_PDU_MAX</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N22mb_client_sync_state_t7payloadE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_client_sync_state_t11payload_lenE">
<span id="_CPPv3N22mb_client_sync_state_t11payload_lenE"></span><span id="_CPPv2N22mb_client_sync_state_t11payload_lenE"></span><span id="mb_client_sync_state_t::payload_len__mb_size_t"></span><span class="target" id="structmb__client__sync__state__t_1a6c466b593cbcc7c173bd2f835cf24913"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">payload_len</span></span></span><a class="headerlink" href="#_CPPv4N22mb_client_sync_state_t11payload_lenE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv413mb_client_txn">
<span id="_CPPv313mb_client_txn"></span><span id="_CPPv213mb_client_txn"></span><span id="mb_client_txn"></span><span class="target" id="structmb__client__txn"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_txn</span></span></span><a class="headerlink" href="#_CPPv413mb_client_txn" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client_8h"><span class="std std-ref">client.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn6in_useE">
<span id="_CPPv3N13mb_client_txn6in_useE"></span><span id="_CPPv2N13mb_client_txn6in_useE"></span><span id="mb_client_txn::in_use__b"></span><span class="target" id="structmb__client__txn_1ad9cc3b83fcb3e29862ce6fabe9832fb0"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">in_use</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn6in_useE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn6queuedE">
<span id="_CPPv3N13mb_client_txn6queuedE"></span><span id="_CPPv2N13mb_client_txn6queuedE"></span><span id="mb_client_txn::queued__b"></span><span class="target" id="structmb__client__txn_1a2f9b4572b7406d658c729d84a0308b7a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">queued</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn6queuedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn9completedE">
<span id="_CPPv3N13mb_client_txn9completedE"></span><span id="_CPPv2N13mb_client_txn9completedE"></span><span id="mb_client_txn::completed__b"></span><span class="target" id="structmb__client__txn_1abb09f9b0c5a3b211f906614d89dbb66d"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">completed</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn9completedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn9cancelledE">
<span id="_CPPv3N13mb_client_txn9cancelledE"></span><span id="_CPPv2N13mb_client_txn9cancelledE"></span><span id="mb_client_txn::cancelled__b"></span><span class="target" id="structmb__client__txn_1a9f83ea2f09480b9f79295775d5d0aa6d"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cancelled</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn9cancelledE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn16callback_pendingE">
<span id="_CPPv3N13mb_client_txn16callback_pendingE"></span><span id="_CPPv2N13mb_client_txn16callback_pendingE"></span><span id="mb_client_txn::callback_pending__b"></span><span class="target" id="structmb__client__txn_1afaba0c740e23b9c8e3122f3c2cc8c4e2"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">callback_pending</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn16callback_pendingE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn15expect_responseE">
<span id="_CPPv3N13mb_client_txn15expect_responseE"></span><span id="_CPPv2N13mb_client_txn15expect_responseE"></span><span id="mb_client_txn::expect_response__b"></span><span class="target" id="structmb__client__txn_1ab10ecd775fb15370e455c04f3c27de8b"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">expect_response</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn15expect_responseE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn13high_priorityE">
<span id="_CPPv3N13mb_client_txn13high_priorityE"></span><span id="_CPPv2N13mb_client_txn13high_priorityE"></span><span id="mb_client_txn::high_priority__b"></span><span class="target" id="structmb__client__txn_1aa47702e67965aa7882813605ae2cac13"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">high_priority</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn13high_priorityE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn6poisonE">
<span id="_CPPv3N13mb_client_txn6poisonE"></span><span id="_CPPv2N13mb_client_txn6poisonE"></span><span id="mb_client_txn::poison__b"></span><span class="target" id="structmb__client__txn_1a78ead9beb1b568b3b045057000219f73"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">poison</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn6poisonE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn3cfgE">
<span id="_CPPv3N13mb_client_txn3cfgE"></span><span id="_CPPv2N13mb_client_txn3cfgE"></span><span id="mb_client_txn::cfg__mb_client_request_t"></span><span class="target" id="structmb__client__txn_1a601ea6277a85fa48203b8249da25cd84"></span><a class="reference internal" href="#_CPPv419mb_client_request_t" title="mb_client_request_t"><span class="n"><span class="pre">mb_client_request_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">cfg</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn3cfgE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn6statusE">
<span id="_CPPv3N13mb_client_txn6statusE"></span><span id="_CPPv2N13mb_client_txn6statusE"></span><span id="mb_client_txn::status__mb_err_t"></span><span class="target" id="structmb__client__txn_1a148e63277bd9702a580ed556476feff0"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">status</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn6statusE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn11retry_countE">
<span id="_CPPv3N13mb_client_txn11retry_countE"></span><span id="_CPPv2N13mb_client_txn11retry_countE"></span><span id="mb_client_txn::retry_count__mb_u8"></span><span class="target" id="structmb__client__txn_1a87a2f9c7b174d9f9b040ab0c95257d27"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">retry_count</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn11retry_countE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn11max_retriesE">
<span id="_CPPv3N13mb_client_txn11max_retriesE"></span><span id="_CPPv2N13mb_client_txn11max_retriesE"></span><span id="mb_client_txn::max_retries__mb_u8"></span><span class="target" id="structmb__client__txn_1a94460166ec1151e348707b1450cab4e8"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_retries</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn11max_retriesE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn10timeout_msE">
<span id="_CPPv3N13mb_client_txn10timeout_msE"></span><span id="_CPPv2N13mb_client_txn10timeout_msE"></span><span id="mb_client_txn::timeout_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__txn_1a3da98364609d99f1df9b9682c96e0b5a"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timeout_ms</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn10timeout_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn15base_timeout_msE">
<span id="_CPPv3N13mb_client_txn15base_timeout_msE"></span><span id="_CPPv2N13mb_client_txn15base_timeout_msE"></span><span id="mb_client_txn::base_timeout_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__txn_1afef6a32ca7fd77a1476eb73008c1bf73"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">base_timeout_ms</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn15base_timeout_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn16retry_backoff_msE">
<span id="_CPPv3N13mb_client_txn16retry_backoff_msE"></span><span id="_CPPv2N13mb_client_txn16retry_backoff_msE"></span><span id="mb_client_txn::retry_backoff_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__txn_1ada0189e44f0e751fa9ee01616151a684"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">retry_backoff_ms</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn16retry_backoff_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn8deadlineE">
<span id="_CPPv3N13mb_client_txn8deadlineE"></span><span id="_CPPv2N13mb_client_txn8deadlineE"></span><span id="mb_client_txn::deadline__mb_time_ms_t"></span><span class="target" id="structmb__client__txn_1a0484299ae8d7e72d4d73711c4ecb3b74"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">deadline</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn8deadlineE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn17watchdog_deadlineE">
<span id="_CPPv3N13mb_client_txn17watchdog_deadlineE"></span><span id="_CPPv2N13mb_client_txn17watchdog_deadlineE"></span><span id="mb_client_txn::watchdog_deadline__mb_time_ms_t"></span><span class="target" id="structmb__client__txn_1af2dda67ebe924669b1ddcac9a442ff61"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">watchdog_deadline</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn17watchdog_deadlineE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn15next_attempt_msE">
<span id="_CPPv3N13mb_client_txn15next_attempt_msE"></span><span id="_CPPv2N13mb_client_txn15next_attempt_msE"></span><span id="mb_client_txn::next_attempt_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__txn_1a56d4c952fa82ab14ef261daa4ecf9411"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">next_attempt_ms</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn15next_attempt_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn10start_timeE">
<span id="_CPPv3N13mb_client_txn10start_timeE"></span><span id="_CPPv2N13mb_client_txn10start_timeE"></span><span id="mb_client_txn::start_time__mb_time_ms_t"></span><span class="target" id="structmb__client__txn_1a102b4f2b13e084a08b46d4b504ed6cf4"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">start_time</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn10start_timeE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn12request_viewE">
<span id="_CPPv3N13mb_client_txn12request_viewE"></span><span id="_CPPv2N13mb_client_txn12request_viewE"></span><span id="mb_client_txn::request_view__mb_adu_view_t"></span><span class="target" id="structmb__client__txn_1a71ad62631988bdebc11e125c7338fd81"></span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">request_view</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn12request_viewE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn13response_viewE">
<span id="_CPPv3N13mb_client_txn13response_viewE"></span><span id="_CPPv2N13mb_client_txn13response_viewE"></span><span id="mb_client_txn::response_view__mb_adu_view_t"></span><span class="target" id="structmb__client__txn_1a98fd0deca3a634b7a305bd8f91eb2f0a"></span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">response_view</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn13response_viewE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn15request_storageE">
<span id="_CPPv3N13mb_client_txn15request_storageE"></span><span id="_CPPv2N13mb_client_txn15request_storageE"></span><span id="mb_client_txn::request_storage__mb_u8A"></span><span class="target" id="structmb__client__txn_1a3027652bc5e8f8afabc86fe2011a6e07"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">request_storage</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MB_PDU_MAX</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn15request_storageE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn16response_storageE">
<span id="_CPPv3N13mb_client_txn16response_storageE"></span><span id="_CPPv2N13mb_client_txn16response_storageE"></span><span id="mb_client_txn::response_storage__mb_u8A"></span><span class="target" id="structmb__client__txn_1a325df52100602dcbb6125bd1eaa1c363"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">response_storage</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MB_PDU_MAX</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn16response_storageE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn3tidE">
<span id="_CPPv3N13mb_client_txn3tidE"></span><span id="_CPPv2N13mb_client_txn3tidE"></span><span id="mb_client_txn::tid__mb_u16"></span><span class="target" id="structmb__client__txn_1ad8fc421e6eb74315456a9ff25bac0d75"></span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tid</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn3tidE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn8tx_phaseE">
<span id="_CPPv3N13mb_client_txn8tx_phaseE"></span><span id="_CPPv2N13mb_client_txn8tx_phaseE"></span><span id="mb_client_txn::tx_phase__mb_poll_tx_phase_t"></span><span class="target" id="structmb__client__txn_1ad0823647ab0a6c92bd4186a43a16a0ce"></span><a class="reference internal" href="#_CPPv418mb_poll_tx_phase_t" title="mb_poll_tx_phase_t"><span class="n"><span class="pre">mb_poll_tx_phase_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_phase</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn8tx_phaseE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn8rx_phaseE">
<span id="_CPPv3N13mb_client_txn8rx_phaseE"></span><span id="_CPPv2N13mb_client_txn8rx_phaseE"></span><span id="mb_client_txn::rx_phase__mb_poll_rx_phase_t"></span><span class="target" id="structmb__client__txn_1a5e8cd894ade711c631fd1a0e37433d78"></span><a class="reference internal" href="#_CPPv418mb_poll_rx_phase_t" title="mb_poll_rx_phase_t"><span class="n"><span class="pre">mb_poll_rx_phase_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_phase</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn8rx_phaseE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn14tx_deadline_msE">
<span id="_CPPv3N13mb_client_txn14tx_deadline_msE"></span><span id="_CPPv2N13mb_client_txn14tx_deadline_msE"></span><span id="mb_client_txn::tx_deadline_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__txn_1ae2cb7661507876228966804129541b39"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_deadline_ms</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn14tx_deadline_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn14rx_deadline_msE">
<span id="_CPPv3N13mb_client_txn14rx_deadline_msE"></span><span id="_CPPv2N13mb_client_txn14rx_deadline_msE"></span><span id="mb_client_txn::rx_deadline_ms__mb_time_ms_t"></span><span class="target" id="structmb__client__txn_1a2cb9f5ac1ede9f53af1f9be4c234d6ad"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_deadline_ms</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn14rx_deadline_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn10rx_pendingE">
<span id="_CPPv3N13mb_client_txn10rx_pendingE"></span><span id="_CPPv2N13mb_client_txn10rx_pendingE"></span><span id="mb_client_txn::rx_pending__b"></span><span class="target" id="structmb__client__txn_1a40d2d58a0e695784bff67a45b2a4a218"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_pending</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn10rx_pendingE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn9rx_statusE">
<span id="_CPPv3N13mb_client_txn9rx_statusE"></span><span id="_CPPv2N13mb_client_txn9rx_statusE"></span><span id="mb_client_txn::rx_status__mb_err_t"></span><span class="target" id="structmb__client__txn_1a8e4ac77850f7cdd706abf214e5a3a1bc"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_status</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn9rx_statusE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn7rx_viewE">
<span id="_CPPv3N13mb_client_txn7rx_viewE"></span><span id="_CPPv2N13mb_client_txn7rx_viewE"></span><span id="mb_client_txn::rx_view__mb_adu_view_t"></span><span class="target" id="structmb__client__txn_1afd3ac8eff638929e2c7b6d504f7631da"></span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_view</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn7rx_viewE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_client_txn4nextE">
<span id="_CPPv3N13mb_client_txn4nextE"></span><span id="_CPPv2N13mb_client_txn4nextE"></span><span id="mb_client_txn::next__mb_client_txnP"></span><span class="target" id="structmb__client__txn_1ab2151abc596aefb06a53d37b6d83ba1d"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_client_txn" title="mb_client_txn"><span class="n"><span class="pre">mb_client_txn</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">next</span></span></span><a class="headerlink" href="#_CPPv4N13mb_client_txn4nextE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv418mb_diag_counters_t">
<span id="_CPPv318mb_diag_counters_t"></span><span id="_CPPv218mb_diag_counters_t"></span><span id="mb_diag_counters_t"></span><span class="target" id="structmb__diag__counters__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_counters_t</span></span></span><a class="headerlink" href="#_CPPv418mb_diag_counters_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#observe_8h"><span class="std std-ref">observe.h</span></a>&gt;</em></div>
<p>Aggregated counters grouped by function code and error bucket. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_counters_t8functionE">
<span id="_CPPv3N18mb_diag_counters_t8functionE"></span><span id="_CPPv2N18mb_diag_counters_t8functionE"></span><span id="mb_diag_counters_t::function__mb_u64A"></span><span class="target" id="structmb__diag__counters__t_1a5002b04559e5933b10100ec01e72d8bd"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">function</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">256</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N18mb_diag_counters_t8functionE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_counters_t5errorE">
<span id="_CPPv3N18mb_diag_counters_t5errorE"></span><span id="_CPPv2N18mb_diag_counters_t5errorE"></span><span id="mb_diag_counters_t::error__mb_u64A"></span><span class="target" id="structmb__diag__counters__t_1a9553d0fa0cfd6d6eaad6a3a3974a8a9d"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">error</span></span></span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#_CPPv4N18mb_diag_err_slot_t20MB_DIAG_ERR_SLOT_MAXE" title="MB_DIAG_ERR_SLOT_MAX"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_MAX</span></span></a><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N18mb_diag_counters_t5errorE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv418mb_diag_snapshot_t">
<span id="_CPPv318mb_diag_snapshot_t"></span><span id="_CPPv218mb_diag_snapshot_t"></span><span id="mb_diag_snapshot_t"></span><span class="target" id="structmb__diag__snapshot__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_snapshot_t</span></span></span><a class="headerlink" href="#_CPPv418mb_diag_snapshot_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#observe_8h"><span class="std std-ref">observe.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_snapshot_t8reservedE">
<span id="_CPPv3N18mb_diag_snapshot_t8reservedE"></span><span id="_CPPv2N18mb_diag_snapshot_t8reservedE"></span><span id="mb_diag_snapshot_t::reserved__mb_u8"></span><span class="target" id="structmb__diag__snapshot__t_1af757c7465e6aa526c45126be7b366a3d"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reserved</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_snapshot_t8reservedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv415mb_diag_state_t">
<span id="_CPPv315mb_diag_state_t"></span><span id="_CPPv215mb_diag_state_t"></span><span id="mb_diag_state_t"></span><span class="target" id="structmb__diag__state__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_state_t</span></span></span><a class="headerlink" href="#_CPPv415mb_diag_state_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#observe_8h"><span class="std std-ref">observe.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_diag_state_t8reservedE">
<span id="_CPPv3N15mb_diag_state_t8reservedE"></span><span id="_CPPv2N15mb_diag_state_t8reservedE"></span><span id="mb_diag_state_t::reserved__mb_u8"></span><span class="target" id="structmb__diag__state__t_1a25c5b4d36bebba7aba1cbb54737193fc"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">reserved</span></span></span><a class="headerlink" href="#_CPPv4N15mb_diag_state_t8reservedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv415mb_dup_filter_t">
<span id="_CPPv315mb_dup_filter_t"></span><span id="_CPPv215mb_dup_filter_t"></span><span id="mb_dup_filter_t"></span><span class="target" id="structmb__dup__filter__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_t</span></span></span><a class="headerlink" href="#_CPPv415mb_dup_filter_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#dup__filter_8h"><span class="std std-ref">dup_filter.h</span></a>&gt;</em></div>
<p>Duplicate filter context. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_dup_filter_t7entriesE">
<span id="_CPPv3N15mb_dup_filter_t7entriesE"></span><span id="_CPPv2N15mb_dup_filter_t7entriesE"></span><span id="mb_dup_filter_t::entries__mb_adu_hash_entry_tA"></span><span class="target" id="structmb__dup__filter__t_1a8ac877c028afcd30c0d3bed3a16c6b8b"></span><a class="reference internal" href="#_CPPv419mb_adu_hash_entry_t" title="mb_adu_hash_entry_t"><span class="n"><span class="pre">mb_adu_hash_entry_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">entries</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MB_DUP_WINDOW_SIZE</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N15mb_dup_filter_t7entriesE" title="Link to this definition"></a><br /></dt>
<dd><p>Hash window </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_dup_filter_t4headE">
<span id="_CPPv3N15mb_dup_filter_t4headE"></span><span id="_CPPv2N15mb_dup_filter_t4headE"></span><span id="mb_dup_filter_t::head__s"></span><span class="target" id="structmb__dup__filter__t_1aa8dddad25cc47a1d3e720b79d38e6666"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">head</span></span></span><a class="headerlink" href="#_CPPv4N15mb_dup_filter_t4headE" title="Link to this definition"></a><br /></dt>
<dd><p>Next write position </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_dup_filter_t5countE">
<span id="_CPPv3N15mb_dup_filter_t5countE"></span><span id="_CPPv2N15mb_dup_filter_t5countE"></span><span id="mb_dup_filter_t::count__s"></span><span class="target" id="structmb__dup__filter__t_1a42c35125773f419a292ee37025fe74a3"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">count</span></span></span><a class="headerlink" href="#_CPPv4N15mb_dup_filter_t5countE" title="Link to this definition"></a><br /></dt>
<dd><p>Current entry count </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_dup_filter_t9window_msE">
<span id="_CPPv3N15mb_dup_filter_t9window_msE"></span><span id="_CPPv2N15mb_dup_filter_t9window_msE"></span><span id="mb_dup_filter_t::window_ms__uint32_t"></span><span class="target" id="structmb__dup__filter__t_1aee2dc3a8c1575cf0d5bf9c5d49157630"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">window_ms</span></span></span><a class="headerlink" href="#_CPPv4N15mb_dup_filter_t9window_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Time window </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_dup_filter_t15last_added_hashE">
<span id="_CPPv3N15mb_dup_filter_t15last_added_hashE"></span><span id="_CPPv2N15mb_dup_filter_t15last_added_hashE"></span><span id="mb_dup_filter_t::last_added_hash__uint32_t"></span><span class="target" id="structmb__dup__filter__t_1adfb52cf375c9acfc5b82b90a5e5b99c1"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">last_added_hash</span></span></span><a class="headerlink" href="#_CPPv4N15mb_dup_filter_t15last_added_hashE" title="Link to this definition"></a><br /></dt>
<dd><p>Hash of most recent addition </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_dup_filter_t20last_added_timestampE">
<span id="_CPPv3N15mb_dup_filter_t20last_added_timestampE"></span><span id="_CPPv2N15mb_dup_filter_t20last_added_timestampE"></span><span id="mb_dup_filter_t::last_added_timestamp__uint32_t"></span><span class="target" id="structmb__dup__filter__t_1ae113d49e25fe24a32acd80b78f07bdfb"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">last_added_timestamp</span></span></span><a class="headerlink" href="#_CPPv4N15mb_dup_filter_t20last_added_timestampE" title="Link to this definition"></a><br /></dt>
<dd><p>Timestamp of most recent addition </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_dup_filter_t14has_last_addedE">
<span id="_CPPv3N15mb_dup_filter_t14has_last_addedE"></span><span id="_CPPv2N15mb_dup_filter_t14has_last_addedE"></span><span id="mb_dup_filter_t::has_last_added__b"></span><span class="target" id="structmb__dup__filter__t_1a6c62a84a66e66e317faebbaf31f1dd58"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">has_last_added</span></span></span><a class="headerlink" href="#_CPPv4N15mb_dup_filter_t14has_last_addedE" title="Link to this definition"></a><br /></dt>
<dd><p>Tracks whether last addition is valid </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_dup_filter_t14frames_checkedE">
<span id="_CPPv3N15mb_dup_filter_t14frames_checkedE"></span><span id="_CPPv2N15mb_dup_filter_t14frames_checkedE"></span><span id="mb_dup_filter_t::frames_checked__uint32_t"></span><span class="target" id="structmb__dup__filter__t_1afa1ed4223e12256bfe77865a0875be27"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">frames_checked</span></span></span><a class="headerlink" href="#_CPPv4N15mb_dup_filter_t14frames_checkedE" title="Link to this definition"></a><br /></dt>
<dd><p>Total frames checked </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_dup_filter_t16duplicates_foundE">
<span id="_CPPv3N15mb_dup_filter_t16duplicates_foundE"></span><span id="_CPPv2N15mb_dup_filter_t16duplicates_foundE"></span><span id="mb_dup_filter_t::duplicates_found__uint32_t"></span><span class="target" id="structmb__dup__filter__t_1afb9e94fe4599b69c8b91173819781d5f"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">duplicates_found</span></span></span><a class="headerlink" href="#_CPPv4N15mb_dup_filter_t16duplicates_foundE" title="Link to this definition"></a><br /></dt>
<dd><p>Duplicates detected </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_dup_filter_t15false_positivesE">
<span id="_CPPv3N15mb_dup_filter_t15false_positivesE"></span><span id="_CPPv2N15mb_dup_filter_t15false_positivesE"></span><span id="mb_dup_filter_t::false_positives__uint32_t"></span><span class="target" id="structmb__dup__filter__t_1ab9fde5a084542f3baa7a3500523670ff"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">false_positives</span></span></span><a class="headerlink" href="#_CPPv4N15mb_dup_filter_t15false_positivesE" title="Link to this definition"></a><br /></dt>
<dd><p>Hash collisions </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv423mb_embed_request_opts_t">
<span id="_CPPv323mb_embed_request_opts_t"></span><span id="_CPPv223mb_embed_request_opts_t"></span><span id="mb_embed_request_opts_t"></span><span class="target" id="structmb__embed__request__opts__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_embed_request_opts_t</span></span></span><a class="headerlink" href="#_CPPv423mb_embed_request_opts_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__embed_8h"><span class="std std-ref">mb_embed.h</span></a>&gt;</em></div>
<p>Optional knobs exposed by the wrapper helpers. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mb_embed_request_opts_t10timeout_msE">
<span id="_CPPv3N23mb_embed_request_opts_t10timeout_msE"></span><span id="_CPPv2N23mb_embed_request_opts_t10timeout_msE"></span><span id="mb_embed_request_opts_t::timeout_ms__mb_time_ms_t"></span><span class="target" id="structmb__embed__request__opts__t_1ab8e92d9d208ba90c2fa9c552332c5ac9"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timeout_ms</span></span></span><a class="headerlink" href="#_CPPv4N23mb_embed_request_opts_t10timeout_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mb_embed_request_opts_t16retry_backoff_msE">
<span id="_CPPv3N23mb_embed_request_opts_t16retry_backoff_msE"></span><span id="_CPPv2N23mb_embed_request_opts_t16retry_backoff_msE"></span><span id="mb_embed_request_opts_t::retry_backoff_ms__mb_time_ms_t"></span><span class="target" id="structmb__embed__request__opts__t_1aeeb0af6930e61f227cfefb70d27f4d8a"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">retry_backoff_ms</span></span></span><a class="headerlink" href="#_CPPv4N23mb_embed_request_opts_t16retry_backoff_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mb_embed_request_opts_t11max_retriesE">
<span id="_CPPv3N23mb_embed_request_opts_t11max_retriesE"></span><span id="_CPPv2N23mb_embed_request_opts_t11max_retriesE"></span><span id="mb_embed_request_opts_t::max_retries__mb_u8"></span><span class="target" id="structmb__embed__request__opts__t_1abab8ae57c8d68c294ca7c70934702efc"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_retries</span></span></span><a class="headerlink" href="#_CPPv4N23mb_embed_request_opts_t11max_retriesE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mb_embed_request_opts_t5flagsE">
<span id="_CPPv3N23mb_embed_request_opts_t5flagsE"></span><span id="_CPPv2N23mb_embed_request_opts_t5flagsE"></span><span id="mb_embed_request_opts_t::flags__mb_u32"></span><span class="target" id="structmb__embed__request__opts__t_1a83994c6fbbada499d98243423d023f2f"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N23mb_embed_request_opts_t5flagsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mb_embed_request_opts_t8callbackE">
<span id="_CPPv3N23mb_embed_request_opts_t8callbackE"></span><span id="_CPPv2N23mb_embed_request_opts_t8callbackE"></span><span id="mb_embed_request_opts_t::callback__mb_client_callback_t"></span><span class="target" id="structmb__embed__request__opts__t_1a1b9fa4ce4d188b012396587f9115d263"></span><a class="reference internal" href="#_CPPv420mb_client_callback_t" title="mb_client_callback_t"><span class="n"><span class="pre">mb_client_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">callback</span></span></span><a class="headerlink" href="#_CPPv4N23mb_embed_request_opts_t8callbackE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23mb_embed_request_opts_t8user_ctxE">
<span id="_CPPv3N23mb_embed_request_opts_t8user_ctxE"></span><span id="_CPPv2N23mb_embed_request_opts_t8user_ctxE"></span><span id="mb_embed_request_opts_t::user_ctx__voidP"></span><span class="target" id="structmb__embed__request__opts__t_1a1a14c581dff2e845b25a574bc1e18aed"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">user_ctx</span></span></span><a class="headerlink" href="#_CPPv4N23mb_embed_request_opts_t8user_ctxE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv48mb_event">
<span id="_CPPv38mb_event"></span><span id="_CPPv28mb_event"></span><span id="mb_event"></span><span class="target" id="structmb__event"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_event</span></span></span><a class="headerlink" href="#_CPPv48mb_event" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#observe_8h"><span class="std std-ref">observe.h</span></a>&gt;</em></div>
<p>Payload carried by an observability event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event6sourceE">
<span id="_CPPv3N8mb_event6sourceE"></span><span id="_CPPv2N8mb_event6sourceE"></span><span id="mb_event::source__mb_event_source_t"></span><span class="target" id="structmb__event_1af02053a1bf5a360982b96e517d6a5233"></span><a class="reference internal" href="#_CPPv417mb_event_source_t" title="mb_event_source_t"><span class="n"><span class="pre">mb_event_source_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">source</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event6sourceE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event4typeE">
<span id="_CPPv3N8mb_event4typeE"></span><span id="_CPPv2N8mb_event4typeE"></span><span id="mb_event::type__mb_event_type_t"></span><span class="target" id="structmb__event_1a1a5331b973d6ce6d4ed2ae2d02d63ead"></span><a class="reference internal" href="#_CPPv415mb_event_type_t" title="mb_event_type_t"><span class="n"><span class="pre">mb_event_type_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">type</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event4typeE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event9timestampE">
<span id="_CPPv3N8mb_event9timestampE"></span><span id="_CPPv2N8mb_event9timestampE"></span><span id="mb_event::timestamp__mb_time_ms_t"></span><span class="target" id="structmb__event_1aa6509d82af4f57ac701700ff848c9e45"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timestamp</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event9timestampE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event5stateE">
<span id="_CPPv3N8mb_event5stateE"></span><span id="_CPPv2N8mb_event5stateE"></span><span id="mb_event::state__mb_u8"></span><span class="target" id="structmb__event_1ad9bdeeec277296dbcc6d51bd18348531"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event5stateE" title="Link to this definition"></a><br /></dt>
<dd><p>Client state identifier (see <a class="reference internal" href="#client_8h_1aa88e914caed5e7255444fa976d557c02"><span class="std std-ref">mb_client_state_t</span></a>).</p>
<p>Server state identifier. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event12client_stateE">
<span id="_CPPv3N8mb_event12client_stateE"></span><span id="_CPPv2N8mb_event12client_stateE"></span><span id="mb_event::client_state__mb_event"></span><span class="target" id="structmb__event_1a008451063fc193b9388eea4a609432b1"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_event" title="mb_event"><span class="n"><span class="pre">mb_event</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_state</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event12client_stateE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event12server_stateE">
<span id="_CPPv3N8mb_event12server_stateE"></span><span id="_CPPv2N8mb_event12server_stateE"></span><span id="mb_event::server_state__mb_event"></span><span class="target" id="structmb__event_1a92b775fd064f8c15b295708d9994153a"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_event" title="mb_event"><span class="n"><span class="pre">mb_event</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_state</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event12server_stateE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event8functionE">
<span id="_CPPv3N8mb_event8functionE"></span><span id="_CPPv2N8mb_event8functionE"></span><span id="mb_event::function__mb_u8"></span><span class="target" id="structmb__event_1a416d9f8b116c7de7312682bcb379c3a0"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">function</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event8functionE" title="Link to this definition"></a><br /></dt>
<dd><p>Function code associated with the transaction.</p>
<p>Function code of the request. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event6statusE">
<span id="_CPPv3N8mb_event6statusE"></span><span id="_CPPv2N8mb_event6statusE"></span><span id="mb_event::status__mb_err_t"></span><span class="target" id="structmb__event_1a4d105cca863f07fe53e44c3a83322130"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">status</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event6statusE" title="Link to this definition"></a><br /></dt>
<dd><p>Completion status (MB_OK on success).</p>
<p>Resulting status (exception or transport error). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event15expect_responseE">
<span id="_CPPv3N8mb_event15expect_responseE"></span><span id="_CPPv2N8mb_event15expect_responseE"></span><span id="mb_event::expect_response__b"></span><span class="target" id="structmb__event_1a8d4b96b73de5e7d9ba3bbfedc393a1c4"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">expect_response</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event15expect_responseE" title="Link to this definition"></a><br /></dt>
<dd><p>Whether the transaction expects a response. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event10client_txnE">
<span id="_CPPv3N8mb_event10client_txnE"></span><span id="_CPPv2N8mb_event10client_txnE"></span><span id="mb_event::client_txn__mb_event"></span><span class="target" id="structmb__event_1afbe2e6c87e31f90ebd446394dadaf0eb"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_event" title="mb_event"><span class="n"><span class="pre">mb_event</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_txn</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event10client_txnE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event9broadcastE">
<span id="_CPPv3N8mb_event9broadcastE"></span><span id="_CPPv2N8mb_event9broadcastE"></span><span id="mb_event::broadcast__b"></span><span class="target" id="structmb__event_1a95120ffa86178d84bf92ad51194715b0"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">broadcast</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event9broadcastE" title="Link to this definition"></a><br /></dt>
<dd><p>True when the request was a broadcast (unit id == 0). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event10server_reqE">
<span id="_CPPv3N8mb_event10server_reqE"></span><span id="_CPPv2N8mb_event10server_reqE"></span><span id="mb_event::server_req__mb_event"></span><span class="target" id="structmb__event_1ae9188276acefbc31b10e918b225f8fc2"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_event" title="mb_event"><span class="n"><span class="pre">mb_event</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_req</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event10server_reqE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N8mb_event4dataE">
<span id="_CPPv3N8mb_event4dataE"></span><span id="_CPPv2N8mb_event4dataE"></span><span id="mb_event::data__mb_event"></span><span class="target" id="structmb__event_1a115f2cbda18a9cd44f35c7b5cdb25e81"></span><span class="k"><span class="pre">union</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_event" title="mb_event"><span class="n"><span class="pre">mb_event</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data</span></span></span><a class="headerlink" href="#_CPPv4N8mb_event4dataE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv418mb_feature_profile">
<span id="_CPPv318mb_feature_profile"></span><span id="_CPPv218mb_feature_profile"></span><span id="mb_feature_profile"></span><span class="target" id="structmb__feature__profile"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_feature_profile</span></span></span><a class="headerlink" href="#_CPPv418mb_feature_profile" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#features_8h"><span class="std std-ref">features.h</span></a>&gt;</em></div>
<p>Snapshot of the build-time Modbus configuration toggles. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_feature_profile10profile_idE">
<span id="_CPPv3N18mb_feature_profile10profile_idE"></span><span id="_CPPv2N18mb_feature_profile10profile_idE"></span><span id="mb_feature_profile::profile_id__mb_u8"></span><span class="target" id="structmb__feature__profile_1a551e70f732d40f2d2beff570beb0a9b8"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">profile_id</span></span></span><a class="headerlink" href="#_CPPv4N18mb_feature_profile10profile_idE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_feature_profile12profile_nameE">
<span id="_CPPv3N18mb_feature_profile12profile_nameE"></span><span id="_CPPv2N18mb_feature_profile12profile_nameE"></span><span id="mb_feature_profile::profile_name__cCP"></span><span class="target" id="structmb__feature__profile_1a92a3080ff4adc38661915c91becdd858"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">profile_name</span></span></span><a class="headerlink" href="#_CPPv4N18mb_feature_profile12profile_nameE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_feature_profile12build_clientE">
<span id="_CPPv3N18mb_feature_profile12build_clientE"></span><span id="_CPPv2N18mb_feature_profile12build_clientE"></span><span id="mb_feature_profile::build_client__b"></span><span class="target" id="structmb__feature__profile_1ac5d24b884c7dd40d07e97ffca8f6d63f"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">build_client</span></span></span><a class="headerlink" href="#_CPPv4N18mb_feature_profile12build_clientE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_feature_profile12build_serverE">
<span id="_CPPv3N18mb_feature_profile12build_serverE"></span><span id="_CPPv2N18mb_feature_profile12build_serverE"></span><span id="mb_feature_profile::build_server__b"></span><span class="target" id="structmb__feature__profile_1acb5b7c518b61d998ce5d330a600b5153"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">build_server</span></span></span><a class="headerlink" href="#_CPPv4N18mb_feature_profile12build_serverE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_feature_profile13transport_rtuE">
<span id="_CPPv3N18mb_feature_profile13transport_rtuE"></span><span id="_CPPv2N18mb_feature_profile13transport_rtuE"></span><span id="mb_feature_profile::transport_rtu__b"></span><span class="target" id="structmb__feature__profile_1ac2c430696afe3eb6eaf4e584b00b3a39"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">transport_rtu</span></span></span><a class="headerlink" href="#_CPPv4N18mb_feature_profile13transport_rtuE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_feature_profile15transport_asciiE">
<span id="_CPPv3N18mb_feature_profile15transport_asciiE"></span><span id="_CPPv2N18mb_feature_profile15transport_asciiE"></span><span id="mb_feature_profile::transport_ascii__b"></span><span class="target" id="structmb__feature__profile_1ab9653b339ad85b4cff357cdae2915923"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">transport_ascii</span></span></span><a class="headerlink" href="#_CPPv4N18mb_feature_profile15transport_asciiE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_feature_profile13transport_tcpE">
<span id="_CPPv3N18mb_feature_profile13transport_tcpE"></span><span id="_CPPv2N18mb_feature_profile13transport_tcpE"></span><span id="mb_feature_profile::transport_tcp__b"></span><span class="target" id="structmb__feature__profile_1a56b2f3e50f4c24e7f6a4af1acd498a14"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">transport_tcp</span></span></span><a class="headerlink" href="#_CPPv4N18mb_feature_profile13transport_tcpE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_feature_profile10port_mutexE">
<span id="_CPPv3N18mb_feature_profile10port_mutexE"></span><span id="_CPPv2N18mb_feature_profile10port_mutexE"></span><span id="mb_feature_profile::port_mutex__b"></span><span class="target" id="structmb__feature__profile_1a506c9e0788ce4140b38c6809929bf590"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">port_mutex</span></span></span><a class="headerlink" href="#_CPPv4N18mb_feature_profile10port_mutexE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_feature_profile10port_posixE">
<span id="_CPPv3N18mb_feature_profile10port_posixE"></span><span id="_CPPv2N18mb_feature_profile10port_posixE"></span><span id="mb_feature_profile::port_posix__b"></span><span class="target" id="structmb__feature__profile_1aa11f56749cb6d3e3352568e772da69e7"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">port_posix</span></span></span><a class="headerlink" href="#_CPPv4N18mb_feature_profile10port_posixE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_feature_profile14function_codesE">
<span id="_CPPv3N18mb_feature_profile14function_codesE"></span><span id="_CPPv2N18mb_feature_profile14function_codesE"></span><span id="mb_feature_profile::function_codes__mb_u8CP"></span><span class="target" id="structmb__feature__profile_1a96c14ee6a803fc1e61ed8373d0782adc"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">function_codes</span></span></span><a class="headerlink" href="#_CPPv4N18mb_feature_profile14function_codesE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_feature_profile19function_code_countE">
<span id="_CPPv3N18mb_feature_profile19function_code_countE"></span><span id="_CPPv2N18mb_feature_profile19function_code_countE"></span><span id="mb_feature_profile::function_code_count__s"></span><span class="target" id="structmb__feature__profile_1a1f29c4878051b487a1d9c392c1ce9e8c"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">function_code_count</span></span></span><a class="headerlink" href="#_CPPv4N18mb_feature_profile19function_code_countE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv414mb_host_client">
<span id="_CPPv314mb_host_client"></span><span id="_CPPv214mb_host_client"></span><span id="mb_host_client"></span><span class="target" id="structmb__host__client"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_client</span></span></span><a class="headerlink" href="#_CPPv414mb_host_client" title="Link to this definition"></a><br /></dt>
<dd><p>Internal client context managed by mb_host API. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14mb_host_client6clientE">
<span id="_CPPv3N14mb_host_client6clientE"></span><span id="_CPPv2N14mb_host_client6clientE"></span><span id="mb_host_client::client__mb_client_t"></span><span class="target" id="structmb__host__client_1a90676a55b7c087672e5ede2ed037bb50"></span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client</span></span></span><a class="headerlink" href="#_CPPv4N14mb_host_client6clientE" title="Link to this definition"></a><br /></dt>
<dd><p>Core client FSM </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14mb_host_client6socketE">
<span id="_CPPv3N14mb_host_client6socketE"></span><span id="_CPPv2N14mb_host_client6socketE"></span><span id="mb_host_client::socket__mb_port_posix_socket_t"></span><span class="target" id="structmb__host__client_1a5c751cb41617ad47e7a3e43a2c846e5a"></span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">socket</span></span></span><a class="headerlink" href="#_CPPv4N14mb_host_client6socketE" title="Link to this definition"></a><br /></dt>
<dd><p>POSIX socket wrapper </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14mb_host_client10timeout_msE">
<span id="_CPPv3N14mb_host_client10timeout_msE"></span><span id="_CPPv2N14mb_host_client10timeout_msE"></span><span id="mb_host_client::timeout_ms__uint32_t"></span><span class="target" id="structmb__host__client_1a045f886cba1daaa5a2984f206ec3e858"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timeout_ms</span></span></span><a class="headerlink" href="#_CPPv4N14mb_host_client10timeout_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Default timeout for blocking operations </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14mb_host_client15logging_enabledE">
<span id="_CPPv3N14mb_host_client15logging_enabledE"></span><span id="_CPPv2N14mb_host_client15logging_enabledE"></span><span id="mb_host_client::logging_enabled__b"></span><span class="target" id="structmb__host__client_1a1c71e5c077c9681d2e7f28767704f9e2"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">logging_enabled</span></span></span><a class="headerlink" href="#_CPPv4N14mb_host_client15logging_enabledE" title="Link to this definition"></a><br /></dt>
<dd><p>Console logging flag </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14mb_host_client14last_exceptionE">
<span id="_CPPv3N14mb_host_client14last_exceptionE"></span><span id="_CPPv2N14mb_host_client14last_exceptionE"></span><span id="mb_host_client::last_exception__uint8_t"></span><span class="target" id="structmb__host__client_1a7d9a2ce109649b56d17d9faf4c98c19f"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">last_exception</span></span></span><a class="headerlink" href="#_CPPv4N14mb_host_client14last_exceptionE" title="Link to this definition"></a><br /></dt>
<dd><p>Last exception code from server </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14mb_host_client8txn_poolE">
<span id="_CPPv3N14mb_host_client8txn_poolE"></span><span id="_CPPv2N14mb_host_client8txn_poolE"></span><span id="mb_host_client::txn_pool__mb_client_txn_tA"></span><span class="target" id="structmb__host__client_1a455cb195c7f7c6dcabcc0964269ce411"></span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">txn_pool</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N14mb_host_client8txn_poolE" title="Link to this definition"></a><br /></dt>
<dd><p>Small transaction pool for blocking ops </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv414mb_idle_config">
<span id="_CPPv314mb_idle_config"></span><span id="_CPPv214mb_idle_config"></span><span id="mb_idle_config"></span><span class="target" id="structmb__idle__config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_idle_config</span></span></span><a class="headerlink" href="#_CPPv414mb_idle_config" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__power_8h"><span class="std std-ref">mb_power.h</span></a>&gt;</em></div>
<p>Idle callback configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14mb_idle_config8callbackE">
<span id="_CPPv3N14mb_idle_config8callbackE"></span><span id="_CPPv2N14mb_idle_config8callbackE"></span><span id="mb_idle_config::callback__mb_idle_callback_t"></span><span class="target" id="structmb__idle__config_1a717d7046a772463faf3385e9c3c3c607"></span><a class="reference internal" href="#_CPPv418mb_idle_callback_t" title="mb_idle_callback_t"><span class="n"><span class="pre">mb_idle_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">callback</span></span></span><a class="headerlink" href="#_CPPv4N14mb_idle_config8callbackE" title="Link to this definition"></a><br /></dt>
<dd><p>Idle callback function </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14mb_idle_config8user_ctxE">
<span id="_CPPv3N14mb_idle_config8user_ctxE"></span><span id="_CPPv2N14mb_idle_config8user_ctxE"></span><span id="mb_idle_config::user_ctx__voidP"></span><span class="target" id="structmb__idle__config_1adcaba36396f2db780fdeb33a8f52ca42"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">user_ctx</span></span></span><a class="headerlink" href="#_CPPv4N14mb_idle_config8user_ctxE" title="Link to this definition"></a><br /></dt>
<dd><p>User context passed to callback </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14mb_idle_config12threshold_msE">
<span id="_CPPv3N14mb_idle_config12threshold_msE"></span><span id="_CPPv2N14mb_idle_config12threshold_msE"></span><span id="mb_idle_config::threshold_ms__mb_u32"></span><span class="target" id="structmb__idle__config_1af3bcaec2ec9e290c7c5252af7f12d19d"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">threshold_ms</span></span></span><a class="headerlink" href="#_CPPv4N14mb_idle_config12threshold_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Minimum idle time to trigger callback (ms) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N14mb_idle_config7enabledE">
<span id="_CPPv3N14mb_idle_config7enabledE"></span><span id="_CPPv2N14mb_idle_config7enabledE"></span><span id="mb_idle_config::enabled__b"></span><span class="target" id="structmb__idle__config_1ad5e3980869d333c834e760386ba65cdb"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enabled</span></span></span><a class="headerlink" href="#_CPPv4N14mb_idle_config7enabledE" title="Link to this definition"></a><br /></dt>
<dd><p>Whether idle detection is enabled </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv415mb_iovec_list_t">
<span id="_CPPv315mb_iovec_list_t"></span><span id="_CPPv215mb_iovec_list_t"></span><span id="mb_iovec_list_t"></span><span class="target" id="structmb__iovec__list__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_list_t</span></span></span><a class="headerlink" href="#_CPPv415mb_iovec_list_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__iovec_8h"><span class="std std-ref">mb_iovec.h</span></a>&gt;</em></div>
<p>Collection of IO vectors for scatter-gather operations. </p>
<p>Used to describe fragmented data (e.g., ring buffer wrap-around) without requiring a contiguous copy. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_iovec_list_t7vectorsE">
<span id="_CPPv3N15mb_iovec_list_t7vectorsE"></span><span id="_CPPv2N15mb_iovec_list_t7vectorsE"></span><span id="mb_iovec_list_t::vectors__mb_iovec_tP"></span><span class="target" id="structmb__iovec__list__t_1a527f4c31fd43cbc6835524e4d48194aa"></span><a class="reference internal" href="#_CPPv410mb_iovec_t" title="mb_iovec_t"><span class="n"><span class="pre">mb_iovec_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">vectors</span></span></span><a class="headerlink" href="#_CPPv4N15mb_iovec_list_t7vectorsE" title="Link to this definition"></a><br /></dt>
<dd><p>Array of IO vectors </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_iovec_list_t5countE">
<span id="_CPPv3N15mb_iovec_list_t5countE"></span><span id="_CPPv2N15mb_iovec_list_t5countE"></span><span id="mb_iovec_list_t::count__mb_size_t"></span><span class="target" id="structmb__iovec__list__t_1ad73583d4e72e8f1fd1a8cc4f4b358496"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">count</span></span></span><a class="headerlink" href="#_CPPv4N15mb_iovec_list_t5countE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of vectors in the array </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_iovec_list_t9total_lenE">
<span id="_CPPv3N15mb_iovec_list_t9total_lenE"></span><span id="_CPPv2N15mb_iovec_list_t9total_lenE"></span><span id="mb_iovec_list_t::total_len__mb_size_t"></span><span class="target" id="structmb__iovec__list__t_1a2170a388d7012d9329dc1634c083a5c5"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">total_len</span></span></span><a class="headerlink" href="#_CPPv4N15mb_iovec_list_t9total_lenE" title="Link to this definition"></a><br /></dt>
<dd><p>Total bytes across all vectors </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv416mb_iovec_stats_t">
<span id="_CPPv316mb_iovec_stats_t"></span><span id="_CPPv216mb_iovec_stats_t"></span><span id="mb_iovec_stats_t"></span><span class="target" id="structmb__iovec__stats__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_stats_t</span></span></span><a class="headerlink" href="#_CPPv416mb_iovec_stats_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__iovec_8h"><span class="std std-ref">mb_iovec.h</span></a>&gt;</em></div>
<p>Statistics for zero-copy tracking. </p>
<p>Used to verify that zero-copy optimizations are working correctly. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_iovec_stats_t12tx_zero_copyE">
<span id="_CPPv3N16mb_iovec_stats_t12tx_zero_copyE"></span><span id="_CPPv2N16mb_iovec_stats_t12tx_zero_copyE"></span><span id="mb_iovec_stats_t::tx_zero_copy__mb_u32"></span><span class="target" id="structmb__iovec__stats__t_1af12384b582fafbdd4450d67da0699a74"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_zero_copy</span></span></span><a class="headerlink" href="#_CPPv4N16mb_iovec_stats_t12tx_zero_copyE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of zero-copy TX operations </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_iovec_stats_t9tx_memcpyE">
<span id="_CPPv3N16mb_iovec_stats_t9tx_memcpyE"></span><span id="_CPPv2N16mb_iovec_stats_t9tx_memcpyE"></span><span id="mb_iovec_stats_t::tx_memcpy__mb_u32"></span><span class="target" id="structmb__iovec__stats__t_1a1b8df366d37f0fe50b43ca9fb64a1245"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_memcpy</span></span></span><a class="headerlink" href="#_CPPv4N16mb_iovec_stats_t9tx_memcpyE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of TX operations requiring memcpy </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_iovec_stats_t12rx_zero_copyE">
<span id="_CPPv3N16mb_iovec_stats_t12rx_zero_copyE"></span><span id="_CPPv2N16mb_iovec_stats_t12rx_zero_copyE"></span><span id="mb_iovec_stats_t::rx_zero_copy__mb_u32"></span><span class="target" id="structmb__iovec__stats__t_1a21024686def82221b38605fccf1ac896"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_zero_copy</span></span></span><a class="headerlink" href="#_CPPv4N16mb_iovec_stats_t12rx_zero_copyE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of zero-copy RX operations </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_iovec_stats_t9rx_memcpyE">
<span id="_CPPv3N16mb_iovec_stats_t9rx_memcpyE"></span><span id="_CPPv2N16mb_iovec_stats_t9rx_memcpyE"></span><span id="mb_iovec_stats_t::rx_memcpy__mb_u32"></span><span class="target" id="structmb__iovec__stats__t_1a982a0a9a5e6ac429be97aafd438f039f"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_memcpy</span></span></span><a class="headerlink" href="#_CPPv4N16mb_iovec_stats_t9rx_memcpyE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of RX operations requiring memcpy </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_iovec_stats_t13scratch_bytesE">
<span id="_CPPv3N16mb_iovec_stats_t13scratch_bytesE"></span><span id="_CPPv2N16mb_iovec_stats_t13scratch_bytesE"></span><span id="mb_iovec_stats_t::scratch_bytes__mb_u32"></span><span class="target" id="structmb__iovec__stats__t_1a7f4b2e3aa980323b946cfc5abe6aabf8"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scratch_bytes</span></span></span><a class="headerlink" href="#_CPPv4N16mb_iovec_stats_t13scratch_bytesE" title="Link to this definition"></a><br /></dt>
<dd><p>Peak scratch memory used per transaction </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv410mb_iovec_t">
<span id="_CPPv310mb_iovec_t"></span><span id="_CPPv210mb_iovec_t"></span><span id="mb_iovec_t"></span><span class="target" id="structmb__iovec__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_t</span></span></span><a class="headerlink" href="#_CPPv410mb_iovec_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__iovec_8h"><span class="std std-ref">mb_iovec.h</span></a>&gt;</em></div>
<p>IO vector descriptor for scatter-gather operations. </p>
<p>Represents a contiguous memory region (view) that can be chained with other iovecs for zero-copy operations. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_iovec_t4baseE">
<span id="_CPPv3N10mb_iovec_t4baseE"></span><span id="_CPPv2N10mb_iovec_t4baseE"></span><span id="mb_iovec_t::base__mb_u8CP"></span><span class="target" id="structmb__iovec__t_1ad9c9013bd46ce20801977872fef7cfef"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">base</span></span></span><a class="headerlink" href="#_CPPv4N10mb_iovec_t4baseE" title="Link to this definition"></a><br /></dt>
<dd><p>Base pointer to the memory region (may be NULL if len=0) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_iovec_t3lenE">
<span id="_CPPv3N10mb_iovec_t3lenE"></span><span id="_CPPv2N10mb_iovec_t3lenE"></span><span id="mb_iovec_t::len__mb_size_t"></span><span class="target" id="structmb__iovec__t_1a44710b76d3428e8ce0c22a7a8077cd2d"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">len</span></span></span><a class="headerlink" href="#_CPPv4N10mb_iovec_t3lenE" title="Link to this definition"></a><br /></dt>
<dd><p>Length of the region in bytes </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv413mb_isr_config">
<span id="_CPPv313mb_isr_config"></span><span id="_CPPv213mb_isr_config"></span><span id="mb_isr_config"></span><span class="target" id="structmb__isr__config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_config</span></span></span><a class="headerlink" href="#_CPPv413mb_isr_config" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__isr_8h"><span class="std std-ref">mb_isr.h</span></a>&gt;</em></div>
<p>Configuration for ISR-safe context. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_isr_config14rx_queue_slotsE">
<span id="_CPPv3N13mb_isr_config14rx_queue_slotsE"></span><span id="_CPPv2N13mb_isr_config14rx_queue_slotsE"></span><span id="mb_isr_config::rx_queue_slots__voidPP"></span><span class="target" id="structmb__isr__config_1a916a9ad6e21df9e62677645f09d6ef41"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">rx_queue_slots</span></span></span><a class="headerlink" href="#_CPPv4N13mb_isr_config14rx_queue_slotsE" title="Link to this definition"></a><br /></dt>
<dd><p>Storage for RX queue (power of 2) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_isr_config17rx_queue_capacityE">
<span id="_CPPv3N13mb_isr_config17rx_queue_capacityE"></span><span id="_CPPv2N13mb_isr_config17rx_queue_capacityE"></span><span id="mb_isr_config::rx_queue_capacity__s"></span><span class="target" id="structmb__isr__config_1a0901f1f753fa64ef69b481ce8a935cfc"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_queue_capacity</span></span></span><a class="headerlink" href="#_CPPv4N13mb_isr_config17rx_queue_capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of slots in RX queue </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_isr_config14tx_queue_slotsE">
<span id="_CPPv3N13mb_isr_config14tx_queue_slotsE"></span><span id="_CPPv2N13mb_isr_config14tx_queue_slotsE"></span><span id="mb_isr_config::tx_queue_slots__voidPP"></span><span class="target" id="structmb__isr__config_1add792b4dc2a263bc17ad1108cddfd873"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">tx_queue_slots</span></span></span><a class="headerlink" href="#_CPPv4N13mb_isr_config14tx_queue_slotsE" title="Link to this definition"></a><br /></dt>
<dd><p>Storage for TX queue </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_isr_config17tx_queue_capacityE">
<span id="_CPPv3N13mb_isr_config17tx_queue_capacityE"></span><span id="_CPPv2N13mb_isr_config17tx_queue_capacityE"></span><span id="mb_isr_config::tx_queue_capacity__s"></span><span class="target" id="structmb__isr__config_1ad168857eaf86bbf750938d4ce0606031"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_queue_capacity</span></span></span><a class="headerlink" href="#_CPPv4N13mb_isr_config17tx_queue_capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of slots in TX queue </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_isr_config9rx_bufferE">
<span id="_CPPv3N13mb_isr_config9rx_bufferE"></span><span id="_CPPv2N13mb_isr_config9rx_bufferE"></span><span id="mb_isr_config::rx_buffer__uint8_tP"></span><span class="target" id="structmb__isr__config_1a56219a76811cae2eaece226f8a89aca7"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">rx_buffer</span></span></span><a class="headerlink" href="#_CPPv4N13mb_isr_config9rx_bufferE" title="Link to this definition"></a><br /></dt>
<dd><p>Scratch buffer for RX processing </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_isr_config14rx_buffer_sizeE">
<span id="_CPPv3N13mb_isr_config14rx_buffer_sizeE"></span><span id="_CPPv2N13mb_isr_config14rx_buffer_sizeE"></span><span id="mb_isr_config::rx_buffer_size__s"></span><span class="target" id="structmb__isr__config_1a3dffb75e05b5e13ab41caf25724665ef"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_buffer_size</span></span></span><a class="headerlink" href="#_CPPv4N13mb_isr_config14rx_buffer_sizeE" title="Link to this definition"></a><br /></dt>
<dd><p>Size of RX scratch buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_isr_config9tx_bufferE">
<span id="_CPPv3N13mb_isr_config9tx_bufferE"></span><span id="_CPPv2N13mb_isr_config9tx_bufferE"></span><span id="mb_isr_config::tx_buffer__uint8_tP"></span><span class="target" id="structmb__isr__config_1a1767ed3a6158e3bfe0a726c33997922d"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">tx_buffer</span></span></span><a class="headerlink" href="#_CPPv4N13mb_isr_config9tx_bufferE" title="Link to this definition"></a><br /></dt>
<dd><p>Scratch buffer for TX preparation </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_isr_config14tx_buffer_sizeE">
<span id="_CPPv3N13mb_isr_config14tx_buffer_sizeE"></span><span id="_CPPv2N13mb_isr_config14tx_buffer_sizeE"></span><span id="mb_isr_config::tx_buffer_size__s"></span><span class="target" id="structmb__isr__config_1a80aa8c722c2cacb7dceaa00cd6d1c86b"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_buffer_size</span></span></span><a class="headerlink" href="#_CPPv4N13mb_isr_config14tx_buffer_sizeE" title="Link to this definition"></a><br /></dt>
<dd><p>Size of TX scratch buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_isr_config14enable_loggingE">
<span id="_CPPv3N13mb_isr_config14enable_loggingE"></span><span id="_CPPv2N13mb_isr_config14enable_loggingE"></span><span id="mb_isr_config::enable_logging__b"></span><span class="target" id="structmb__isr__config_1a1748cdeb1b5982537fdaaf44aa153602"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enable_logging</span></span></span><a class="headerlink" href="#_CPPv4N13mb_isr_config14enable_loggingE" title="Link to this definition"></a><br /></dt>
<dd><p>Enable lightweight logging in ISR </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_isr_config20turnaround_target_usE">
<span id="_CPPv3N13mb_isr_config20turnaround_target_usE"></span><span id="_CPPv2N13mb_isr_config20turnaround_target_usE"></span><span id="mb_isr_config::turnaround_target_us__uint32_t"></span><span class="target" id="structmb__isr__config_1a299e038122c9fde59deeb26d863bb01d"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">turnaround_target_us</span></span></span><a class="headerlink" href="#_CPPv4N13mb_isr_config20turnaround_target_usE" title="Link to this definition"></a><br /></dt>
<dd><p>Target turnaround time (diagnostic) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv410mb_isr_ctx">
<span id="_CPPv310mb_isr_ctx"></span><span id="_CPPv210mb_isr_ctx"></span><span id="mb_isr_ctx"></span><span class="target" id="structmb__isr__ctx"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_ctx</span></span></span><a class="headerlink" href="#_CPPv410mb_isr_ctx" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__isr_8h"><span class="std std-ref">mb_isr.h</span></a>&gt;</em></div>
<p>ISR-safe Modbus context structure. </p>
<p>Contains lock-free queues, buffers, and statistics for ISR-safe operation. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx8rx_queueE">
<span id="_CPPv3N10mb_isr_ctx8rx_queueE"></span><span id="_CPPv2N10mb_isr_ctx8rx_queueE"></span><span id="mb_isr_ctx::rx_queue__mb_queue_spsc_t"></span><span class="target" id="structmb__isr__ctx_1acdb24b1bcbfa7f8ca01f719e294d0445"></span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_queue</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx8rx_queueE" title="Link to this definition"></a><br /></dt>
<dd><p>Lock-free SPSC RX queue </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx8tx_queueE">
<span id="_CPPv3N10mb_isr_ctx8tx_queueE"></span><span id="_CPPv2N10mb_isr_ctx8tx_queueE"></span><span id="mb_isr_ctx::tx_queue__mb_queue_spsc_t"></span><span class="target" id="structmb__isr__ctx_1a5a1e641c431902d08d1e0a876dc04482"></span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_queue</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx8tx_queueE" title="Link to this definition"></a><br /></dt>
<dd><p>Lock-free SPSC TX queue </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx9rx_bufferE">
<span id="_CPPv3N10mb_isr_ctx9rx_bufferE"></span><span id="_CPPv2N10mb_isr_ctx9rx_bufferE"></span><span id="mb_isr_ctx::rx_buffer__uint8_tP"></span><span class="target" id="structmb__isr__ctx_1af4aacba28d39c573ca8a63021de3b3f6"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">rx_buffer</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx9rx_bufferE" title="Link to this definition"></a><br /></dt>
<dd><p>Scratch buffer for RX </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx14rx_buffer_sizeE">
<span id="_CPPv3N10mb_isr_ctx14rx_buffer_sizeE"></span><span id="_CPPv2N10mb_isr_ctx14rx_buffer_sizeE"></span><span id="mb_isr_ctx::rx_buffer_size__s"></span><span class="target" id="structmb__isr__ctx_1add715cdb29289583cc01f61def3b5ad8"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_buffer_size</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx14rx_buffer_sizeE" title="Link to this definition"></a><br /></dt>
<dd><p>RX buffer size </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx9tx_bufferE">
<span id="_CPPv3N10mb_isr_ctx9tx_bufferE"></span><span id="_CPPv2N10mb_isr_ctx9tx_bufferE"></span><span id="mb_isr_ctx::tx_buffer__uint8_tP"></span><span class="target" id="structmb__isr__ctx_1acf91ceec4fc166ca2f768b36ac0dd727"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">tx_buffer</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx9tx_bufferE" title="Link to this definition"></a><br /></dt>
<dd><p>Scratch buffer for TX </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx14tx_buffer_sizeE">
<span id="_CPPv3N10mb_isr_ctx14tx_buffer_sizeE"></span><span id="_CPPv2N10mb_isr_ctx14tx_buffer_sizeE"></span><span id="mb_isr_ctx::tx_buffer_size__s"></span><span class="target" id="structmb__isr__ctx_1a6e91ec09fee24f70af1d0aea4853c2a6"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_buffer_size</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx14tx_buffer_sizeE" title="Link to this definition"></a><br /></dt>
<dd><p>TX buffer size </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx15current_tx_dataE">
<span id="_CPPv3N10mb_isr_ctx15current_tx_dataE"></span><span id="_CPPv2N10mb_isr_ctx15current_tx_dataE"></span><span id="mb_isr_ctx::current_tx_data__uint8_tCP"></span><span class="target" id="structmb__isr__ctx_1acc58be9821a0b87fd2066cbddffb2f51"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">current_tx_data</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx15current_tx_dataE" title="Link to this definition"></a><br /></dt>
<dd><p>Current TX data pointer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx14current_tx_lenE">
<span id="_CPPv3N10mb_isr_ctx14current_tx_lenE"></span><span id="_CPPv2N10mb_isr_ctx14current_tx_lenE"></span><span id="mb_isr_ctx::current_tx_len__s"></span><span class="target" id="structmb__isr__ctx_1ab2d204a07b384611b7d203af81254894"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">current_tx_len</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx14current_tx_lenE" title="Link to this definition"></a><br /></dt>
<dd><p>Current TX data length </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx14tx_in_progressE">
<span id="_CPPv3N10mb_isr_ctx14tx_in_progressE"></span><span id="_CPPv2N10mb_isr_ctx14tx_in_progressE"></span><span id="mb_isr_ctx::tx_in_progress__b"></span><span class="target" id="structmb__isr__ctx_1aaf2454d43adf2a29c653989ca0aa702f"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_in_progress</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx14tx_in_progressE" title="Link to this definition"></a><br /></dt>
<dd><p>TX in progress flag </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx5statsE">
<span id="_CPPv3N10mb_isr_ctx5statsE"></span><span id="_CPPv2N10mb_isr_ctx5statsE"></span><span id="mb_isr_ctx::stats__mb_isr_stats_t"></span><span class="target" id="structmb__isr__ctx_1a53629d27152f4145cada9109b97ca5a5"></span><a class="reference internal" href="#_CPPv414mb_isr_stats_t" title="mb_isr_stats_t"><span class="n"><span class="pre">mb_isr_stats_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stats</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx5statsE" title="Link to this definition"></a><br /></dt>
<dd><p>Performance statistics </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx20turnaround_target_usE">
<span id="_CPPv3N10mb_isr_ctx20turnaround_target_usE"></span><span id="_CPPv2N10mb_isr_ctx20turnaround_target_usE"></span><span id="mb_isr_ctx::turnaround_target_us__uint32_t"></span><span class="target" id="structmb__isr__ctx_1a2fd74ccb82ff0b4faaf6ba05b02f85eb"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">turnaround_target_us</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx20turnaround_target_usE" title="Link to this definition"></a><br /></dt>
<dd><p>Target turnaround time </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx17last_rx_timestampE">
<span id="_CPPv3N10mb_isr_ctx17last_rx_timestampE"></span><span id="_CPPv2N10mb_isr_ctx17last_rx_timestampE"></span><span id="mb_isr_ctx::last_rx_timestamp__uint32_t"></span><span class="target" id="structmb__isr__ctx_1a09143ac18bb76001f6bda98b5f1ffe7c"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">last_rx_timestamp</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx17last_rx_timestampE" title="Link to this definition"></a><br /></dt>
<dd><p>Last RX timestamp (µs) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_isr_ctx14enable_loggingE">
<span id="_CPPv3N10mb_isr_ctx14enable_loggingE"></span><span id="_CPPv2N10mb_isr_ctx14enable_loggingE"></span><span id="mb_isr_ctx::enable_logging__b"></span><span class="target" id="structmb__isr__ctx_1a7816e4bb5806cfba62bbfe1d122cd81e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enable_logging</span></span></span><a class="headerlink" href="#_CPPv4N10mb_isr_ctx14enable_loggingE" title="Link to this definition"></a><br /></dt>
<dd><p>Logging enabled flag </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv412mb_isr_stats">
<span id="_CPPv312mb_isr_stats"></span><span id="_CPPv212mb_isr_stats"></span><span id="mb_isr_stats"></span><span class="target" id="structmb__isr__stats"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_stats</span></span></span><a class="headerlink" href="#_CPPv412mb_isr_stats" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__isr_8h"><span class="std std-ref">mb_isr.h</span></a>&gt;</em></div>
<p>Statistics for ISR-safe operations. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_isr_stats19rx_chunks_processedE">
<span id="_CPPv3N12mb_isr_stats19rx_chunks_processedE"></span><span id="_CPPv2N12mb_isr_stats19rx_chunks_processedE"></span><span id="mb_isr_stats::rx_chunks_processed__uint32_t"></span><span class="target" id="structmb__isr__stats_1add2732bc15619fa6df6169d8b602c890"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_chunks_processed</span></span></span><a class="headerlink" href="#_CPPv4N12mb_isr_stats19rx_chunks_processedE" title="Link to this definition"></a><br /></dt>
<dd><p>Total RX chunks from ISR </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_isr_stats19tx_started_from_isrE">
<span id="_CPPv3N12mb_isr_stats19tx_started_from_isrE"></span><span id="_CPPv2N12mb_isr_stats19tx_started_from_isrE"></span><span id="mb_isr_stats::tx_started_from_isr__uint32_t"></span><span class="target" id="structmb__isr__stats_1ae28d839730f1a2c67f3a5c5e77ab0bea"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_started_from_isr</span></span></span><a class="headerlink" href="#_CPPv4N12mb_isr_stats19tx_started_from_isrE" title="Link to this definition"></a><br /></dt>
<dd><p>Total TX started from ISR </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_isr_stats16fast_turnaroundsE">
<span id="_CPPv3N12mb_isr_stats16fast_turnaroundsE"></span><span id="_CPPv2N12mb_isr_stats16fast_turnaroundsE"></span><span id="mb_isr_stats::fast_turnarounds__uint32_t"></span><span class="target" id="structmb__isr__stats_1aa9645918060f2c08786b791d63507abd"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fast_turnarounds</span></span></span><a class="headerlink" href="#_CPPv4N12mb_isr_stats16fast_turnaroundsE" title="Link to this definition"></a><br /></dt>
<dd><p>RX→TX without thread involvement </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_isr_stats17queue_full_eventsE">
<span id="_CPPv3N12mb_isr_stats17queue_full_eventsE"></span><span id="_CPPv2N12mb_isr_stats17queue_full_eventsE"></span><span id="mb_isr_stats::queue_full_events__uint32_t"></span><span class="target" id="structmb__isr__stats_1a8225a546d089a5a6cc611bddbab31234"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">queue_full_events</span></span></span><a class="headerlink" href="#_CPPv4N12mb_isr_stats17queue_full_eventsE" title="Link to this definition"></a><br /></dt>
<dd><p>Backpressure events (queue full) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_isr_stats17min_turnaround_usE">
<span id="_CPPv3N12mb_isr_stats17min_turnaround_usE"></span><span id="_CPPv2N12mb_isr_stats17min_turnaround_usE"></span><span id="mb_isr_stats::min_turnaround_us__uint32_t"></span><span class="target" id="structmb__isr__stats_1ad22c5d3a4978acf07d3d65b26fdf1538"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">min_turnaround_us</span></span></span><a class="headerlink" href="#_CPPv4N12mb_isr_stats17min_turnaround_usE" title="Link to this definition"></a><br /></dt>
<dd><p>Fastest observed turnaround </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_isr_stats17max_turnaround_usE">
<span id="_CPPv3N12mb_isr_stats17max_turnaround_usE"></span><span id="_CPPv2N12mb_isr_stats17max_turnaround_usE"></span><span id="mb_isr_stats::max_turnaround_us__uint32_t"></span><span class="target" id="structmb__isr__stats_1a03fb12ab8e526816a98941266d18e7b0"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_turnaround_us</span></span></span><a class="headerlink" href="#_CPPv4N12mb_isr_stats17max_turnaround_usE" title="Link to this definition"></a><br /></dt>
<dd><p>Slowest observed turnaround </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_isr_stats17avg_turnaround_usE">
<span id="_CPPv3N12mb_isr_stats17avg_turnaround_usE"></span><span id="_CPPv2N12mb_isr_stats17avg_turnaround_usE"></span><span id="mb_isr_stats::avg_turnaround_us__uint32_t"></span><span class="target" id="structmb__isr__stats_1ac8830107995e0a948b1290a83559eb3a"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">avg_turnaround_us</span></span></span><a class="headerlink" href="#_CPPv4N12mb_isr_stats17avg_turnaround_usE" title="Link to this definition"></a><br /></dt>
<dd><p>Average turnaround time </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_isr_stats12isr_overrunsE">
<span id="_CPPv3N12mb_isr_stats12isr_overrunsE"></span><span id="_CPPv2N12mb_isr_stats12isr_overrunsE"></span><span id="mb_isr_stats::isr_overruns__uint32_t"></span><span class="target" id="structmb__isr__stats_1a546356d9638f758bfab87fec84b876ea"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">isr_overruns</span></span></span><a class="headerlink" href="#_CPPv4N12mb_isr_stats12isr_overrunsE" title="Link to this definition"></a><br /></dt>
<dd><p>ISR called while previous not complete </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv410mb_mempool">
<span id="_CPPv310mb_mempool"></span><span id="_CPPv210mb_mempool"></span><span id="mb_mempool"></span><span class="target" id="structmb__mempool"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool</span></span></span><a class="headerlink" href="#_CPPv410mb_mempool" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mempool_8h"><span class="std std-ref">mempool.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_mempool7storageE">
<span id="_CPPv3N10mb_mempool7storageE"></span><span id="_CPPv2N10mb_mempool7storageE"></span><span id="mb_mempool::storage__mb_u8P"></span><span class="target" id="structmb__mempool_1a51a3979546e0ba5589043ab015d6ec86"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">storage</span></span></span><a class="headerlink" href="#_CPPv4N10mb_mempool7storageE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_mempool10block_sizeE">
<span id="_CPPv3N10mb_mempool10block_sizeE"></span><span id="_CPPv2N10mb_mempool10block_sizeE"></span><span id="mb_mempool::block_size__mb_size_t"></span><span class="target" id="structmb__mempool_1ab3e4a3609ca86552984de04debd4dbe1"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">block_size</span></span></span><a class="headerlink" href="#_CPPv4N10mb_mempool10block_sizeE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_mempool11block_countE">
<span id="_CPPv3N10mb_mempool11block_countE"></span><span id="_CPPv2N10mb_mempool11block_countE"></span><span id="mb_mempool::block_count__mb_size_t"></span><span class="target" id="structmb__mempool_1aa83f4c10e82977eece2fa2888085aa21"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">block_count</span></span></span><a class="headerlink" href="#_CPPv4N10mb_mempool11block_countE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_mempool10free_countE">
<span id="_CPPv3N10mb_mempool10free_countE"></span><span id="_CPPv2N10mb_mempool10free_countE"></span><span id="mb_mempool::free_count__mb_size_t"></span><span class="target" id="structmb__mempool_1af9fc59b51047188e3856940c072b5979"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">free_count</span></span></span><a class="headerlink" href="#_CPPv4N10mb_mempool10free_countE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_mempool9free_listE">
<span id="_CPPv3N10mb_mempool9free_listE"></span><span id="_CPPv2N10mb_mempool9free_listE"></span><span id="mb_mempool::free_list__voidP"></span><span class="target" id="structmb__mempool_1a117c2157670f982120e453b2d3698a70"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">free_list</span></span></span><a class="headerlink" href="#_CPPv4N10mb_mempool9free_listE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv416mb_poll_jitter_t">
<span id="_CPPv316mb_poll_jitter_t"></span><span id="_CPPv216mb_poll_jitter_t"></span><span id="mb_poll_jitter_t"></span><span class="target" id="structmb__poll__jitter__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_poll_jitter_t</span></span></span><a class="headerlink" href="#_CPPv416mb_poll_jitter_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">mb_types.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_poll_jitter_t14last_timestampE">
<span id="_CPPv3N16mb_poll_jitter_t14last_timestampE"></span><span id="_CPPv2N16mb_poll_jitter_t14last_timestampE"></span><span id="mb_poll_jitter_t::last_timestamp__mb_time_ms_t"></span><span class="target" id="structmb__poll__jitter__t_1af461eaf410ef2232f0aaa7ba83d63a9a"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">last_timestamp</span></span></span><a class="headerlink" href="#_CPPv4N16mb_poll_jitter_t14last_timestampE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_poll_jitter_t12max_delta_msE">
<span id="_CPPv3N16mb_poll_jitter_t12max_delta_msE"></span><span id="_CPPv2N16mb_poll_jitter_t12max_delta_msE"></span><span id="mb_poll_jitter_t::max_delta_ms__mb_time_ms_t"></span><span class="target" id="structmb__poll__jitter__t_1ab1aeb332f28458db3f0afcba791d5294"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_delta_ms</span></span></span><a class="headerlink" href="#_CPPv4N16mb_poll_jitter_t12max_delta_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_poll_jitter_t14total_delta_msE">
<span id="_CPPv3N16mb_poll_jitter_t14total_delta_msE"></span><span id="_CPPv2N16mb_poll_jitter_t14total_delta_msE"></span><span id="mb_poll_jitter_t::total_delta_ms__mb_u64"></span><span class="target" id="structmb__poll__jitter__t_1aad0e232fed50228caeb962b5332a5a19"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">total_delta_ms</span></span></span><a class="headerlink" href="#_CPPv4N16mb_poll_jitter_t14total_delta_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_poll_jitter_t7samplesE">
<span id="_CPPv3N16mb_poll_jitter_t7samplesE"></span><span id="_CPPv2N16mb_poll_jitter_t7samplesE"></span><span id="mb_poll_jitter_t::samples__mb_u32"></span><span class="target" id="structmb__poll__jitter__t_1a8fbaef10111106bb412c221cf74f1a78"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">samples</span></span></span><a class="headerlink" href="#_CPPv4N16mb_poll_jitter_t7samplesE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv422mb_port_bare_transport">
<span id="_CPPv322mb_port_bare_transport"></span><span id="_CPPv222mb_port_bare_transport"></span><span id="mb_port_bare_transport"></span><span class="target" id="structmb__port__bare__transport"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_transport</span></span></span><a class="headerlink" href="#_CPPv422mb_port_bare_transport" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#bare_8h"><span class="std std-ref">bare.h</span></a>&gt;</em></div>
<p>Helper structure that binds user callbacks to an <code class="docutils literal notranslate"><a class="reference internal" href="#structmb__transport__if__t"><span class="std std-ref"><span class="pre">mb_transport_if_t</span></span></a></code>. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_port_bare_transport8user_ctxE">
<span id="_CPPv3N22mb_port_bare_transport8user_ctxE"></span><span id="_CPPv2N22mb_port_bare_transport8user_ctxE"></span><span id="mb_port_bare_transport::user_ctx__voidP"></span><span class="target" id="structmb__port__bare__transport_1a313bb88b393cb78c3616ce1c66daf6ca"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">user_ctx</span></span></span><a class="headerlink" href="#_CPPv4N22mb_port_bare_transport8user_ctxE" title="Link to this definition"></a><br /></dt>
<dd><p>Opaque handle forwarded to send/recv. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_port_bare_transport9clock_ctxE">
<span id="_CPPv3N22mb_port_bare_transport9clock_ctxE"></span><span id="_CPPv2N22mb_port_bare_transport9clock_ctxE"></span><span id="mb_port_bare_transport::clock_ctx__voidP"></span><span class="target" id="structmb__port__bare__transport_1a5e24536784ecd101d2a3c289a216e7b9"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">clock_ctx</span></span></span><a class="headerlink" href="#_CPPv4N22mb_port_bare_transport9clock_ctxE" title="Link to this definition"></a><br /></dt>
<dd><p>Clock handle (defaults to <code class="docutils literal notranslate"><span class="pre">user_ctx</span></code>). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_port_bare_transport7send_fnE">
<span id="_CPPv3N22mb_port_bare_transport7send_fnE"></span><span id="_CPPv2N22mb_port_bare_transport7send_fnE"></span><span id="mb_port_bare_transport::send_fn__mb_port_bare_send_fn"></span><span class="target" id="structmb__port__bare__transport_1ae2d081b0eae4fe647067af906b64d824"></span><a class="reference internal" href="#_CPPv420mb_port_bare_send_fn" title="mb_port_bare_send_fn"><span class="n"><span class="pre">mb_port_bare_send_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">send_fn</span></span></span><a class="headerlink" href="#_CPPv4N22mb_port_bare_transport7send_fnE" title="Link to this definition"></a><br /></dt>
<dd><p>Low-level send primitive. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_port_bare_transport7recv_fnE">
<span id="_CPPv3N22mb_port_bare_transport7recv_fnE"></span><span id="_CPPv2N22mb_port_bare_transport7recv_fnE"></span><span id="mb_port_bare_transport::recv_fn__mb_port_bare_recv_fn"></span><span class="target" id="structmb__port__bare__transport_1a9cb40183ff0bc8f8bedc60129f8bb75d"></span><a class="reference internal" href="#_CPPv420mb_port_bare_recv_fn" title="mb_port_bare_recv_fn"><span class="n"><span class="pre">mb_port_bare_recv_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">recv_fn</span></span></span><a class="headerlink" href="#_CPPv4N22mb_port_bare_transport7recv_fnE" title="Link to this definition"></a><br /></dt>
<dd><p>Low-level receive primitive. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_port_bare_transport11tick_now_fnE">
<span id="_CPPv3N22mb_port_bare_transport11tick_now_fnE"></span><span id="_CPPv2N22mb_port_bare_transport11tick_now_fnE"></span><span id="mb_port_bare_transport::tick_now_fn__mb_port_bare_tick_now_fn"></span><span class="target" id="structmb__port__bare__transport_1a04c6e01595d002092e84bdc62b2297be"></span><a class="reference internal" href="#_CPPv424mb_port_bare_tick_now_fn" title="mb_port_bare_tick_now_fn"><span class="n"><span class="pre">mb_port_bare_tick_now_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tick_now_fn</span></span></span><a class="headerlink" href="#_CPPv4N22mb_port_bare_transport11tick_now_fnE" title="Link to this definition"></a><br /></dt>
<dd><p>Returns scheduler ticks. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_port_bare_transport8yield_fnE">
<span id="_CPPv3N22mb_port_bare_transport8yield_fnE"></span><span id="_CPPv2N22mb_port_bare_transport8yield_fnE"></span><span id="mb_port_bare_transport::yield_fn__mb_port_bare_yield_fn"></span><span class="target" id="structmb__port__bare__transport_1a5de93187401d1267802c3bf87cfd8706"></span><a class="reference internal" href="#_CPPv421mb_port_bare_yield_fn" title="mb_port_bare_yield_fn"><span class="n"><span class="pre">mb_port_bare_yield_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">yield_fn</span></span></span><a class="headerlink" href="#_CPPv4N22mb_port_bare_transport8yield_fnE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional CPU yield hook. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_port_bare_transport12tick_rate_hzE">
<span id="_CPPv3N22mb_port_bare_transport12tick_rate_hzE"></span><span id="_CPPv2N22mb_port_bare_transport12tick_rate_hzE"></span><span id="mb_port_bare_transport::tick_rate_hz__uint32_t"></span><span class="target" id="structmb__port__bare__transport_1a76d7a8dcb0acb0489b546698b51e2191"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tick_rate_hz</span></span></span><a class="headerlink" href="#_CPPv4N22mb_port_bare_transport12tick_rate_hzE" title="Link to this definition"></a><br /></dt>
<dd><p>Tick frequency (Hz) for ms conversion. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N22mb_port_bare_transport5ifaceE">
<span id="_CPPv3N22mb_port_bare_transport5ifaceE"></span><span id="_CPPv2N22mb_port_bare_transport5ifaceE"></span><span id="mb_port_bare_transport::iface__mb_transport_if_t"></span><span class="target" id="structmb__port__bare__transport_1a80cf2d007a9359d9247da5e3c725e1b2"></span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iface</span></span></span><a class="headerlink" href="#_CPPv4N22mb_port_bare_transport5ifaceE" title="Link to this definition"></a><br /></dt>
<dd><p>Exposed transport interface. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv426mb_port_freertos_transport">
<span id="_CPPv326mb_port_freertos_transport"></span><span id="_CPPv226mb_port_freertos_transport"></span><span id="mb_port_freertos_transport"></span><span class="target" id="structmb__port__freertos__transport"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_transport</span></span></span><a class="headerlink" href="#_CPPv426mb_port_freertos_transport" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#freertos_8h"><span class="std std-ref">freertos.h</span></a>&gt;</em></div>
<p>FreeRTOS transport wrapper leveraging stream buffers or queues. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mb_port_freertos_transport9tx_streamE">
<span id="_CPPv3N26mb_port_freertos_transport9tx_streamE"></span><span id="_CPPv2N26mb_port_freertos_transport9tx_streamE"></span><span id="mb_port_freertos_transport::tx_stream__voidP"></span><span class="target" id="structmb__port__freertos__transport_1a18324c32e027a70f44eada97583ffacf"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">tx_stream</span></span></span><a class="headerlink" href="#_CPPv4N26mb_port_freertos_transport9tx_streamE" title="Link to this definition"></a><br /></dt>
<dd><p>Stream/queue used for TX. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mb_port_freertos_transport9rx_streamE">
<span id="_CPPv3N26mb_port_freertos_transport9rx_streamE"></span><span id="_CPPv2N26mb_port_freertos_transport9rx_streamE"></span><span id="mb_port_freertos_transport::rx_stream__voidP"></span><span class="target" id="structmb__port__freertos__transport_1a684f9e081ccad420ce34f5778092253e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">rx_stream</span></span></span><a class="headerlink" href="#_CPPv4N26mb_port_freertos_transport9rx_streamE" title="Link to this definition"></a><br /></dt>
<dd><p>Stream/queue used for RX. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mb_port_freertos_transport7send_fnE">
<span id="_CPPv3N26mb_port_freertos_transport7send_fnE"></span><span id="_CPPv2N26mb_port_freertos_transport7send_fnE"></span><span id="mb_port_freertos_transport::send_fn__mb_port_freertos_stream_send_fn"></span><span class="target" id="structmb__port__freertos__transport_1a7d1e89c8a767d092f978c72e1fab2760"></span><a class="reference internal" href="#_CPPv431mb_port_freertos_stream_send_fn" title="mb_port_freertos_stream_send_fn"><span class="n"><span class="pre">mb_port_freertos_stream_send_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">send_fn</span></span></span><a class="headerlink" href="#_CPPv4N26mb_port_freertos_transport7send_fnE" title="Link to this definition"></a><br /></dt>
<dd><p>Low-level send primitive. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mb_port_freertos_transport7recv_fnE">
<span id="_CPPv3N26mb_port_freertos_transport7recv_fnE"></span><span id="_CPPv2N26mb_port_freertos_transport7recv_fnE"></span><span id="mb_port_freertos_transport::recv_fn__mb_port_freertos_stream_recv_fn"></span><span class="target" id="structmb__port__freertos__transport_1a779bbe5c158609a9ecbf4d6526b8927a"></span><a class="reference internal" href="#_CPPv431mb_port_freertos_stream_recv_fn" title="mb_port_freertos_stream_recv_fn"><span class="n"><span class="pre">mb_port_freertos_stream_recv_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">recv_fn</span></span></span><a class="headerlink" href="#_CPPv4N26mb_port_freertos_transport7recv_fnE" title="Link to this definition"></a><br /></dt>
<dd><p>Low-level receive primitive. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mb_port_freertos_transport7tick_fnE">
<span id="_CPPv3N26mb_port_freertos_transport7tick_fnE"></span><span id="_CPPv2N26mb_port_freertos_transport7tick_fnE"></span><span id="mb_port_freertos_transport::tick_fn__mb_port_freertos_tick_hook_fn"></span><span class="target" id="structmb__port__freertos__transport_1aab310247711f7d9a6e8c73eab6216d20"></span><a class="reference internal" href="#_CPPv429mb_port_freertos_tick_hook_fn" title="mb_port_freertos_tick_hook_fn"><span class="n"><span class="pre">mb_port_freertos_tick_hook_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tick_fn</span></span></span><a class="headerlink" href="#_CPPv4N26mb_port_freertos_transport7tick_fnE" title="Link to this definition"></a><br /></dt>
<dd><p>Hook returning the current tick value. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mb_port_freertos_transport8yield_fnE">
<span id="_CPPv3N26mb_port_freertos_transport8yield_fnE"></span><span id="_CPPv2N26mb_port_freertos_transport8yield_fnE"></span><span id="mb_port_freertos_transport::yield_fn__mb_port_freertos_yield_hook_fn"></span><span class="target" id="structmb__port__freertos__transport_1aa7a6aad92f7b33b5973df11c7ef0c8bf"></span><a class="reference internal" href="#_CPPv430mb_port_freertos_yield_hook_fn" title="mb_port_freertos_yield_hook_fn"><span class="n"><span class="pre">mb_port_freertos_yield_hook_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">yield_fn</span></span></span><a class="headerlink" href="#_CPPv4N26mb_port_freertos_transport8yield_fnE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional scheduler-yield hook. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mb_port_freertos_transport12tick_rate_hzE">
<span id="_CPPv3N26mb_port_freertos_transport12tick_rate_hzE"></span><span id="_CPPv2N26mb_port_freertos_transport12tick_rate_hzE"></span><span id="mb_port_freertos_transport::tick_rate_hz__uint32_t"></span><span class="target" id="structmb__port__freertos__transport_1ade27eb2d1b62f383bc453a63bf2037ee"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tick_rate_hz</span></span></span><a class="headerlink" href="#_CPPv4N26mb_port_freertos_transport12tick_rate_hzE" title="Link to this definition"></a><br /></dt>
<dd><p>Tick frequency used for ms conversion. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mb_port_freertos_transport15max_block_ticksE">
<span id="_CPPv3N26mb_port_freertos_transport15max_block_ticksE"></span><span id="_CPPv2N26mb_port_freertos_transport15max_block_ticksE"></span><span id="mb_port_freertos_transport::max_block_ticks__uint32_t"></span><span class="target" id="structmb__port__freertos__transport_1a5b1296dbc48d10c29ea0015e1089aff7"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_block_ticks</span></span></span><a class="headerlink" href="#_CPPv4N26mb_port_freertos_transport15max_block_ticksE" title="Link to this definition"></a><br /></dt>
<dd><p>Maximum wait ticks for send/recv. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N26mb_port_freertos_transport5ifaceE">
<span id="_CPPv3N26mb_port_freertos_transport5ifaceE"></span><span id="_CPPv2N26mb_port_freertos_transport5ifaceE"></span><span id="mb_port_freertos_transport::iface__mb_transport_if_t"></span><span class="target" id="structmb__port__freertos__transport_1a1cef19cf705375da275bba7c598e42ce"></span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iface</span></span></span><a class="headerlink" href="#_CPPv4N26mb_port_freertos_transport5ifaceE" title="Link to this definition"></a><br /></dt>
<dd><p>Exposed non-blocking transport. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv413mb_port_mutex">
<span id="_CPPv313mb_port_mutex"></span><span id="_CPPv213mb_port_mutex"></span><span id="mb_port_mutex"></span><span class="target" id="structmb__port__mutex"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_mutex</span></span></span><a class="headerlink" href="#_CPPv413mb_port_mutex" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mutex_8h"><span class="std std-ref">mutex.h</span></a>&gt;</em></div>
<p>Opaque mutex structure with C11 threads fallback. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_port_mutex6handleE">
<span id="_CPPv3N13mb_port_mutex6handleE"></span><span id="_CPPv2N13mb_port_mutex6handleE"></span><span id="mb_port_mutex::handle__mtx_t"></span><span class="target" id="structmb__port__mutex_1adcdcef4818902bd651e8815c7cb45f75"></span><span class="n"><span class="pre">mtx_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">handle</span></span></span><a class="headerlink" href="#_CPPv4N13mb_port_mutex6handleE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_port_mutex11initialisedE">
<span id="_CPPv3N13mb_port_mutex11initialisedE"></span><span id="_CPPv2N13mb_port_mutex11initialisedE"></span><span id="mb_port_mutex::initialised__b"></span><span class="target" id="structmb__port__mutex_1acf50b744fe64b29271f9ff68c27e66d2"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">initialised</span></span></span><a class="headerlink" href="#_CPPv4N13mb_port_mutex11initialisedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv420mb_port_posix_socket">
<span id="_CPPv320mb_port_posix_socket"></span><span id="_CPPv220mb_port_posix_socket"></span><span id="mb_port_posix_socket"></span><span class="target" id="structmb__port__posix__socket"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_socket</span></span></span><a class="headerlink" href="#_CPPv420mb_port_posix_socket" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#posix_8h"><span class="std std-ref">posix.h</span></a>&gt;</em></div>
<p>POSIX socket wrapper that exposes an <code class="docutils literal notranslate"><a class="reference internal" href="#structmb__transport__if__t"><span class="std std-ref"><span class="pre">mb_transport_if_t</span></span></a></code>. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mb_port_posix_socket2fdE">
<span id="_CPPv3N20mb_port_posix_socket2fdE"></span><span id="_CPPv2N20mb_port_posix_socket2fdE"></span><span id="mb_port_posix_socket::fd__i"></span><span class="target" id="structmb__port__posix__socket_1a0ca4b987579ea65ed9fb73cf87f6ed31"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fd</span></span></span><a class="headerlink" href="#_CPPv4N20mb_port_posix_socket2fdE" title="Link to this definition"></a><br /></dt>
<dd><p>Underlying file descriptor. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mb_port_posix_socket7owns_fdE">
<span id="_CPPv3N20mb_port_posix_socket7owns_fdE"></span><span id="_CPPv2N20mb_port_posix_socket7owns_fdE"></span><span id="mb_port_posix_socket::owns_fd__b"></span><span class="target" id="structmb__port__posix__socket_1a4d7570e2220abf804975305f14c4883c"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">owns_fd</span></span></span><a class="headerlink" href="#_CPPv4N20mb_port_posix_socket7owns_fdE" title="Link to this definition"></a><br /></dt>
<dd><p>Close the descriptor on teardown when true. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N20mb_port_posix_socket5ifaceE">
<span id="_CPPv3N20mb_port_posix_socket5ifaceE"></span><span id="_CPPv2N20mb_port_posix_socket5ifaceE"></span><span id="mb_port_posix_socket::iface__mb_transport_if_t"></span><span class="target" id="structmb__port__posix__socket_1af1afe04f1e461db4715a53ad40e23201"></span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">iface</span></span></span><a class="headerlink" href="#_CPPv4N20mb_port_posix_socket5ifaceE" title="Link to this definition"></a><br /></dt>
<dd><p>Transport interface bound to this socket. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv413mb_qos_config">
<span id="_CPPv313mb_qos_config"></span><span id="_CPPv213mb_qos_config"></span><span id="mb_qos_config"></span><span class="target" id="structmb__qos__config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_config</span></span></span><a class="headerlink" href="#_CPPv413mb_qos_config" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__qos_8h"><span class="std std-ref">mb_qos.h</span></a>&gt;</em></div>
<p>QoS configuration. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_config16high_queue_slotsE">
<span id="_CPPv3N13mb_qos_config16high_queue_slotsE"></span><span id="_CPPv2N13mb_qos_config16high_queue_slotsE"></span><span id="mb_qos_config::high_queue_slots__voidPP"></span><span class="target" id="structmb__qos__config_1a8f9e3fbd8c9c19ddc9bae60d26540b54"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">high_queue_slots</span></span></span><a class="headerlink" href="#_CPPv4N13mb_qos_config16high_queue_slotsE" title="Link to this definition"></a><br /></dt>
<dd><p>Storage for high priority queue </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_config13high_capacityE">
<span id="_CPPv3N13mb_qos_config13high_capacityE"></span><span id="_CPPv2N13mb_qos_config13high_capacityE"></span><span id="mb_qos_config::high_capacity__s"></span><span class="target" id="structmb__qos__config_1af5d854ffd4585187c9dce8e71b63e2f6"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">high_capacity</span></span></span><a class="headerlink" href="#_CPPv4N13mb_qos_config13high_capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>High priority queue capacity </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_config18normal_queue_slotsE">
<span id="_CPPv3N13mb_qos_config18normal_queue_slotsE"></span><span id="_CPPv2N13mb_qos_config18normal_queue_slotsE"></span><span id="mb_qos_config::normal_queue_slots__voidPP"></span><span class="target" id="structmb__qos__config_1a7bba3c074e442f7771a2648661c5160c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">normal_queue_slots</span></span></span><a class="headerlink" href="#_CPPv4N13mb_qos_config18normal_queue_slotsE" title="Link to this definition"></a><br /></dt>
<dd><p>Storage for normal priority queue </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_config15normal_capacityE">
<span id="_CPPv3N13mb_qos_config15normal_capacityE"></span><span id="_CPPv2N13mb_qos_config15normal_capacityE"></span><span id="mb_qos_config::normal_capacity__s"></span><span class="target" id="structmb__qos__config_1ab0c404c84c64194245460ae86e03f11b"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">normal_capacity</span></span></span><a class="headerlink" href="#_CPPv4N13mb_qos_config15normal_capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Normal priority queue capacity </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_config6policyE">
<span id="_CPPv3N13mb_qos_config6policyE"></span><span id="_CPPv2N13mb_qos_config6policyE"></span><span id="mb_qos_config::policy__mb_qos_policy_t"></span><span class="target" id="structmb__qos__config_1ae99b26265c049509e6d42fa3365a58cb"></span><a class="reference internal" href="#_CPPv415mb_qos_policy_t" title="mb_qos_policy_t"><span class="n"><span class="pre">mb_qos_policy_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">policy</span></span></span><a class="headerlink" href="#_CPPv4N13mb_qos_config6policyE" title="Link to this definition"></a><br /></dt>
<dd><p>Priority policy </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_config21deadline_threshold_msE">
<span id="_CPPv3N13mb_qos_config21deadline_threshold_msE"></span><span id="_CPPv2N13mb_qos_config21deadline_threshold_msE"></span><span id="mb_qos_config::deadline_threshold_ms__uint32_t"></span><span class="target" id="structmb__qos__config_1a885bfae91655a3130f1fe28a91b36c86"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">deadline_threshold_ms</span></span></span><a class="headerlink" href="#_CPPv4N13mb_qos_config21deadline_threshold_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Deadline threshold (policy-dependent) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_config17enable_monitoringE">
<span id="_CPPv3N13mb_qos_config17enable_monitoringE"></span><span id="_CPPv2N13mb_qos_config17enable_monitoringE"></span><span id="mb_qos_config::enable_monitoring__b"></span><span class="target" id="structmb__qos__config_1a15e689655f9a032a70e5005f75cf1589"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enable_monitoring</span></span></span><a class="headerlink" href="#_CPPv4N13mb_qos_config17enable_monitoringE" title="Link to this definition"></a><br /></dt>
<dd><p>Enable latency tracking </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_config6now_msE">
<span id="_CPPv3N13mb_qos_config6now_msE"></span><span id="_CPPv2N13mb_qos_config6now_msE"></span><span class="target" id="structmb__qos__config_1ae056dfac8149fedf34aca48898cd6ed3"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">now_ms</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N13mb_qos_config6now_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Timestamp function (required if monitoring) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv410mb_qos_ctx">
<span id="_CPPv310mb_qos_ctx"></span><span id="_CPPv210mb_qos_ctx"></span><span id="mb_qos_ctx"></span><span class="target" id="structmb__qos__ctx"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_ctx</span></span></span><a class="headerlink" href="#_CPPv410mb_qos_ctx" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__qos_8h"><span class="std std-ref">mb_qos.h</span></a>&gt;</em></div>
<p>QoS context structure. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_qos_ctx10high_queueE">
<span id="_CPPv3N10mb_qos_ctx10high_queueE"></span><span id="_CPPv2N10mb_qos_ctx10high_queueE"></span><span id="mb_qos_ctx::high_queue__mb_queue_spsc_t"></span><span class="target" id="structmb__qos__ctx_1a494d581be5c1cb906ddca3601593ceab"></span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">high_queue</span></span></span><a class="headerlink" href="#_CPPv4N10mb_qos_ctx10high_queueE" title="Link to this definition"></a><br /></dt>
<dd><p>High priority queue (lock-free) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_qos_ctx12normal_queueE">
<span id="_CPPv3N10mb_qos_ctx12normal_queueE"></span><span id="_CPPv2N10mb_qos_ctx12normal_queueE"></span><span id="mb_qos_ctx::normal_queue__mb_queue_spsc_t"></span><span class="target" id="structmb__qos__ctx_1a4f438f308cde4a2bb8643d6b8e314f29"></span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">normal_queue</span></span></span><a class="headerlink" href="#_CPPv4N10mb_qos_ctx12normal_queueE" title="Link to this definition"></a><br /></dt>
<dd><p>Normal priority queue </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_qos_ctx6policyE">
<span id="_CPPv3N10mb_qos_ctx6policyE"></span><span id="_CPPv2N10mb_qos_ctx6policyE"></span><span id="mb_qos_ctx::policy__mb_qos_policy_t"></span><span class="target" id="structmb__qos__ctx_1a898c7100914c5d85a99a1f288154525e"></span><a class="reference internal" href="#_CPPv415mb_qos_policy_t" title="mb_qos_policy_t"><span class="n"><span class="pre">mb_qos_policy_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">policy</span></span></span><a class="headerlink" href="#_CPPv4N10mb_qos_ctx6policyE" title="Link to this definition"></a><br /></dt>
<dd><p>Priority policy </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_qos_ctx21deadline_threshold_msE">
<span id="_CPPv3N10mb_qos_ctx21deadline_threshold_msE"></span><span id="_CPPv2N10mb_qos_ctx21deadline_threshold_msE"></span><span id="mb_qos_ctx::deadline_threshold_ms__uint32_t"></span><span class="target" id="structmb__qos__ctx_1a937eb4b6d624b4285b9aeaa97948a18c"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">deadline_threshold_ms</span></span></span><a class="headerlink" href="#_CPPv4N10mb_qos_ctx21deadline_threshold_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Deadline threshold for policy </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_qos_ctx5statsE">
<span id="_CPPv3N10mb_qos_ctx5statsE"></span><span id="_CPPv2N10mb_qos_ctx5statsE"></span><span id="mb_qos_ctx::stats__mb_qos_stats_t"></span><span class="target" id="structmb__qos__ctx_1a19d4990da9c1cc53421060baedd000f1"></span><a class="reference internal" href="#_CPPv414mb_qos_stats_t" title="mb_qos_stats_t"><span class="n"><span class="pre">mb_qos_stats_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stats</span></span></span><a class="headerlink" href="#_CPPv4N10mb_qos_ctx5statsE" title="Link to this definition"></a><br /></dt>
<dd><p>Performance statistics </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_qos_ctx17enable_monitoringE">
<span id="_CPPv3N10mb_qos_ctx17enable_monitoringE"></span><span id="_CPPv2N10mb_qos_ctx17enable_monitoringE"></span><span id="mb_qos_ctx::enable_monitoring__b"></span><span class="target" id="structmb__qos__ctx_1ae4d395a413e267dde36fe65fa4e161a5"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enable_monitoring</span></span></span><a class="headerlink" href="#_CPPv4N10mb_qos_ctx17enable_monitoringE" title="Link to this definition"></a><br /></dt>
<dd><p>Enable detailed monitoring </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_qos_ctx6now_msE">
<span id="_CPPv3N10mb_qos_ctx6now_msE"></span><span id="_CPPv2N10mb_qos_ctx6now_msE"></span><span class="target" id="structmb__qos__ctx_1a135817810bef2152dcac47afb4accb47"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">now_ms</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N10mb_qos_ctx6now_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Timestamp function pointer </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv421mb_qos_priority_stats">
<span id="_CPPv321mb_qos_priority_stats"></span><span id="_CPPv221mb_qos_priority_stats"></span><span id="mb_qos_priority_stats"></span><span class="target" id="structmb__qos__priority__stats"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_priority_stats</span></span></span><a class="headerlink" href="#_CPPv421mb_qos_priority_stats" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__qos_8h"><span class="std std-ref">mb_qos.h</span></a>&gt;</em></div>
<p>Per-priority QoS statistics. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_qos_priority_stats8enqueuedE">
<span id="_CPPv3N21mb_qos_priority_stats8enqueuedE"></span><span id="_CPPv2N21mb_qos_priority_stats8enqueuedE"></span><span id="mb_qos_priority_stats::enqueued__uint32_t"></span><span class="target" id="structmb__qos__priority__stats_1a85f11ce777d989aeeae4ed17fb7cbe43"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enqueued</span></span></span><a class="headerlink" href="#_CPPv4N21mb_qos_priority_stats8enqueuedE" title="Link to this definition"></a><br /></dt>
<dd><p>Total transactions enqueued </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_qos_priority_stats9completedE">
<span id="_CPPv3N21mb_qos_priority_stats9completedE"></span><span id="_CPPv2N21mb_qos_priority_stats9completedE"></span><span id="mb_qos_priority_stats::completed__uint32_t"></span><span class="target" id="structmb__qos__priority__stats_1a52352dc1f38e386d29090378b9156175"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">completed</span></span></span><a class="headerlink" href="#_CPPv4N21mb_qos_priority_stats9completedE" title="Link to this definition"></a><br /></dt>
<dd><p>Total transactions completed </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_qos_priority_stats8rejectedE">
<span id="_CPPv3N21mb_qos_priority_stats8rejectedE"></span><span id="_CPPv2N21mb_qos_priority_stats8rejectedE"></span><span id="mb_qos_priority_stats::rejected__uint32_t"></span><span class="target" id="structmb__qos__priority__stats_1ac7db799a8b0400bb24e78ea40320813a"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rejected</span></span></span><a class="headerlink" href="#_CPPv4N21mb_qos_priority_stats8rejectedE" title="Link to this definition"></a><br /></dt>
<dd><p>Rejected due to backpressure </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_qos_priority_stats14min_latency_msE">
<span id="_CPPv3N21mb_qos_priority_stats14min_latency_msE"></span><span id="_CPPv2N21mb_qos_priority_stats14min_latency_msE"></span><span id="mb_qos_priority_stats::min_latency_ms__uint32_t"></span><span class="target" id="structmb__qos__priority__stats_1a3940ec9adc282a9b0c80c0af6b8bc5dc"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">min_latency_ms</span></span></span><a class="headerlink" href="#_CPPv4N21mb_qos_priority_stats14min_latency_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Minimum latency (enqueue→complete) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_qos_priority_stats14max_latency_msE">
<span id="_CPPv3N21mb_qos_priority_stats14max_latency_msE"></span><span id="_CPPv2N21mb_qos_priority_stats14max_latency_msE"></span><span id="mb_qos_priority_stats::max_latency_ms__uint32_t"></span><span class="target" id="structmb__qos__priority__stats_1adc25330e651accc88d81729c38838a00"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">max_latency_ms</span></span></span><a class="headerlink" href="#_CPPv4N21mb_qos_priority_stats14max_latency_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Maximum latency </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_qos_priority_stats14avg_latency_msE">
<span id="_CPPv3N21mb_qos_priority_stats14avg_latency_msE"></span><span id="_CPPv2N21mb_qos_priority_stats14avg_latency_msE"></span><span id="mb_qos_priority_stats::avg_latency_ms__uint32_t"></span><span class="target" id="structmb__qos__priority__stats_1a427e4ef644944b8ab6b68abde3f56eec"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">avg_latency_ms</span></span></span><a class="headerlink" href="#_CPPv4N21mb_qos_priority_stats14avg_latency_msE" title="Link to this definition"></a><br /></dt>
<dd><p>Average latency </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_qos_priority_stats15deadline_missesE">
<span id="_CPPv3N21mb_qos_priority_stats15deadline_missesE"></span><span id="_CPPv2N21mb_qos_priority_stats15deadline_missesE"></span><span id="mb_qos_priority_stats::deadline_misses__uint32_t"></span><span class="target" id="structmb__qos__priority__stats_1a38478f1a6b4962df5f22c975b23b7d2b"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">deadline_misses</span></span></span><a class="headerlink" href="#_CPPv4N21mb_qos_priority_stats15deadline_missesE" title="Link to this definition"></a><br /></dt>
<dd><p>Transactions that missed deadline </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv412mb_qos_stats">
<span id="_CPPv312mb_qos_stats"></span><span id="_CPPv212mb_qos_stats"></span><span id="mb_qos_stats"></span><span class="target" id="structmb__qos__stats"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_stats</span></span></span><a class="headerlink" href="#_CPPv412mb_qos_stats" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__qos_8h"><span class="std std-ref">mb_qos.h</span></a>&gt;</em></div>
<p>Overall QoS statistics. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_qos_stats4highE">
<span id="_CPPv3N12mb_qos_stats4highE"></span><span id="_CPPv2N12mb_qos_stats4highE"></span><span id="mb_qos_stats::high__mb_qos_priority_stats_t"></span><span class="target" id="structmb__qos__stats_1aea9d7b2fd0983697b79539d08d7d72ea"></span><a class="reference internal" href="#_CPPv423mb_qos_priority_stats_t" title="mb_qos_priority_stats_t"><span class="n"><span class="pre">mb_qos_priority_stats_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">high</span></span></span><a class="headerlink" href="#_CPPv4N12mb_qos_stats4highE" title="Link to this definition"></a><br /></dt>
<dd><p>High priority stats </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_qos_stats6normalE">
<span id="_CPPv3N12mb_qos_stats6normalE"></span><span id="_CPPv2N12mb_qos_stats6normalE"></span><span id="mb_qos_stats::normal__mb_qos_priority_stats_t"></span><span class="target" id="structmb__qos__stats_1a2b4cc8c9990335a66e44b201750a3aea"></span><a class="reference internal" href="#_CPPv423mb_qos_priority_stats_t" title="mb_qos_priority_stats_t"><span class="n"><span class="pre">mb_qos_priority_stats_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">normal</span></span></span><a class="headerlink" href="#_CPPv4N12mb_qos_stats6normalE" title="Link to this definition"></a><br /></dt>
<dd><p>Normal priority stats </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_qos_stats17queue_full_eventsE">
<span id="_CPPv3N12mb_qos_stats17queue_full_eventsE"></span><span id="_CPPv2N12mb_qos_stats17queue_full_eventsE"></span><span id="mb_qos_stats::queue_full_events__uint32_t"></span><span class="target" id="structmb__qos__stats_1aad0e1b91230f46e251207ba6177b366f"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">queue_full_events</span></span></span><a class="headerlink" href="#_CPPv4N12mb_qos_stats17queue_full_eventsE" title="Link to this definition"></a><br /></dt>
<dd><p>Times queue reached capacity </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_qos_stats19priority_inversionsE">
<span id="_CPPv3N12mb_qos_stats19priority_inversionsE"></span><span id="_CPPv2N12mb_qos_stats19priority_inversionsE"></span><span id="mb_qos_stats::priority_inversions__uint32_t"></span><span class="target" id="structmb__qos__stats_1a1233e3ff677b622131913334cdc07732"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">priority_inversions</span></span></span><a class="headerlink" href="#_CPPv4N12mb_qos_stats19priority_inversionsE" title="Link to this definition"></a><br /></dt>
<dd><p>Normal served before high (bug indicator) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_qos_stats18current_high_depthE">
<span id="_CPPv3N12mb_qos_stats18current_high_depthE"></span><span id="_CPPv2N12mb_qos_stats18current_high_depthE"></span><span id="mb_qos_stats::current_high_depth__uint32_t"></span><span class="target" id="structmb__qos__stats_1aa7df0f17a4f590d62084c33d0d7c3955"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">current_high_depth</span></span></span><a class="headerlink" href="#_CPPv4N12mb_qos_stats18current_high_depthE" title="Link to this definition"></a><br /></dt>
<dd><p>Current high priority queue depth </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_qos_stats20current_normal_depthE">
<span id="_CPPv3N12mb_qos_stats20current_normal_depthE"></span><span id="_CPPv2N12mb_qos_stats20current_normal_depthE"></span><span id="mb_qos_stats::current_normal_depth__uint32_t"></span><span class="target" id="structmb__qos__stats_1aa915da5fde8c6859a42af7539d85a0a6"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">current_normal_depth</span></span></span><a class="headerlink" href="#_CPPv4N12mb_qos_stats20current_normal_depthE" title="Link to this definition"></a><br /></dt>
<dd><p>Current normal priority queue depth </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_qos_stats20high_water_mark_highE">
<span id="_CPPv3N12mb_qos_stats20high_water_mark_highE"></span><span id="_CPPv2N12mb_qos_stats20high_water_mark_highE"></span><span id="mb_qos_stats::high_water_mark_high__uint32_t"></span><span class="target" id="structmb__qos__stats_1a20f2a6b01e919fd873092666dc8708d9"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">high_water_mark_high</span></span></span><a class="headerlink" href="#_CPPv4N12mb_qos_stats20high_water_mark_highE" title="Link to this definition"></a><br /></dt>
<dd><p>Peak high priority queue depth </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N12mb_qos_stats22high_water_mark_normalE">
<span id="_CPPv3N12mb_qos_stats22high_water_mark_normalE"></span><span id="_CPPv2N12mb_qos_stats22high_water_mark_normalE"></span><span id="mb_qos_stats::high_water_mark_normal__uint32_t"></span><span class="target" id="structmb__qos__stats_1a1542330572458bb1234277ee254b1979"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">high_water_mark_normal</span></span></span><a class="headerlink" href="#_CPPv4N12mb_qos_stats22high_water_mark_normalE" title="Link to this definition"></a><br /></dt>
<dd><p>Peak normal priority queue depth </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv418mb_qos_transaction">
<span id="_CPPv318mb_qos_transaction"></span><span id="_CPPv218mb_qos_transaction"></span><span id="mb_qos_transaction"></span><span class="target" id="structmb__qos__transaction"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_transaction</span></span></span><a class="headerlink" href="#_CPPv418mb_qos_transaction" title="Link to this definition"></a><br /></dt>
<dd><p>Minimal transaction structure for QoS operations. </p>
<p>Note: In production, this would match the actual mb_transaction_t from <a class="reference internal" href="#core_8h"><span class="std std-ref">core.h</span></a></p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_qos_transaction13slave_addressE">
<span id="_CPPv3N18mb_qos_transaction13slave_addressE"></span><span id="_CPPv2N18mb_qos_transaction13slave_addressE"></span><span id="mb_qos_transaction::slave_address__uint8_t"></span><span class="target" id="structmb__qos__transaction_1ac60da4f1f6991caba841126890833922"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slave_address</span></span></span><a class="headerlink" href="#_CPPv4N18mb_qos_transaction13slave_addressE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_qos_transaction13function_codeE">
<span id="_CPPv3N18mb_qos_transaction13function_codeE"></span><span id="_CPPv2N18mb_qos_transaction13function_codeE"></span><span id="mb_qos_transaction::function_code__uint8_t"></span><span class="target" id="structmb__qos__transaction_1a3de337d3b9835fdc765e4ba61592f334"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">function_code</span></span></span><a class="headerlink" href="#_CPPv4N18mb_qos_transaction13function_codeE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_qos_transaction11deadline_msE">
<span id="_CPPv3N18mb_qos_transaction11deadline_msE"></span><span id="_CPPv2N18mb_qos_transaction11deadline_msE"></span><span id="mb_qos_transaction::deadline_ms__uint32_t"></span><span class="target" id="structmb__qos__transaction_1a73e8e99e5e4d1cf1be67de8b98ce8006"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">deadline_ms</span></span></span><a class="headerlink" href="#_CPPv4N18mb_qos_transaction11deadline_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_qos_transaction17enqueue_timestampE">
<span id="_CPPv3N18mb_qos_transaction17enqueue_timestampE"></span><span id="_CPPv2N18mb_qos_transaction17enqueue_timestampE"></span><span id="mb_qos_transaction::enqueue_timestamp__uint32_t"></span><span class="target" id="structmb__qos__transaction_1ab70ed47fe2d165e4ccaec7ff43ea3141"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enqueue_timestamp</span></span></span><a class="headerlink" href="#_CPPv4N18mb_qos_transaction17enqueue_timestampE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_qos_transaction8priorityE">
<span id="_CPPv3N18mb_qos_transaction8priorityE"></span><span id="_CPPv2N18mb_qos_transaction8priorityE"></span><span id="mb_qos_transaction::priority__mb_qos_priority_t"></span><span class="target" id="structmb__qos__transaction_1a13d930da42e252bb701e706f78f1f0e4"></span><a class="reference internal" href="#_CPPv417mb_qos_priority_t" title="mb_qos_priority_t"><span class="n"><span class="pre">mb_qos_priority_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">priority</span></span></span><a class="headerlink" href="#_CPPv4N18mb_qos_transaction8priorityE" title="Link to this definition"></a><br /></dt>
<dd><p>Explicitly set priority (for APPLICATION policy) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv413mb_queue_mpsc">
<span id="_CPPv313mb_queue_mpsc"></span><span id="_CPPv213mb_queue_mpsc"></span><span id="mb_queue_mpsc"></span><span class="target" id="structmb__queue__mpsc"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc</span></span></span><a class="headerlink" href="#_CPPv413mb_queue_mpsc" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__queue_8h"><span class="std std-ref">mb_queue.h</span></a>&gt;</em></div>
<p>MPSC queue for multiple producers with single consumer. </p>
<p>Uses a mutex to protect enqueue operations. Dequeue is lock-free from consumer side. Optimized for scenarios where multiple threads need to submit work to a single dispatcher.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Capacity must be a power of 2. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_mpsc5slotsE">
<span id="_CPPv3N13mb_queue_mpsc5slotsE"></span><span id="_CPPv2N13mb_queue_mpsc5slotsE"></span><span id="mb_queue_mpsc::slots__voidPP"></span><span class="target" id="structmb__queue__mpsc_1a14180f36b2d5e57d4b466a360715908e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">slots</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_mpsc5slotsE" title="Link to this definition"></a><br /></dt>
<dd><p>External storage for element pointers </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_mpsc8capacityE">
<span id="_CPPv3N13mb_queue_mpsc8capacityE"></span><span id="_CPPv2N13mb_queue_mpsc8capacityE"></span><span id="mb_queue_mpsc::capacity__s"></span><span class="target" id="structmb__queue__mpsc_1a66525f9b426cfc95084b70e14c49236b"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">capacity</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_mpsc8capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Total slots (must be power of 2) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_mpsc4maskE">
<span id="_CPPv3N13mb_queue_mpsc4maskE"></span><span id="_CPPv2N13mb_queue_mpsc4maskE"></span><span id="mb_queue_mpsc::mask__s"></span><span class="target" id="structmb__queue__mpsc_1a46c0af14b760e60303cc12ebc149de35"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mask</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_mpsc4maskE" title="Link to this definition"></a><br /></dt>
<dd><p>Cached (capacity - 1) for wrapping </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_mpsc4headE">
<span id="_CPPv3N13mb_queue_mpsc4headE"></span><span id="_CPPv2N13mb_queue_mpsc4headE"></span><span id="mb_queue_mpsc::head__mb_atomic_size_t"></span><span class="target" id="structmb__queue__mpsc_1af3a7448f3b61753071d7ec98f37d7dc9"></span><a class="reference internal" href="#_CPPv416mb_atomic_size_t" title="mb_atomic_size_t"><span class="n"><span class="pre">mb_atomic_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">head</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_mpsc4headE" title="Link to this definition"></a><br /></dt>
<dd><p>Consumer index (atomic, no lock needed) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_mpsc4tailE">
<span id="_CPPv3N13mb_queue_mpsc4tailE"></span><span id="_CPPv2N13mb_queue_mpsc4tailE"></span><span id="mb_queue_mpsc::tail__s"></span><span class="target" id="structmb__queue__mpsc_1a755e7f137514e42b8fc6770f1caa16e3"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tail</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_mpsc4tailE" title="Link to this definition"></a><br /></dt>
<dd><p>Producer index (protected by mutex) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_mpsc10high_waterE">
<span id="_CPPv3N13mb_queue_mpsc10high_waterE"></span><span id="_CPPv2N13mb_queue_mpsc10high_waterE"></span><span id="mb_queue_mpsc::high_water__s"></span><span class="target" id="structmb__queue__mpsc_1aaf2eef178978dfead44283b5061510d2"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">high_water</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_mpsc10high_waterE" title="Link to this definition"></a><br /></dt>
<dd><p>Peak occupancy for diagnostics </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_mpsc5mutexE">
<span id="_CPPv3N13mb_queue_mpsc5mutexE"></span><span id="_CPPv2N13mb_queue_mpsc5mutexE"></span><span id="mb_queue_mpsc::mutex__mb_port_mutex_t"></span><span class="target" id="structmb__queue__mpsc_1adc45f87862755309da6bcb6bb41cb1c9"></span><a class="reference internal" href="#_CPPv415mb_port_mutex_t" title="mb_port_mutex_t"><span class="n"><span class="pre">mb_port_mutex_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mutex</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_mpsc5mutexE" title="Link to this definition"></a><br /></dt>
<dd><p>Protects enqueue operations only </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv413mb_queue_spsc">
<span id="_CPPv313mb_queue_spsc"></span><span id="_CPPv213mb_queue_spsc"></span><span id="mb_queue_spsc"></span><span class="target" id="structmb__queue__spsc"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc</span></span></span><a class="headerlink" href="#_CPPv413mb_queue_spsc" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__queue_8h"><span class="std std-ref">mb_queue.h</span></a>&gt;</em></div>
<p>Lock-free SPSC queue for ISR-to-thread communication. </p>
<p>Uses C11 atomics when available for true lock-free operation. Falls back to mutex-based implementation on platforms without atomic support.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Capacity must be a power of 2 for efficient masking. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_spsc5slotsE">
<span id="_CPPv3N13mb_queue_spsc5slotsE"></span><span id="_CPPv2N13mb_queue_spsc5slotsE"></span><span id="mb_queue_spsc::slots__voidPP"></span><span class="target" id="structmb__queue__spsc_1ab991fd9dfa3016c27f97caba99012b7a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">slots</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_spsc5slotsE" title="Link to this definition"></a><br /></dt>
<dd><p>External storage for element pointers </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_spsc8capacityE">
<span id="_CPPv3N13mb_queue_spsc8capacityE"></span><span id="_CPPv2N13mb_queue_spsc8capacityE"></span><span id="mb_queue_spsc::capacity__s"></span><span class="target" id="structmb__queue__spsc_1a81af8ad66e06e913c2ff06d75ea79166"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">capacity</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_spsc8capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Total slots (must be power of 2) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_spsc4maskE">
<span id="_CPPv3N13mb_queue_spsc4maskE"></span><span id="_CPPv2N13mb_queue_spsc4maskE"></span><span id="mb_queue_spsc::mask__s"></span><span class="target" id="structmb__queue__spsc_1af41c2828273f63d3391bb707eda32a91"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mask</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_spsc4maskE" title="Link to this definition"></a><br /></dt>
<dd><p>Cached (capacity - 1) for wrapping </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_spsc4headE">
<span id="_CPPv3N13mb_queue_spsc4headE"></span><span id="_CPPv2N13mb_queue_spsc4headE"></span><span id="mb_queue_spsc::head__mb_atomic_size_t"></span><span class="target" id="structmb__queue__spsc_1a9e1a0f4eda4d219514accf2de8ecc75b"></span><a class="reference internal" href="#_CPPv416mb_atomic_size_t" title="mb_atomic_size_t"><span class="n"><span class="pre">mb_atomic_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">head</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_spsc4headE" title="Link to this definition"></a><br /></dt>
<dd><p>Consumer index (atomic for lock-free) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_spsc4tailE">
<span id="_CPPv3N13mb_queue_spsc4tailE"></span><span id="_CPPv2N13mb_queue_spsc4tailE"></span><span id="mb_queue_spsc::tail__mb_atomic_size_t"></span><span class="target" id="structmb__queue__spsc_1af12fd33a8638dec4fa608048dab12d7d"></span><a class="reference internal" href="#_CPPv416mb_atomic_size_t" title="mb_atomic_size_t"><span class="n"><span class="pre">mb_atomic_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tail</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_spsc4tailE" title="Link to this definition"></a><br /></dt>
<dd><p>Producer index (atomic for lock-free) </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_spsc10high_waterE">
<span id="_CPPv3N13mb_queue_spsc10high_waterE"></span><span id="_CPPv2N13mb_queue_spsc10high_waterE"></span><span id="mb_queue_spsc::high_water__s"></span><span class="target" id="structmb__queue__spsc_1a4799544891aa123b706609cc7731eb45"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">high_water</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_spsc10high_waterE" title="Link to this definition"></a><br /></dt>
<dd><p>Peak occupancy for diagnostics </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_queue_spsc5mutexE">
<span id="_CPPv3N13mb_queue_spsc5mutexE"></span><span id="_CPPv2N13mb_queue_spsc5mutexE"></span><span id="mb_queue_spsc::mutex__mb_port_mutex_t"></span><span class="target" id="structmb__queue__spsc_1a54e27fff51841cf054a22851b570a1d8"></span><a class="reference internal" href="#_CPPv415mb_port_mutex_t" title="mb_port_mutex_t"><span class="n"><span class="pre">mb_port_mutex_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mutex</span></span></span><a class="headerlink" href="#_CPPv4N13mb_queue_spsc5mutexE" title="Link to this definition"></a><br /></dt>
<dd><p>Fallback mutex when atomics unavailable </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv410mb_ringbuf">
<span id="_CPPv310mb_ringbuf"></span><span id="_CPPv210mb_ringbuf"></span><span id="mb_ringbuf"></span><span class="target" id="structmb__ringbuf"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf</span></span></span><a class="headerlink" href="#_CPPv410mb_ringbuf" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#ringbuf_8h"><span class="std std-ref">ringbuf.h</span></a>&gt;</em></div>
<p>Ring buffer descriptor. </p>
<p>The structure keeps explicit cursors and the current occupancy. The <code class="docutils literal notranslate"><span class="pre">mask</span></code> is derived from <code class="docutils literal notranslate"><span class="pre">capacity</span></code> and is used to wrap the physical index into the provided storage. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_ringbuf6bufferE">
<span id="_CPPv3N10mb_ringbuf6bufferE"></span><span id="_CPPv2N10mb_ringbuf6bufferE"></span><span id="mb_ringbuf::buffer__uint8_tP"></span><span class="target" id="structmb__ringbuf_1a82956465358e85ca6dd0503b631efadf"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">buffer</span></span></span><a class="headerlink" href="#_CPPv4N10mb_ringbuf6bufferE" title="Link to this definition"></a><br /></dt>
<dd><p>Backing storage provided by the caller. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_ringbuf8capacityE">
<span id="_CPPv3N10mb_ringbuf8capacityE"></span><span id="_CPPv2N10mb_ringbuf8capacityE"></span><span id="mb_ringbuf::capacity__s"></span><span class="target" id="structmb__ringbuf_1a55b12011fe5994cf7dddf2a2f4fb044d"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">capacity</span></span></span><a class="headerlink" href="#_CPPv4N10mb_ringbuf8capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Total number of bytes that fit in <a class="reference internal" href="#structmb__ringbuf_1a82956465358e85ca6dd0503b631efadf"><span class="std std-ref">buffer</span></a>. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_ringbuf4maskE">
<span id="_CPPv3N10mb_ringbuf4maskE"></span><span id="_CPPv2N10mb_ringbuf4maskE"></span><span id="mb_ringbuf::mask__s"></span><span class="target" id="structmb__ringbuf_1a6e4589891e622c7b5d1a6513f7c2e4e5"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mask</span></span></span><a class="headerlink" href="#_CPPv4N10mb_ringbuf4maskE" title="Link to this definition"></a><br /></dt>
<dd><p>Cached (capacity - 1) for fast wrap-around. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_ringbuf4headE">
<span id="_CPPv3N10mb_ringbuf4headE"></span><span id="_CPPv2N10mb_ringbuf4headE"></span><span id="mb_ringbuf::head__s"></span><span class="target" id="structmb__ringbuf_1a24039975a2fd55ad5605d4fd0bf03922"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">head</span></span></span><a class="headerlink" href="#_CPPv4N10mb_ringbuf4headE" title="Link to this definition"></a><br /></dt>
<dd><p>Read cursor. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_ringbuf4tailE">
<span id="_CPPv3N10mb_ringbuf4tailE"></span><span id="_CPPv2N10mb_ringbuf4tailE"></span><span id="mb_ringbuf::tail__s"></span><span class="target" id="structmb__ringbuf_1adf0174f8dbee2f1ba9bb1249044f0c96"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tail</span></span></span><a class="headerlink" href="#_CPPv4N10mb_ringbuf4tailE" title="Link to this definition"></a><br /></dt>
<dd><p>Write cursor. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N10mb_ringbuf5countE">
<span id="_CPPv3N10mb_ringbuf5countE"></span><span id="_CPPv2N10mb_ringbuf5countE"></span><span id="mb_ringbuf::count__s"></span><span class="target" id="structmb__ringbuf_1aff5b2ca41e989faa465aad880aa0d222"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">count</span></span></span><a class="headerlink" href="#_CPPv4N10mb_ringbuf5countE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of bytes currently stored. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv415mb_rtu_resync_t">
<span id="_CPPv315mb_rtu_resync_t"></span><span id="_CPPv215mb_rtu_resync_t"></span><span id="mb_rtu_resync_t"></span><span class="target" id="structmb__rtu__resync__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></span><a class="headerlink" href="#_CPPv415mb_rtu_resync_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#rtu__resync_8h"><span class="std std-ref">rtu_resync.h</span></a>&gt;</em></div>
<p>RTU resync context. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_rtu_resync_t6bufferE">
<span id="_CPPv3N15mb_rtu_resync_t6bufferE"></span><span id="_CPPv2N15mb_rtu_resync_t6bufferE"></span><span id="mb_rtu_resync_t::buffer__uint8_tA"></span><span class="target" id="structmb__rtu__resync__t_1a6b6bad3c709fdac0d72d0b3f88b9f326"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">buffer</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MB_RESYNC_BUFFER_SIZE</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N15mb_rtu_resync_t6bufferE" title="Link to this definition"></a><br /></dt>
<dd><p>Circular buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_rtu_resync_t4headE">
<span id="_CPPv3N15mb_rtu_resync_t4headE"></span><span id="_CPPv2N15mb_rtu_resync_t4headE"></span><span id="mb_rtu_resync_t::head__s"></span><span class="target" id="structmb__rtu__resync__t_1ae89b8855fae1db18a5c356f3f2ca018c"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">head</span></span></span><a class="headerlink" href="#_CPPv4N15mb_rtu_resync_t4headE" title="Link to this definition"></a><br /></dt>
<dd><p>Write position </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_rtu_resync_t4tailE">
<span id="_CPPv3N15mb_rtu_resync_t4tailE"></span><span id="_CPPv2N15mb_rtu_resync_t4tailE"></span><span id="mb_rtu_resync_t::tail__s"></span><span class="target" id="structmb__rtu__resync__t_1ab95bb4585fce7a1274b7b18dc908b5d8"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tail</span></span></span><a class="headerlink" href="#_CPPv4N15mb_rtu_resync_t4tailE" title="Link to this definition"></a><br /></dt>
<dd><p>Read position </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_rtu_resync_t13candidate_posE">
<span id="_CPPv3N15mb_rtu_resync_t13candidate_posE"></span><span id="_CPPv2N15mb_rtu_resync_t13candidate_posE"></span><span id="mb_rtu_resync_t::candidate_pos__s"></span><span class="target" id="structmb__rtu__resync__t_1aa3b79e2d1dd15a9791eb827ffb4c14db"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">candidate_pos</span></span></span><a class="headerlink" href="#_CPPv4N15mb_rtu_resync_t13candidate_posE" title="Link to this definition"></a><br /></dt>
<dd><p>Current scan position </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_rtu_resync_t15resync_attemptsE">
<span id="_CPPv3N15mb_rtu_resync_t15resync_attemptsE"></span><span id="_CPPv2N15mb_rtu_resync_t15resync_attemptsE"></span><span id="mb_rtu_resync_t::resync_attempts__uint32_t"></span><span class="target" id="structmb__rtu__resync__t_1ae9cc5fdd8a4cbd10506c11fe329dbfdf"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">resync_attempts</span></span></span><a class="headerlink" href="#_CPPv4N15mb_rtu_resync_t15resync_attemptsE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of resync attempts </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_rtu_resync_t15bytes_discardedE">
<span id="_CPPv3N15mb_rtu_resync_t15bytes_discardedE"></span><span id="_CPPv2N15mb_rtu_resync_t15bytes_discardedE"></span><span id="mb_rtu_resync_t::bytes_discarded__uint32_t"></span><span class="target" id="structmb__rtu__resync__t_1aee85979fc4a083af8918bcc7c517ad17"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bytes_discarded</span></span></span><a class="headerlink" href="#_CPPv4N15mb_rtu_resync_t15bytes_discardedE" title="Link to this definition"></a><br /></dt>
<dd><p>Total bytes discarded </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_rtu_resync_t16frames_recoveredE">
<span id="_CPPv3N15mb_rtu_resync_t16frames_recoveredE"></span><span id="_CPPv2N15mb_rtu_resync_t16frames_recoveredE"></span><span id="mb_rtu_resync_t::frames_recovered__uint32_t"></span><span class="target" id="structmb__rtu__resync__t_1a7956ee355abda0ec7c7ee382d5667bb8"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">frames_recovered</span></span></span><a class="headerlink" href="#_CPPv4N15mb_rtu_resync_t16frames_recoveredE" title="Link to this definition"></a><br /></dt>
<dd><p>Frames found via resync </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv419mb_server_metrics_t">
<span id="_CPPv319mb_server_metrics_t"></span><span id="_CPPv219mb_server_metrics_t"></span><span id="mb_server_metrics_t"></span><span class="target" id="structmb__server__metrics__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_metrics_t</span></span></span><a class="headerlink" href="#_CPPv419mb_server_metrics_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#server_8h"><span class="std std-ref">server.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_server_metrics_t8receivedE">
<span id="_CPPv3N19mb_server_metrics_t8receivedE"></span><span id="_CPPv2N19mb_server_metrics_t8receivedE"></span><span id="mb_server_metrics_t::received__mb_u64"></span><span class="target" id="structmb__server__metrics__t_1abd26b4e60c2b237d51f39ce664ed0b96"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">received</span></span></span><a class="headerlink" href="#_CPPv4N19mb_server_metrics_t8receivedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_server_metrics_t9respondedE">
<span id="_CPPv3N19mb_server_metrics_t9respondedE"></span><span id="_CPPv2N19mb_server_metrics_t9respondedE"></span><span id="mb_server_metrics_t::responded__mb_u64"></span><span class="target" id="structmb__server__metrics__t_1ac9de91cd1adde93521a627db9d72acd5"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">responded</span></span></span><a class="headerlink" href="#_CPPv4N19mb_server_metrics_t9respondedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_server_metrics_t10broadcastsE">
<span id="_CPPv3N19mb_server_metrics_t10broadcastsE"></span><span id="_CPPv2N19mb_server_metrics_t10broadcastsE"></span><span id="mb_server_metrics_t::broadcasts__mb_u64"></span><span class="target" id="structmb__server__metrics__t_1a144338fcccdeb4d8dc1c4d63431ed8dd"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">broadcasts</span></span></span><a class="headerlink" href="#_CPPv4N19mb_server_metrics_t10broadcastsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_server_metrics_t10exceptionsE">
<span id="_CPPv3N19mb_server_metrics_t10exceptionsE"></span><span id="_CPPv2N19mb_server_metrics_t10exceptionsE"></span><span id="mb_server_metrics_t::exceptions__mb_u64"></span><span class="target" id="structmb__server__metrics__t_1a801c5cb980d9714d1ff3615ce1073d1f"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">exceptions</span></span></span><a class="headerlink" href="#_CPPv4N19mb_server_metrics_t10exceptionsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_server_metrics_t7droppedE">
<span id="_CPPv3N19mb_server_metrics_t7droppedE"></span><span id="_CPPv2N19mb_server_metrics_t7droppedE"></span><span id="mb_server_metrics_t::dropped__mb_u64"></span><span class="target" id="structmb__server__metrics__t_1adc4d1565f09332856c145a1d319ed931"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">dropped</span></span></span><a class="headerlink" href="#_CPPv4N19mb_server_metrics_t7droppedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_server_metrics_t15poison_triggersE">
<span id="_CPPv3N19mb_server_metrics_t15poison_triggersE"></span><span id="_CPPv2N19mb_server_metrics_t15poison_triggersE"></span><span id="mb_server_metrics_t::poison_triggers__mb_u64"></span><span class="target" id="structmb__server__metrics__t_1af94b9cf2d0fd5d52a6c1f6820d18051b"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">poison_triggers</span></span></span><a class="headerlink" href="#_CPPv4N19mb_server_metrics_t15poison_triggersE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_server_metrics_t6errorsE">
<span id="_CPPv3N19mb_server_metrics_t6errorsE"></span><span id="_CPPv2N19mb_server_metrics_t6errorsE"></span><span id="mb_server_metrics_t::errors__mb_u64"></span><span class="target" id="structmb__server__metrics__t_1a2dd44b0a4aa4f0d2444a0eddece5ef22"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">errors</span></span></span><a class="headerlink" href="#_CPPv4N19mb_server_metrics_t6errorsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_server_metrics_t8timeoutsE">
<span id="_CPPv3N19mb_server_metrics_t8timeoutsE"></span><span id="_CPPv2N19mb_server_metrics_t8timeoutsE"></span><span id="mb_server_metrics_t::timeouts__mb_u64"></span><span class="target" id="structmb__server__metrics__t_1ace660354073ee19e7f6023eb9d872f19"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timeouts</span></span></span><a class="headerlink" href="#_CPPv4N19mb_server_metrics_t8timeoutsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_server_metrics_t16latency_total_msE">
<span id="_CPPv3N19mb_server_metrics_t16latency_total_msE"></span><span id="_CPPv2N19mb_server_metrics_t16latency_total_msE"></span><span id="mb_server_metrics_t::latency_total_ms__mb_u64"></span><span class="target" id="structmb__server__metrics__t_1a9ce8abcb98bc15b8b6cba30b2d9bea88"></span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">latency_total_ms</span></span></span><a class="headerlink" href="#_CPPv4N19mb_server_metrics_t16latency_total_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_server_metrics_t18step_max_jitter_msE">
<span id="_CPPv3N19mb_server_metrics_t18step_max_jitter_msE"></span><span id="_CPPv2N19mb_server_metrics_t18step_max_jitter_msE"></span><span id="mb_server_metrics_t::step_max_jitter_ms__mb_time_ms_t"></span><span class="target" id="structmb__server__metrics__t_1ada825f419a468abbfc60564fb22be5f9"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">step_max_jitter_ms</span></span></span><a class="headerlink" href="#_CPPv4N19mb_server_metrics_t18step_max_jitter_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N19mb_server_metrics_t18step_avg_jitter_msE">
<span id="_CPPv3N19mb_server_metrics_t18step_avg_jitter_msE"></span><span id="_CPPv2N19mb_server_metrics_t18step_avg_jitter_msE"></span><span id="mb_server_metrics_t::step_avg_jitter_ms__mb_time_ms_t"></span><span class="target" id="structmb__server__metrics__t_1a989604d760c82644e76703a18153f451"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">step_avg_jitter_ms</span></span></span><a class="headerlink" href="#_CPPv4N19mb_server_metrics_t18step_avg_jitter_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv416mb_server_region">
<span id="_CPPv316mb_server_region"></span><span id="_CPPv216mb_server_region"></span><span id="mb_server_region"></span><span class="target" id="structmb__server__region"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_region</span></span></span><a class="headerlink" href="#_CPPv416mb_server_region" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#server_8h"><span class="std std-ref">server.h</span></a>&gt;</em></div>
<p>Register mapping entry. </p>
<p>Each region exports a contiguous block of holding registers. Requests must be fully contained inside a single region; otherwise an Illegal Data Address exception is reported. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_server_region5startE">
<span id="_CPPv3N16mb_server_region5startE"></span><span id="_CPPv2N16mb_server_region5startE"></span><span id="mb_server_region::start__mb_u16"></span><span class="target" id="structmb__server__region_1abd8988bd8f65142b048146f5d6559cdd"></span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">start</span></span></span><a class="headerlink" href="#_CPPv4N16mb_server_region5startE" title="Link to this definition"></a><br /></dt>
<dd><p>First register address served by this region. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_server_region5countE">
<span id="_CPPv3N16mb_server_region5countE"></span><span id="_CPPv2N16mb_server_region5countE"></span><span id="mb_server_region::count__mb_u16"></span><span class="target" id="structmb__server__region_1a195b6a4e68cd7acdacf676fe1ebbd67f"></span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">count</span></span></span><a class="headerlink" href="#_CPPv4N16mb_server_region5countE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of registers in the region. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_server_region9read_onlyE">
<span id="_CPPv3N16mb_server_region9read_onlyE"></span><span id="_CPPv2N16mb_server_region9read_onlyE"></span><span id="mb_server_region::read_only__b"></span><span class="target" id="structmb__server__region_1ad332183e2204a5f004b4d4f765f14f87"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_only</span></span></span><a class="headerlink" href="#_CPPv4N16mb_server_region9read_onlyE" title="Link to this definition"></a><br /></dt>
<dd><p>Reject write requests when true. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_server_region7read_cbE">
<span id="_CPPv3N16mb_server_region7read_cbE"></span><span id="_CPPv2N16mb_server_region7read_cbE"></span><span id="mb_server_region::read_cb__mb_server_read_fn"></span><span class="target" id="structmb__server__region_1a3bb92ecf9357943088f9cd9cee66adcf"></span><a class="reference internal" href="#_CPPv417mb_server_read_fn" title="mb_server_read_fn"><span class="n"><span class="pre">mb_server_read_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_cb</span></span></span><a class="headerlink" href="#_CPPv4N16mb_server_region7read_cbE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional read callback (may be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_server_region8write_cbE">
<span id="_CPPv3N16mb_server_region8write_cbE"></span><span id="_CPPv2N16mb_server_region8write_cbE"></span><span id="mb_server_region::write_cb__mb_server_write_fn"></span><span class="target" id="structmb__server__region_1aa8e12ae847ef288ce75806fcf4f5dce7"></span><a class="reference internal" href="#_CPPv418mb_server_write_fn" title="mb_server_write_fn"><span class="n"><span class="pre">mb_server_write_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">write_cb</span></span></span><a class="headerlink" href="#_CPPv4N16mb_server_region8write_cbE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional write callback (may be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_server_region8user_ctxE">
<span id="_CPPv3N16mb_server_region8user_ctxE"></span><span id="_CPPv2N16mb_server_region8user_ctxE"></span><span id="mb_server_region::user_ctx__voidP"></span><span class="target" id="structmb__server__region_1a51087b276852dcbf411d2c6299a8299d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">user_ctx</span></span></span><a class="headerlink" href="#_CPPv4N16mb_server_region8user_ctxE" title="Link to this definition"></a><br /></dt>
<dd><p>User context forwarded to callbacks. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16mb_server_region7storageE">
<span id="_CPPv3N16mb_server_region7storageE"></span><span id="_CPPv2N16mb_server_region7storageE"></span><span id="mb_server_region::storage__mb_u16P"></span><span class="target" id="structmb__server__region_1a33d0b2006e5617ce84efdf455851f772"></span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">storage</span></span></span><a class="headerlink" href="#_CPPv4N16mb_server_region7storageE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional backing storage for direct access. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv417mb_server_request">
<span id="_CPPv317mb_server_request"></span><span id="_CPPv217mb_server_request"></span><span id="mb_server_request"></span><span class="target" id="structmb__server__request"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_request</span></span></span><a class="headerlink" href="#_CPPv417mb_server_request" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#server_8h"><span class="std std-ref">server.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request6in_useE">
<span id="_CPPv3N17mb_server_request6in_useE"></span><span id="_CPPv2N17mb_server_request6in_useE"></span><span id="mb_server_request::in_use__b"></span><span class="target" id="structmb__server__request_1add8544b5ef04485eb4dd31916bcd91c0"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">in_use</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request6in_useE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request6queuedE">
<span id="_CPPv3N17mb_server_request6queuedE"></span><span id="_CPPv2N17mb_server_request6queuedE"></span><span id="mb_server_request::queued__b"></span><span class="target" id="structmb__server__request_1a679214e576e70d5426dcb12fc0627f5f"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">queued</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request6queuedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request13high_priorityE">
<span id="_CPPv3N17mb_server_request13high_priorityE"></span><span id="_CPPv2N17mb_server_request13high_priorityE"></span><span id="mb_server_request::high_priority__b"></span><span class="target" id="structmb__server__request_1a1f9f5bb3af96edb1171c45f672efebee"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">high_priority</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request13high_priorityE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request6poisonE">
<span id="_CPPv3N17mb_server_request6poisonE"></span><span id="_CPPv2N17mb_server_request6poisonE"></span><span id="mb_server_request::poison__b"></span><span class="target" id="structmb__server__request_1a32519a8f1ebdc3337fbe52b227c8761b"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">poison</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request6poisonE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request9broadcastE">
<span id="_CPPv3N17mb_server_request9broadcastE"></span><span id="_CPPv2N17mb_server_request9broadcastE"></span><span id="mb_server_request::broadcast__b"></span><span class="target" id="structmb__server__request_1a18ab7f0a6743ba43bf242c7130ee73cc"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">broadcast</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request9broadcastE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request7unit_idE">
<span id="_CPPv3N17mb_server_request7unit_idE"></span><span id="_CPPv2N17mb_server_request7unit_idE"></span><span id="mb_server_request::unit_id__mb_u8"></span><span class="target" id="structmb__server__request_1a6a087b0893bcafd85d0fe57c468a8ec9"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">unit_id</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request7unit_idE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request5flagsE">
<span id="_CPPv3N17mb_server_request5flagsE"></span><span id="_CPPv2N17mb_server_request5flagsE"></span><span id="mb_server_request::flags__mb_u8"></span><span class="target" id="structmb__server__request_1a178ea3ab795e16c3632dd3026765ad63"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">flags</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request5flagsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request8functionE">
<span id="_CPPv3N17mb_server_request8functionE"></span><span id="_CPPv2N17mb_server_request8functionE"></span><span id="mb_server_request::function__mb_u8"></span><span class="target" id="structmb__server__request_1a0f510a3230d1076b2fd8e53d3d65eefc"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">function</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request8functionE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request7pdu_lenE">
<span id="_CPPv3N17mb_server_request7pdu_lenE"></span><span id="_CPPv2N17mb_server_request7pdu_lenE"></span><span id="mb_server_request::pdu_len__mb_size_t"></span><span class="target" id="structmb__server__request_1aceed90959f8085afdb979f10975dbb94"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pdu_len</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request7pdu_lenE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request12enqueue_timeE">
<span id="_CPPv3N17mb_server_request12enqueue_timeE"></span><span id="_CPPv2N17mb_server_request12enqueue_timeE"></span><span id="mb_server_request::enqueue_time__mb_time_ms_t"></span><span class="target" id="structmb__server__request_1ab7870708e511103a36004e770f77628b"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">enqueue_time</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request12enqueue_timeE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request10start_timeE">
<span id="_CPPv3N17mb_server_request10start_timeE"></span><span id="_CPPv2N17mb_server_request10start_timeE"></span><span id="mb_server_request::start_time__mb_time_ms_t"></span><span class="target" id="structmb__server__request_1a44d9dda823d8379460e344e08847d58a"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">start_time</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request10start_timeE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request8deadlineE">
<span id="_CPPv3N17mb_server_request8deadlineE"></span><span id="_CPPv2N17mb_server_request8deadlineE"></span><span id="mb_server_request::deadline__mb_time_ms_t"></span><span class="target" id="structmb__server__request_1a7c6f4234317b5ae4560a23fa9a530df2"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">deadline</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request8deadlineE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request12request_viewE">
<span id="_CPPv3N17mb_server_request12request_viewE"></span><span id="_CPPv2N17mb_server_request12request_viewE"></span><span id="mb_server_request::request_view__mb_adu_view_t"></span><span class="target" id="structmb__server__request_1a24179d896e9e3d25353b66c706207806"></span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">request_view</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request12request_viewE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request7storageE">
<span id="_CPPv3N17mb_server_request7storageE"></span><span id="_CPPv2N17mb_server_request7storageE"></span><span id="mb_server_request::storage__mb_u8A"></span><span class="target" id="structmb__server__request_1a004c4e990274b03012a061cad1c15a8f"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">storage</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MB_PDU_MAX</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N17mb_server_request7storageE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request8rx_phaseE">
<span id="_CPPv3N17mb_server_request8rx_phaseE"></span><span id="_CPPv2N17mb_server_request8rx_phaseE"></span><span id="mb_server_request::rx_phase__mb_poll_rx_phase_t"></span><span class="target" id="structmb__server__request_1a5966d0a54a8e849f80e8965125a6b64c"></span><a class="reference internal" href="#_CPPv418mb_poll_rx_phase_t" title="mb_poll_rx_phase_t"><span class="n"><span class="pre">mb_poll_rx_phase_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_phase</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request8rx_phaseE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request8tx_phaseE">
<span id="_CPPv3N17mb_server_request8tx_phaseE"></span><span id="_CPPv2N17mb_server_request8tx_phaseE"></span><span id="mb_server_request::tx_phase__mb_poll_tx_phase_t"></span><span class="target" id="structmb__server__request_1a26be7453185db699393c66970cf845b4"></span><a class="reference internal" href="#_CPPv418mb_poll_tx_phase_t" title="mb_poll_tx_phase_t"><span class="n"><span class="pre">mb_poll_tx_phase_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_phase</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request8tx_phaseE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request14rx_deadline_msE">
<span id="_CPPv3N17mb_server_request14rx_deadline_msE"></span><span id="_CPPv2N17mb_server_request14rx_deadline_msE"></span><span id="mb_server_request::rx_deadline_ms__mb_time_ms_t"></span><span class="target" id="structmb__server__request_1ab28314cc26a69a3d34b32d0613e03204"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_deadline_ms</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request14rx_deadline_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request14tx_deadline_msE">
<span id="_CPPv3N17mb_server_request14tx_deadline_msE"></span><span id="_CPPv2N17mb_server_request14tx_deadline_msE"></span><span id="mb_server_request::tx_deadline_ms__mb_time_ms_t"></span><span class="target" id="structmb__server__request_1a8acb7bc64fce62b433c2eddd571c24b4"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_deadline_ms</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request14tx_deadline_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request9rx_statusE">
<span id="_CPPv3N17mb_server_request9rx_statusE"></span><span id="_CPPv2N17mb_server_request9rx_statusE"></span><span id="mb_server_request::rx_status__mb_err_t"></span><span class="target" id="structmb__server__request_1a381bba6e31db26be55c291fa29f2b428"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_status</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request9rx_statusE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request6regionE">
<span id="_CPPv3N17mb_server_request6regionE"></span><span id="_CPPv2N17mb_server_request6regionE"></span><span id="mb_server_request::region__mb_server_region_tCP"></span><span class="target" id="structmb__server__request_1a4db962264cf34399b9bea9a53ece939e"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418mb_server_region_t" title="mb_server_region_t"><span class="n"><span class="pre">mb_server_region_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">region</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request6regionE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request10addr_startE">
<span id="_CPPv3N17mb_server_request10addr_startE"></span><span id="_CPPv2N17mb_server_request10addr_startE"></span><span id="mb_server_request::addr_start__mb_u16"></span><span class="target" id="structmb__server__request_1ac3cc3c00596aa3647c2f188c07d77f8a"></span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">addr_start</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request10addr_startE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request8quantityE">
<span id="_CPPv3N17mb_server_request8quantityE"></span><span id="_CPPv2N17mb_server_request8quantityE"></span><span id="mb_server_request::quantity__mb_u16"></span><span class="target" id="structmb__server__request_1a97396b0deeb22f07193e744deb61d249"></span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">quantity</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request8quantityE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request12single_valueE">
<span id="_CPPv3N17mb_server_request12single_valueE"></span><span id="_CPPv2N17mb_server_request12single_valueE"></span><span id="mb_server_request::single_value__mb_u16"></span><span class="target" id="structmb__server__request_1a37af94da1caf35638b62393237e3b42c"></span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">single_value</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request12single_valueE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request10tx_pdu_lenE">
<span id="_CPPv3N17mb_server_request10tx_pdu_lenE"></span><span id="_CPPv2N17mb_server_request10tx_pdu_lenE"></span><span id="mb_server_request::tx_pdu_len__mb_size_t"></span><span class="target" id="structmb__server__request_1abf0e00e6cb37fd7200f49833a2ef80ab"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_pdu_len</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request10tx_pdu_lenE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request14exception_codeE">
<span id="_CPPv3N17mb_server_request14exception_codeE"></span><span id="_CPPv2N17mb_server_request14exception_codeE"></span><span id="mb_server_request::exception_code__mb_u8"></span><span class="target" id="structmb__server__request_1a146782fdc78b1ba4adc85cdc9e070e58"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">exception_code</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request14exception_codeE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_request4nextE">
<span id="_CPPv3N17mb_server_request4nextE"></span><span id="_CPPv2N17mb_server_request4nextE"></span><span id="mb_server_request::next__mb_server_request_tP"></span><span class="target" id="structmb__server__request_1ac3066811163864f9a7eeb7f6c52e7363"></span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">next</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_request4nextE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv411mb_server_t">
<span id="_CPPv311mb_server_t"></span><span id="_CPPv211mb_server_t"></span><span id="mb_server_t"></span><span class="target" id="structmb__server__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_t</span></span></span><a class="headerlink" href="#_CPPv411mb_server_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#server_8h"><span class="std std-ref">server.h</span></a>&gt;</em></div>
<p>Server runtime object. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t5ifaceE">
<span id="_CPPv3N11mb_server_t5ifaceE"></span><span id="_CPPv2N11mb_server_t5ifaceE"></span><span id="mb_server_t::iface__mb_transport_if_tCP"></span><span class="target" id="structmb__server__t_1a06ec04a3eba03251c06690c29b5bf264"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">iface</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t5ifaceE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t3rtuE">
<span id="_CPPv3N11mb_server_t3rtuE"></span><span id="_CPPv2N11mb_server_t3rtuE"></span><span id="mb_server_t::rtu__mb_rtu_transport_t"></span><span class="target" id="structmb__server__t_1ac45c4e8bb40d58a472250290e8d4af1c"></span><span class="n"><span class="pre">mb_rtu_transport_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rtu</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t3rtuE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t7unit_idE">
<span id="_CPPv3N11mb_server_t7unit_idE"></span><span id="_CPPv2N11mb_server_t7unit_idE"></span><span id="mb_server_t::unit_id__mb_u8"></span><span class="target" id="structmb__server__t_1a7b3e476a1e6acc34f5fc3c25f480e650"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">unit_id</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t7unit_idE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t7regionsE">
<span id="_CPPv3N11mb_server_t7regionsE"></span><span id="_CPPv2N11mb_server_t7regionsE"></span><span id="mb_server_t::regions__mb_server_region_tP"></span><span class="target" id="structmb__server__t_1aae75b101374a5e6b3f7e66266be9b43a"></span><a class="reference internal" href="#_CPPv418mb_server_region_t" title="mb_server_region_t"><span class="n"><span class="pre">mb_server_region_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">regions</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t7regionsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t10region_capE">
<span id="_CPPv3N11mb_server_t10region_capE"></span><span id="_CPPv2N11mb_server_t10region_capE"></span><span id="mb_server_t::region_cap__mb_size_t"></span><span class="target" id="structmb__server__t_1a3ead0e214a973b5923f8a88383dcf881"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">region_cap</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t10region_capE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t12region_countE">
<span id="_CPPv3N11mb_server_t12region_countE"></span><span id="_CPPv2N11mb_server_t12region_countE"></span><span id="mb_server_t::region_count__mb_size_t"></span><span class="target" id="structmb__server__t_1a264cd38ce0e52db81430e7724f891ee0"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">region_count</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t12region_countE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t4poolE">
<span id="_CPPv3N11mb_server_t4poolE"></span><span id="_CPPv2N11mb_server_t4poolE"></span><span id="mb_server_t::pool__mb_server_request_tP"></span><span class="target" id="structmb__server__t_1a5d1c1efc502114de7171c90533fad019"></span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">pool</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t4poolE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t9pool_sizeE">
<span id="_CPPv3N11mb_server_t9pool_sizeE"></span><span id="_CPPv2N11mb_server_t9pool_sizeE"></span><span id="mb_server_t::pool_size__mb_size_t"></span><span class="target" id="structmb__server__t_1a091ac9efb98672cacbfe7fe8ad244947"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pool_size</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t9pool_sizeE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t12pending_headE">
<span id="_CPPv3N11mb_server_t12pending_headE"></span><span id="_CPPv2N11mb_server_t12pending_headE"></span><span id="mb_server_t::pending_head__mb_server_request_tP"></span><span class="target" id="structmb__server__t_1acc2e7d3a374b9442a39fa970e1edfd67"></span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">pending_head</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t12pending_headE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t12pending_tailE">
<span id="_CPPv3N11mb_server_t12pending_tailE"></span><span id="_CPPv2N11mb_server_t12pending_tailE"></span><span id="mb_server_t::pending_tail__mb_server_request_tP"></span><span class="target" id="structmb__server__t_1aefe2ffb4298cacc9365fe829504a323b"></span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">pending_tail</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t12pending_tailE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t7currentE">
<span id="_CPPv3N11mb_server_t7currentE"></span><span id="_CPPv2N11mb_server_t7currentE"></span><span id="mb_server_t::current__mb_server_request_tP"></span><span class="target" id="structmb__server__t_1a10760a1370a7dec489f68a4c38bb0fe4"></span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">current</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t7currentE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t14queue_capacityE">
<span id="_CPPv3N11mb_server_t14queue_capacityE"></span><span id="_CPPv2N11mb_server_t14queue_capacityE"></span><span id="mb_server_t::queue_capacity__mb_size_t"></span><span class="target" id="structmb__server__t_1a54a263207a7b4a74d31fdf44dcf24e26"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">queue_capacity</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t14queue_capacityE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t13pending_countE">
<span id="_CPPv3N11mb_server_t13pending_countE"></span><span id="_CPPv2N11mb_server_t13pending_countE"></span><span id="mb_server_t::pending_count__mb_size_t"></span><span class="target" id="structmb__server__t_1a12029c937f0f24d06475224e94c432be"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pending_count</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t13pending_countE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t11fc_timeoutsE">
<span id="_CPPv3N11mb_server_t11fc_timeoutsE"></span><span id="_CPPv2N11mb_server_t11fc_timeoutsE"></span><span id="mb_server_t::fc_timeouts__mb_time_ms_tA"></span><span class="target" id="structmb__server__t_1aa944be1d24572b862b1f1c9196a7de3e"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fc_timeouts</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">256</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N11mb_server_t11fc_timeoutsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t7metricsE">
<span id="_CPPv3N11mb_server_t7metricsE"></span><span id="_CPPv2N11mb_server_t7metricsE"></span><span id="mb_server_t::metrics__mb_server_metrics_t"></span><span class="target" id="structmb__server__t_1a573040fb14568187b7e504eadda3470e"></span><a class="reference internal" href="#_CPPv419mb_server_metrics_t" title="mb_server_metrics_t"><span class="n"><span class="pre">mb_server_metrics_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">metrics</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t7metricsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t4diagE">
<span id="_CPPv3N11mb_server_t4diagE"></span><span id="_CPPv2N11mb_server_t4diagE"></span><span id="mb_server_t::diag__mb_diag_state_t"></span><span class="target" id="structmb__server__t_1a06ceb0f64c4858fb6ebd368b71a2342c"></span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">diag</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t4diagE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t11observer_cbE">
<span id="_CPPv3N11mb_server_t11observer_cbE"></span><span id="_CPPv2N11mb_server_t11observer_cbE"></span><span id="mb_server_t::observer_cb__mb_event_callback_t"></span><span class="target" id="structmb__server__t_1adf64067a7a8fba9455a82ec3548372cb"></span><a class="reference internal" href="#_CPPv419mb_event_callback_t" title="mb_event_callback_t"><span class="n"><span class="pre">mb_event_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">observer_cb</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t11observer_cbE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t13observer_userE">
<span id="_CPPv3N11mb_server_t13observer_userE"></span><span id="_CPPv2N11mb_server_t13observer_userE"></span><span id="mb_server_t::observer_user__voidP"></span><span class="target" id="structmb__server__t_1a1b66b6db7828f1d8034c5ace190b8608"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">observer_user</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t13observer_userE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t9trace_hexE">
<span id="_CPPv3N11mb_server_t9trace_hexE"></span><span id="_CPPv2N11mb_server_t9trace_hexE"></span><span id="mb_server_t::trace_hex__b"></span><span class="target" id="structmb__server__t_1a323b2fcb7631ecd0efe6a9e0eabd6fa4"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">trace_hex</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t9trace_hexE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t5stateE">
<span id="_CPPv3N11mb_server_t5stateE"></span><span id="_CPPv2N11mb_server_t5stateE"></span><span id="mb_server_t::state__mb_server_state_t"></span><span class="target" id="structmb__server__t_1a42a5489a56ccf1fa93ecfa4592fdebf0"></span><a class="reference internal" href="#_CPPv417mb_server_state_t" title="mb_server_state_t"><span class="n"><span class="pre">mb_server_state_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t5stateE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t11poll_jitterE">
<span id="_CPPv3N11mb_server_t11poll_jitterE"></span><span id="_CPPv2N11mb_server_t11poll_jitterE"></span><span id="mb_server_t::poll_jitter__mb_poll_jitter_t"></span><span class="target" id="structmb__server__t_1a3939441312a166aabb8b7e4333c168bb"></span><a class="reference internal" href="#_CPPv416mb_poll_jitter_t" title="mb_poll_jitter_t"><span class="n"><span class="pre">mb_poll_jitter_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">poll_jitter</span></span></span><a class="headerlink" href="#_CPPv4N11mb_server_t11poll_jitterE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t9rx_bufferE">
<span id="_CPPv3N11mb_server_t9rx_bufferE"></span><span id="_CPPv2N11mb_server_t9rx_bufferE"></span><span id="mb_server_t::rx_buffer__mb_u8A"></span><span class="target" id="structmb__server__t_1a06aa3363d530d44a6ed4834ae45881dc"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_buffer</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MB_PDU_MAX</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N11mb_server_t9rx_bufferE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_server_t9tx_bufferE">
<span id="_CPPv3N11mb_server_t9tx_bufferE"></span><span id="_CPPv2N11mb_server_t9tx_bufferE"></span><span id="mb_server_t::tx_buffer__mb_u8A"></span><span class="target" id="structmb__server__t_1a4115e01d9efc133887b90e079dc23bf8"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_buffer</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MB_PDU_MAX</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N11mb_server_t9tx_bufferE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv417mb_transport_if_t">
<span id="_CPPv317mb_transport_if_t"></span><span id="_CPPv217mb_transport_if_t"></span><span id="mb_transport_if_t"></span><span class="target" id="structmb__transport__if__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_if_t</span></span></span><a class="headerlink" href="#_CPPv417mb_transport_if_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport__if_8h"><span class="std std-ref">transport_if.h</span></a>&gt;</em></div>
<p>Non-blocking transport interface description. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_transport_if_t3ctxE">
<span id="_CPPv3N17mb_transport_if_t3ctxE"></span><span id="_CPPv2N17mb_transport_if_t3ctxE"></span><span id="mb_transport_if_t::ctx__voidP"></span><span class="target" id="structmb__transport__if__t_1a08635052f95efece7cb04e350aeeaf2d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">ctx</span></span></span><a class="headerlink" href="#_CPPv4N17mb_transport_if_t3ctxE" title="Link to this definition"></a><br /></dt>
<dd><p>User-supplied context forwarded to callbacks. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_transport_if_t4sendE">
<span id="_CPPv3N17mb_transport_if_t4sendE"></span><span id="_CPPv2N17mb_transport_if_t4sendE"></span><span id="mb_transport_if_t::send__mb_transport_send_fn"></span><span class="target" id="structmb__transport__if__t_1aacd80d875214ba0e7939cf87b5cc55bd"></span><a class="reference internal" href="#_CPPv420mb_transport_send_fn" title="mb_transport_send_fn"><span class="n"><span class="pre">mb_transport_send_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">send</span></span></span><a class="headerlink" href="#_CPPv4N17mb_transport_if_t4sendE" title="Link to this definition"></a><br /></dt>
<dd><p>Send callback (required). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_transport_if_t4recvE">
<span id="_CPPv3N17mb_transport_if_t4recvE"></span><span id="_CPPv2N17mb_transport_if_t4recvE"></span><span id="mb_transport_if_t::recv__mb_transport_recv_fn"></span><span class="target" id="structmb__transport__if__t_1ade69024d69fe737f31e1dc94fb33dd5b"></span><a class="reference internal" href="#_CPPv420mb_transport_recv_fn" title="mb_transport_recv_fn"><span class="n"><span class="pre">mb_transport_recv_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">recv</span></span></span><a class="headerlink" href="#_CPPv4N17mb_transport_if_t4recvE" title="Link to this definition"></a><br /></dt>
<dd><p>Receive callback (required). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_transport_if_t5sendvE">
<span id="_CPPv3N17mb_transport_if_t5sendvE"></span><span id="_CPPv2N17mb_transport_if_t5sendvE"></span><span id="mb_transport_if_t::sendv__mb_transport_sendv_fn"></span><span class="target" id="structmb__transport__if__t_1a01cc611bcf41590d67188d4079121856"></span><a class="reference internal" href="#_CPPv421mb_transport_sendv_fn" title="mb_transport_sendv_fn"><span class="n"><span class="pre">mb_transport_sendv_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sendv</span></span></span><a class="headerlink" href="#_CPPv4N17mb_transport_if_t5sendvE" title="Link to this definition"></a><br /></dt>
<dd><p>Scatter-gather send (optional, may be NULL). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_transport_if_t5recvvE">
<span id="_CPPv3N17mb_transport_if_t5recvvE"></span><span id="_CPPv2N17mb_transport_if_t5recvvE"></span><span id="mb_transport_if_t::recvv__mb_transport_recvv_fn"></span><span class="target" id="structmb__transport__if__t_1a63ac4db1beceda8c07d4c54f26216d06"></span><a class="reference internal" href="#_CPPv421mb_transport_recvv_fn" title="mb_transport_recvv_fn"><span class="n"><span class="pre">mb_transport_recvv_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">recvv</span></span></span><a class="headerlink" href="#_CPPv4N17mb_transport_if_t5recvvE" title="Link to this definition"></a><br /></dt>
<dd><p>Scatter-gather receive (optional, may be NULL). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_transport_if_t3nowE">
<span id="_CPPv3N17mb_transport_if_t3nowE"></span><span id="_CPPv2N17mb_transport_if_t3nowE"></span><span id="mb_transport_if_t::now__mb_transport_now_fn"></span><span class="target" id="structmb__transport__if__t_1a165e0cf9ff4e513069859a571e1af3c1"></span><a class="reference internal" href="#_CPPv419mb_transport_now_fn" title="mb_transport_now_fn"><span class="n"><span class="pre">mb_transport_now_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">now</span></span></span><a class="headerlink" href="#_CPPv4N17mb_transport_if_t3nowE" title="Link to this definition"></a><br /></dt>
<dd><p>Monotonic time source (required). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_transport_if_t5yieldE">
<span id="_CPPv3N17mb_transport_if_t5yieldE"></span><span id="_CPPv2N17mb_transport_if_t5yieldE"></span><span id="mb_transport_if_t::yield__mb_transport_yield_fn"></span><span class="target" id="structmb__transport__if__t_1aaee21630aa1e7a8655ee4435df4b97df"></span><a class="reference internal" href="#_CPPv421mb_transport_yield_fn" title="mb_transport_yield_fn"><span class="n"><span class="pre">mb_transport_yield_fn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">yield</span></span></span><a class="headerlink" href="#_CPPv4N17mb_transport_if_t5yieldE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional cooperative-yield hook (may be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>). </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv424mb_transport_io_result_t">
<span id="_CPPv324mb_transport_io_result_t"></span><span id="_CPPv224mb_transport_io_result_t"></span><span id="mb_transport_io_result_t"></span><span class="target" id="structmb__transport__io__result__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></span><a class="headerlink" href="#_CPPv424mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport__if_8h"><span class="std std-ref">transport_if.h</span></a>&gt;</em></div>
<p>Result metadata for transport I/O operations. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N24mb_transport_io_result_t9processedE">
<span id="_CPPv3N24mb_transport_io_result_t9processedE"></span><span id="_CPPv2N24mb_transport_io_result_t9processedE"></span><span id="mb_transport_io_result_t::processed__mb_size_t"></span><span class="target" id="structmb__transport__io__result__t_1a0d095bd58a997167dddb25f101a99459"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">processed</span></span></span><a class="headerlink" href="#_CPPv4N24mb_transport_io_result_t9processedE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of bytes sent/received in the operation. </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv49mb_txpool">
<span id="_CPPv39mb_txpool"></span><span id="_CPPv29mb_txpool"></span><span id="mb_txpool"></span><span class="target" id="structmb__txpool"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool</span></span></span><a class="headerlink" href="#_CPPv49mb_txpool" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__txpool_8h"><span class="std std-ref">mb_txpool.h</span></a>&gt;</em></div>
<p>Transaction pool instance. </p>
<p>Wraps a generic memory pool with transaction-specific tracking and statistics. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_txpool4poolE">
<span id="_CPPv3N9mb_txpool4poolE"></span><span id="_CPPv2N9mb_txpool4poolE"></span><span id="mb_txpool::pool__mb_mempool_t"></span><span class="target" id="structmb__txpool_1ada37505572b2ec2ab6b0144833af0340"></span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">pool</span></span></span><a class="headerlink" href="#_CPPv4N9mb_txpool4poolE" title="Link to this definition"></a><br /></dt>
<dd><p>Underlying generic memory pool </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_txpool5statsE">
<span id="_CPPv3N9mb_txpool5statsE"></span><span id="_CPPv2N9mb_txpool5statsE"></span><span id="mb_txpool::stats__mb_txpool_stats_t"></span><span class="target" id="structmb__txpool_1a61655d29846d96d3f3242120dccd25a4"></span><a class="reference internal" href="#_CPPv417mb_txpool_stats_t" title="mb_txpool_stats_t"><span class="n"><span class="pre">mb_txpool_stats_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stats</span></span></span><a class="headerlink" href="#_CPPv4N9mb_txpool5statsE" title="Link to this definition"></a><br /></dt>
<dd><p>Runtime statistics </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N9mb_txpool14current_in_useE">
<span id="_CPPv3N9mb_txpool14current_in_useE"></span><span id="_CPPv2N9mb_txpool14current_in_useE"></span><span id="mb_txpool::current_in_use__s"></span><span class="target" id="structmb__txpool_1ac8944238a7d13605e2c52706fadfc815"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">current_in_use</span></span></span><a class="headerlink" href="#_CPPv4N9mb_txpool14current_in_useE" title="Link to this definition"></a><br /></dt>
<dd><p>Current allocation count </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv415mb_txpool_stats">
<span id="_CPPv315mb_txpool_stats"></span><span id="_CPPv215mb_txpool_stats"></span><span id="mb_txpool_stats"></span><span class="target" id="structmb__txpool__stats"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_stats</span></span></span><a class="headerlink" href="#_CPPv415mb_txpool_stats" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__txpool_8h"><span class="std std-ref">mb_txpool.h</span></a>&gt;</em></div>
<p>Transaction pool statistics for diagnostics and leak detection. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_txpool_stats8capacityE">
<span id="_CPPv3N15mb_txpool_stats8capacityE"></span><span id="_CPPv2N15mb_txpool_stats8capacityE"></span><span id="mb_txpool_stats::capacity__s"></span><span class="target" id="structmb__txpool__stats_1a5ee2a4ae2bce8e60b131ac331370532b"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">capacity</span></span></span><a class="headerlink" href="#_CPPv4N15mb_txpool_stats8capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Total number of transactions in pool </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_txpool_stats6in_useE">
<span id="_CPPv3N15mb_txpool_stats6in_useE"></span><span id="_CPPv2N15mb_txpool_stats6in_useE"></span><span id="mb_txpool_stats::in_use__s"></span><span class="target" id="structmb__txpool__stats_1a91471b2a2885c4151c789bdee27d1d4c"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">in_use</span></span></span><a class="headerlink" href="#_CPPv4N15mb_txpool_stats6in_useE" title="Link to this definition"></a><br /></dt>
<dd><p>Currently allocated transactions </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_txpool_stats9availableE">
<span id="_CPPv3N15mb_txpool_stats9availableE"></span><span id="_CPPv2N15mb_txpool_stats9availableE"></span><span id="mb_txpool_stats::available__s"></span><span class="target" id="structmb__txpool__stats_1ad2dacf53dcbcd13ebdb0086b7db7dfcf"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">available</span></span></span><a class="headerlink" href="#_CPPv4N15mb_txpool_stats9availableE" title="Link to this definition"></a><br /></dt>
<dd><p>Currently free transactions </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_txpool_stats10high_waterE">
<span id="_CPPv3N15mb_txpool_stats10high_waterE"></span><span id="_CPPv2N15mb_txpool_stats10high_waterE"></span><span id="mb_txpool_stats::high_water__s"></span><span class="target" id="structmb__txpool__stats_1a6801ce38fe4ec9bb6e24290e5e8ec8f5"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">high_water</span></span></span><a class="headerlink" href="#_CPPv4N15mb_txpool_stats10high_waterE" title="Link to this definition"></a><br /></dt>
<dd><p>Peak concurrent allocations </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_txpool_stats14total_acquiredE">
<span id="_CPPv3N15mb_txpool_stats14total_acquiredE"></span><span id="_CPPv2N15mb_txpool_stats14total_acquiredE"></span><span id="mb_txpool_stats::total_acquired__uint64_t"></span><span class="target" id="structmb__txpool__stats_1a5210ec553e61dd78a48c1f889ae83422"></span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">total_acquired</span></span></span><a class="headerlink" href="#_CPPv4N15mb_txpool_stats14total_acquiredE" title="Link to this definition"></a><br /></dt>
<dd><p>Total acquire() calls since init </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_txpool_stats14total_releasedE">
<span id="_CPPv3N15mb_txpool_stats14total_releasedE"></span><span id="_CPPv2N15mb_txpool_stats14total_releasedE"></span><span id="mb_txpool_stats::total_released__uint64_t"></span><span class="target" id="structmb__txpool__stats_1a47380bde3fcd011ef1aad33c67546d36"></span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">total_released</span></span></span><a class="headerlink" href="#_CPPv4N15mb_txpool_stats14total_releasedE" title="Link to this definition"></a><br /></dt>
<dd><p>Total release() calls since init </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_txpool_stats15failed_acquiresE">
<span id="_CPPv3N15mb_txpool_stats15failed_acquiresE"></span><span id="_CPPv2N15mb_txpool_stats15failed_acquiresE"></span><span id="mb_txpool_stats::failed_acquires__uint64_t"></span><span class="target" id="structmb__txpool__stats_1afcdf87cf4f4dfc447e8f8925531df864"></span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">failed_acquires</span></span></span><a class="headerlink" href="#_CPPv4N15mb_txpool_stats15failed_acquiresE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of acquire() failures (pool exhausted) </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv421modbus_compat_context">
<span id="_CPPv321modbus_compat_context"></span><span id="_CPPv221modbus_compat_context"></span><span id="modbus_compat_context"></span><span class="target" id="structmodbus__compat__context"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_compat_context</span></span></span><a class="headerlink" href="#_CPPv421modbus_compat_context" title="Link to this definition"></a><br /></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context7backendE">
<span id="_CPPv3N21modbus_compat_context7backendE"></span><span id="_CPPv2N21modbus_compat_context7backendE"></span><span id="modbus_compat_context::backend__modbus_compat_backend_t"></span><span class="target" id="structmodbus__compat__context_1abab0dcdef9bd3e56433f0172b4d954e1"></span><a class="reference internal" href="#_CPPv423modbus_compat_backend_t" title="modbus_compat_backend_t"><span class="n"><span class="pre">modbus_compat_backend_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">backend</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context7backendE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context6deviceE">
<span id="_CPPv3N21modbus_compat_context6deviceE"></span><span id="_CPPv2N21modbus_compat_context6deviceE"></span><span id="modbus_compat_context::device__cP"></span><span class="target" id="structmodbus__compat__context_1ade2c648ef05737933295c2f413ce8448"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">device</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context6deviceE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context4baudE">
<span id="_CPPv3N21modbus_compat_context4baudE"></span><span id="_CPPv2N21modbus_compat_context4baudE"></span><span id="modbus_compat_context::baud__i"></span><span class="target" id="structmodbus__compat__context_1a42fb47ce06226213bec070c7490ed35c"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">baud</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context4baudE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context6parityE">
<span id="_CPPv3N21modbus_compat_context6parityE"></span><span id="_CPPv2N21modbus_compat_context6parityE"></span><span id="modbus_compat_context::parity__c"></span><span class="target" id="structmodbus__compat__context_1a0f605c8c8c78b5eb0e5cbed3393b41cd"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">parity</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context6parityE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context9data_bitsE">
<span id="_CPPv3N21modbus_compat_context9data_bitsE"></span><span id="_CPPv2N21modbus_compat_context9data_bitsE"></span><span id="modbus_compat_context::data_bits__i"></span><span class="target" id="structmodbus__compat__context_1a8ef180eec9894cad652f5083a97d159f"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">data_bits</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context9data_bitsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context9stop_bitsE">
<span id="_CPPv3N21modbus_compat_context9stop_bitsE"></span><span id="_CPPv2N21modbus_compat_context9stop_bitsE"></span><span id="modbus_compat_context::stop_bits__i"></span><span class="target" id="structmodbus__compat__context_1a7b3cb84cd49747a9e430d10285e95b58"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">stop_bits</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context9stop_bitsE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context4hostE">
<span id="_CPPv3N21modbus_compat_context4hostE"></span><span id="_CPPv2N21modbus_compat_context4hostE"></span><span id="modbus_compat_context::host__cP"></span><span class="target" id="structmodbus__compat__context_1a5642299ab968ce9fb10b4cc2630b1ef0"></span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">host</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context4hostE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context4portE">
<span id="_CPPv3N21modbus_compat_context4portE"></span><span id="_CPPv2N21modbus_compat_context4portE"></span><span id="modbus_compat_context::port__i"></span><span class="target" id="structmodbus__compat__context_1a2775327ee2dca3a016ec217e6c4735e4"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">port</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context4portE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context5slaveE">
<span id="_CPPv3N21modbus_compat_context5slaveE"></span><span id="_CPPv2N21modbus_compat_context5slaveE"></span><span id="modbus_compat_context::slave__i"></span><span class="target" id="structmodbus__compat__context_1a9f3740185cf56afe184a63aac2a21f48"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">slave</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context5slaveE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context13debug_enabledE">
<span id="_CPPv3N21modbus_compat_context13debug_enabledE"></span><span id="_CPPv2N21modbus_compat_context13debug_enabledE"></span><span id="modbus_compat_context::debug_enabled__b"></span><span class="target" id="structmodbus__compat__context_1a9de13dfbe11a3674bf44b7df50f60dfa"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">debug_enabled</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context13debug_enabledE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context9connectedE">
<span id="_CPPv3N21modbus_compat_context9connectedE"></span><span id="_CPPv2N21modbus_compat_context9connectedE"></span><span id="modbus_compat_context::connected__b"></span><span class="target" id="structmodbus__compat__context_1a613be472e3d626df884090a4767b6986"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">connected</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context9connectedE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context6clientE">
<span id="_CPPv3N21modbus_compat_context6clientE"></span><span id="_CPPv2N21modbus_compat_context6clientE"></span><span id="modbus_compat_context::client__mb_host_client_tP"></span><span class="target" id="structmodbus__compat__context_1a1fc3a63efeb6594bb76841adcd895200"></span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">client</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context6clientE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N21modbus_compat_context10timeout_msE">
<span id="_CPPv3N21modbus_compat_context10timeout_msE"></span><span id="_CPPv2N21modbus_compat_context10timeout_msE"></span><span id="modbus_compat_context::timeout_ms__uint32_t"></span><span class="target" id="structmodbus__compat__context_1a2c4de744f11f1d5292979656ea45eb2f"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">timeout_ms</span></span></span><a class="headerlink" href="#_CPPv4N21modbus_compat_context10timeout_msE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv416modbus_context_t">
<span id="_CPPv316modbus_context_t"></span><span id="_CPPv216modbus_context_t"></span><span id="modbus_context_t"></span><span class="target" id="structmodbus__context__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_context_t</span></span></span><a class="headerlink" href="#_CPPv416modbus_context_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#base_8h"><span class="std std-ref">base.h</span></a>&gt;</em></div>
<p>The Modbus context structure holds all necessary data for both Client and Server. </p>
<p><strong>Fields:</strong><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">transport</span></code>: Platform-specific I/O and timing functions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">role</span></code>: Specifies whether the context is for a Client or Server.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rx_buffer</span></code>: Buffer for incoming data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rx_count</span></code>: Number of bytes currently in the receive buffer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rx_index</span></code>: Current index in the receive buffer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tx_raw_buffer</span></code>: Raw buffer for outgoing data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tx_index</span></code>: Current index in the transmit buffer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tx_buffer</span></code>: Processed buffer for outgoing data.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rx_reference_time</span></code>: Timestamp for receiving data, used for handling timeouts.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tx_reference_time</span></code>: Timestamp for transmitting data, used for handling timeouts.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">error_timer</span></code>: Timer for tracking errors.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">user_data</span></code>: Pointer for user-specific context or data.</p></li>
</ul>
</p>
<p><strong>Usage:</strong><ul class="simple">
<li><p>Initialize this structure before using Modbus Client or Server functions.</p></li>
<li><p>Populate <code class="docutils literal notranslate"><span class="pre">transport</span></code> with appropriate I/O and timing functions.</p></li>
<li><p>Set <code class="docutils literal notranslate"><span class="pre">role</span></code> to <code class="docutils literal notranslate"><span class="pre">MODBUS_ROLE_MASTER</span></code> or <code class="docutils literal notranslate"><span class="pre">MODBUS_ROLE_SLAVE</span></code> based on usage.</p></li>
</ul>
</p>
<p><strong>Example:</strong> <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">modbus_context_t</span><span class="w"> </span><span class="n">ctx</span><span class="p">;</span>
<span class="n">modbus_transport_init_mock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctx</span><span class="p">.</span><span class="n">transport</span><span class="p">);</span>
<span class="n">ctx</span><span class="p">.</span><span class="n">role</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MODBUS_ROLE_CLIENT</span><span class="p">;</span>
<span class="n">ctx</span><span class="p">.</span><span class="n">user_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">application_data</span><span class="p">;</span>
</pre></div>
</div>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t9transportE">
<span id="_CPPv3N16modbus_context_t9transportE"></span><span id="_CPPv2N16modbus_context_t9transportE"></span><span id="modbus_context_t::transport__modbus_transport_t"></span><span class="target" id="structmodbus__context__t_1a63d9bf5154601fa1e675eee1deea343a"></span><a class="reference internal" href="#_CPPv418modbus_transport_t" title="modbus_transport_t"><span class="n"><span class="pre">modbus_transport_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">transport</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t9transportE" title="Link to this definition"></a><br /></dt>
<dd><p>Platform-specific I/O and timing functions </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t15transport_ifaceE">
<span id="_CPPv3N16modbus_context_t15transport_ifaceE"></span><span id="_CPPv2N16modbus_context_t15transport_ifaceE"></span><span id="modbus_context_t::transport_iface__mb_transport_if_t"></span><span class="target" id="structmodbus__context__t_1af6f0a6a8c66e2f483a15aa3184e6f1c6"></span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">transport_iface</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t15transport_ifaceE" title="Link to this definition"></a><br /></dt>
<dd><p>Lightweight, non-blocking transport shim </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t4roleE">
<span id="_CPPv3N16modbus_context_t4roleE"></span><span id="_CPPv2N16modbus_context_t4roleE"></span><span id="modbus_context_t::role__modbus_role_t"></span><span class="target" id="structmodbus__context__t_1a6d743074fba087db5db924dd8ce6064e"></span><a class="reference internal" href="#_CPPv413modbus_role_t" title="modbus_role_t"><span class="n"><span class="pre">modbus_role_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">role</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t4roleE" title="Link to this definition"></a><br /></dt>
<dd><p>Client or Server role </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t9rx_bufferE">
<span id="_CPPv3N16modbus_context_t9rx_bufferE"></span><span id="_CPPv2N16modbus_context_t9rx_bufferE"></span><span id="modbus_context_t::rx_buffer__uint8_tP"></span><span class="target" id="structmodbus__context__t_1a51b81db5088b43e3f8ec674e18b77929"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">rx_buffer</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t9rx_bufferE" title="Link to this definition"></a><br /></dt>
<dd><p>Buffer for incoming data </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t11rx_capacityE">
<span id="_CPPv3N16modbus_context_t11rx_capacityE"></span><span id="_CPPv2N16modbus_context_t11rx_capacityE"></span><span id="modbus_context_t::rx_capacity__uint16_t"></span><span class="target" id="structmodbus__context__t_1a033cfb8b90d7edd34f0a570269651b05"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_capacity</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t11rx_capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Capacity of the RX buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t8rx_countE">
<span id="_CPPv3N16modbus_context_t8rx_countE"></span><span id="_CPPv2N16modbus_context_t8rx_countE"></span><span id="modbus_context_t::rx_count__uint16_t"></span><span class="target" id="structmodbus__context__t_1aadb23b0a0c721578e6f6e4b7868c4ff3"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_count</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t8rx_countE" title="Link to this definition"></a><br /></dt>
<dd><p>Number of bytes in the receive buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t8rx_indexE">
<span id="_CPPv3N16modbus_context_t8rx_indexE"></span><span id="_CPPv2N16modbus_context_t8rx_indexE"></span><span id="modbus_context_t::rx_index__uint16_t"></span><span class="target" id="structmodbus__context__t_1aa5cc4b00f7bf3835e69e8e995da4bac0"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_index</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t8rx_indexE" title="Link to this definition"></a><br /></dt>
<dd><p>Current index in the receive buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t13rx_raw_bufferE">
<span id="_CPPv3N16modbus_context_t13rx_raw_bufferE"></span><span id="_CPPv2N16modbus_context_t13rx_raw_bufferE"></span><span id="modbus_context_t::rx_raw_buffer__uint8_tP"></span><span class="target" id="structmodbus__context__t_1a97da99a41bacd440f5f8c8f0390de619"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">rx_raw_buffer</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t13rx_raw_bufferE" title="Link to this definition"></a><br /></dt>
<dd><p>Buffer for raw RX bytes </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t15rx_raw_capacityE">
<span id="_CPPv3N16modbus_context_t15rx_raw_capacityE"></span><span id="_CPPv2N16modbus_context_t15rx_raw_capacityE"></span><span id="modbus_context_t::rx_raw_capacity__uint16_t"></span><span class="target" id="structmodbus__context__t_1aba3c028b19f752b23d23c9c1dc6bfa45"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_raw_capacity</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t15rx_raw_capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Capacity of the raw RX buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t13tx_raw_bufferE">
<span id="_CPPv3N16modbus_context_t13tx_raw_bufferE"></span><span id="_CPPv2N16modbus_context_t13tx_raw_bufferE"></span><span id="modbus_context_t::tx_raw_buffer__uint8_tP"></span><span class="target" id="structmodbus__context__t_1a0717092361d10190a052a32d35e5b199"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">tx_raw_buffer</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t13tx_raw_bufferE" title="Link to this definition"></a><br /></dt>
<dd><p>Raw buffer for outgoing data </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t15tx_raw_capacityE">
<span id="_CPPv3N16modbus_context_t15tx_raw_capacityE"></span><span id="_CPPv2N16modbus_context_t15tx_raw_capacityE"></span><span id="modbus_context_t::tx_raw_capacity__uint16_t"></span><span class="target" id="structmodbus__context__t_1a9bc5679e719449011bd1f3a46c3fbd99"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_raw_capacity</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t15tx_raw_capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Capacity of the raw TX buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t12tx_raw_indexE">
<span id="_CPPv3N16modbus_context_t12tx_raw_indexE"></span><span id="_CPPv2N16modbus_context_t12tx_raw_indexE"></span><span id="modbus_context_t::tx_raw_index__uint16_t"></span><span class="target" id="structmodbus__context__t_1a2eb1976f83d6506a8f3e9fba6ec7501f"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_raw_index</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t12tx_raw_indexE" title="Link to this definition"></a><br /></dt>
<dd><p>Current index in the raw transmit buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t9tx_bufferE">
<span id="_CPPv3N16modbus_context_t9tx_bufferE"></span><span id="_CPPv2N16modbus_context_t9tx_bufferE"></span><span id="modbus_context_t::tx_buffer__uint8_tP"></span><span class="target" id="structmodbus__context__t_1a980ade7de32eee436be3a5b22644e0e6"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">tx_buffer</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t9tx_bufferE" title="Link to this definition"></a><br /></dt>
<dd><p>Processed buffer for outgoing data </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t11tx_capacityE">
<span id="_CPPv3N16modbus_context_t11tx_capacityE"></span><span id="_CPPv2N16modbus_context_t11tx_capacityE"></span><span id="modbus_context_t::tx_capacity__uint16_t"></span><span class="target" id="structmodbus__context__t_1a87e55868a265a2f403e1d0d32d0c2230"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_capacity</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t11tx_capacityE" title="Link to this definition"></a><br /></dt>
<dd><p>Capacity of the processed TX buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t8tx_indexE">
<span id="_CPPv3N16modbus_context_t8tx_indexE"></span><span id="_CPPv2N16modbus_context_t8tx_indexE"></span><span id="modbus_context_t::tx_index__uint16_t"></span><span class="target" id="structmodbus__context__t_1ae14c876696956cadd81be4f4eeb9bbdd"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_index</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t8tx_indexE" title="Link to this definition"></a><br /></dt>
<dd><p>Current index in the processed buffer </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t17rx_reference_timeE">
<span id="_CPPv3N16modbus_context_t17rx_reference_timeE"></span><span id="_CPPv2N16modbus_context_t17rx_reference_timeE"></span><span id="modbus_context_t::rx_reference_time__mb_time_ms_t"></span><span class="target" id="structmodbus__context__t_1acb5a99f1673bf1a310d14b77c577cab9"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_reference_time</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t17rx_reference_timeE" title="Link to this definition"></a><br /></dt>
<dd><p>Timestamp for receiving data, used in timeouts </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t17tx_reference_timeE">
<span id="_CPPv3N16modbus_context_t17tx_reference_timeE"></span><span id="_CPPv2N16modbus_context_t17tx_reference_timeE"></span><span id="modbus_context_t::tx_reference_time__mb_time_ms_t"></span><span class="target" id="structmodbus__context__t_1a70cffe6e2da8afeb076ace6ecaffd592"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_reference_time</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t17tx_reference_timeE" title="Link to this definition"></a><br /></dt>
<dd><p>Timestamp for transmitting data, used in timeouts </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t11error_timerE">
<span id="_CPPv3N16modbus_context_t11error_timerE"></span><span id="_CPPv2N16modbus_context_t11error_timerE"></span><span id="modbus_context_t::error_timer__mb_time_ms_t"></span><span class="target" id="structmodbus__context__t_1a2b34e35a47b248e0edb28f0f9b8ad5cb"></span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">error_timer</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t11error_timerE" title="Link to this definition"></a><br /></dt>
<dd><p>Timer for tracking errors </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t9user_dataE">
<span id="_CPPv3N16modbus_context_t9user_dataE"></span><span id="_CPPv2N16modbus_context_t9user_dataE"></span><span id="modbus_context_t::user_data__voidP"></span><span class="target" id="structmodbus__context__t_1ad44dfbfb7bd5c48faa613b3f1ff4f398"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">user_data</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t9user_dataE" title="Link to this definition"></a><br /></dt>
<dd><p>Pointer for user-specific context </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t2rxE">
<span id="_CPPv3N16modbus_context_t2rxE"></span><span id="_CPPv2N16modbus_context_t2rxE"></span><span id="modbus_context_t::rx__uint8_tA"></span><span class="target" id="structmodbus__context__t_1a8b66d99724398ed11df19a621f540bc7"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MODBUS_RECEIVE_BUFFER_SIZE</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t2rxE" title="Link to this definition"></a><br /></dt>
<dd><p>Default RX buffer storage </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t6rx_rawE">
<span id="_CPPv3N16modbus_context_t6rx_rawE"></span><span id="_CPPv2N16modbus_context_t6rx_rawE"></span><span id="modbus_context_t::rx_raw__uint8_tA"></span><span class="target" id="structmodbus__context__t_1a07366ee31b98f3d03e8591f83b68669f"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">rx_raw</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MODBUS_RECEIVE_BUFFER_SIZE</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t6rx_rawE" title="Link to this definition"></a><br /></dt>
<dd><p>Default raw RX buffer storage </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t6tx_rawE">
<span id="_CPPv3N16modbus_context_t6tx_rawE"></span><span id="_CPPv2N16modbus_context_t6tx_rawE"></span><span id="modbus_context_t::tx_raw__uint8_tA"></span><span class="target" id="structmodbus__context__t_1afe9fa9a8c51497f0120b6f470eb59f10"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx_raw</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MODBUS_SEND_BUFFER_SIZE</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t6tx_rawE" title="Link to this definition"></a><br /></dt>
<dd><p>Default raw TX buffer storage </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t2txE">
<span id="_CPPv3N16modbus_context_t2txE"></span><span id="_CPPv2N16modbus_context_t2txE"></span><span id="modbus_context_t::tx__uint8_tA"></span><span class="target" id="structmodbus__context__t_1ae0d27e484c296a19e7debc670888143c"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">tx</span></span></span><span class="p"><span class="pre">[</span></span><span class="n"><span class="pre">MODBUS_SEND_BUFFER_SIZE</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t2txE" title="Link to this definition"></a><br /></dt>
<dd><p>Default processed TX buffer storage </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N16modbus_context_t16internal_buffersE">
<span id="_CPPv3N16modbus_context_t16internal_buffersE"></span><span id="_CPPv2N16modbus_context_t16internal_buffersE"></span><span id="modbus_context_t::internal_buffers__modbus_context_t"></span><span class="target" id="structmodbus__context__t_1a1bc352d3d7a73693ef735642d6d9fa76"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv416modbus_context_t" title="modbus_context_t"><span class="n"><span class="pre">modbus_context_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">internal_buffers</span></span></span><a class="headerlink" href="#_CPPv4N16modbus_context_t16internal_buffersE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv418modbus_transport_t">
<span id="_CPPv318modbus_transport_t"></span><span id="_CPPv218modbus_transport_t"></span><span id="modbus_transport_t"></span><span class="target" id="structmodbus__transport__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_transport_t</span></span></span><a class="headerlink" href="#_CPPv418modbus_transport_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport_8h"><span class="std std-ref">transport.h</span></a>&gt;</em></div>
<p>Structure holding platform-specific function pointers for I/O and timing. </p>
<p>Users must populate this structure with appropriate functions that implement the read, write, timing, and (optionally) UART control operations. These functions are utilized by both Client and Server instances of the Modbus stack.</p>
<p><strong>Fields:</strong><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">transport</span></code>: Specifies the type of transport (RTU or TCP).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">read</span></code>: Function pointer for reading data from the transport.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write</span></code>: Function pointer for writing data to the transport.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_reference_msec</span></code>: Function pointer to retrieve a reference timestamp in milliseconds.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">measure_time_msec</span></code>: Function pointer to measure elapsed time since a reference timestamp.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">change_baudrate</span></code>: (Optional) Function pointer to change the baud rate (RTU only).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">restart_uart</span></code>: (Optional) Function pointer to restart the UART or underlying interface.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_gpio</span></code>: (Optional) Function pointer to control GPIO pins (e.g., RS485 DE/RE control).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parse_bootloader_request</span></code>: (Optional) Function pointer to parse bootloader requests.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arg</span></code>: User-defined argument pointer for storing platform-specific data or context.</p></li>
</ul>
</p>
<p><strong>Function Pointer Descriptions:</strong><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">read</span></code>: Should read up to <code class="docutils literal notranslate"><span class="pre">count</span></code> bytes into <code class="docutils literal notranslate"><span class="pre">buf</span></code>. Returns the number of bytes read, 0 to <code class="docutils literal notranslate"><span class="pre">count-1</span></code> if a timeout occurred (partial read), or a negative value if an error occurred.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write</span></code>: Should write <code class="docutils literal notranslate"><span class="pre">count</span></code> bytes from <code class="docutils literal notranslate"><span class="pre">buf</span></code>. Returns the number of bytes written or a negative value on error.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_reference_msec</span></code>: Should return the current timestamp in milliseconds.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">measure_time_msec</span></code>: Should return the elapsed time in milliseconds since the provided reference timestamp.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">change_baudrate</span></code>: Should change the baud rate to the specified value. Returns the actual baud rate set.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">restart_uart</span></code>: Should restart the UART or underlying interface. No return value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write_gpio</span></code>: Should set the specified GPIO pin to the given value. Returns 0 on success, else an error code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parse_bootloader_request</span></code>: Should parse incoming bootloader requests. Returns 0 on success, else an error code.</p></li>
</ul>
</p>
<p><strong>Notes:</strong><ul class="simple">
<li><p>Optional function pointers should be set to <code class="docutils literal notranslate"><span class="pre">NULL</span></code> if not applicable.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">arg</span></code> field can be used to pass additional context or state to the transport functions. </p></li>
</ul>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18modbus_transport_t9transportE">
<span id="_CPPv3N18modbus_transport_t9transportE"></span><span id="_CPPv2N18modbus_transport_t9transportE"></span><span id="modbus_transport_t::transport__modbus_transport_type_t"></span><span class="target" id="structmodbus__transport__t_1a1640bb2a745823cdce5c207711e50a3b"></span><a class="reference internal" href="#_CPPv423modbus_transport_type_t" title="modbus_transport_type_t"><span class="n"><span class="pre">modbus_transport_type_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">transport</span></span></span><a class="headerlink" href="#_CPPv4N18modbus_transport_t9transportE" title="Link to this definition"></a><br /></dt>
<dd><p>Transport type (RTU or TCP). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18modbus_transport_t4readE">
<span id="_CPPv3N18modbus_transport_t4readE"></span><span id="_CPPv2N18modbus_transport_t4readE"></span><span class="target" id="structmodbus__transport__t_1a10a83cd4b5ca928fe9beffc49eec5b8b"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">read</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N18modbus_transport_t4readE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18modbus_transport_t5writeE">
<span id="_CPPv3N18modbus_transport_t5writeE"></span><span id="_CPPv2N18modbus_transport_t5writeE"></span><span class="target" id="structmodbus__transport__t_1aff8e7c9fa92b548c52b84ecaf5f335c2"></span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">write</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">count</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N18modbus_transport_t5writeE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18modbus_transport_t18get_reference_msecE">
<span id="_CPPv3N18modbus_transport_t18get_reference_msecE"></span><span id="_CPPv2N18modbus_transport_t18get_reference_msecE"></span><span class="target" id="structmodbus__transport__t_1a32036640f894a21e24969a8b521639c9"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">get_reference_msec</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N18modbus_transport_t18get_reference_msecE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18modbus_transport_t17measure_time_msecE">
<span id="_CPPv3N18modbus_transport_t17measure_time_msecE"></span><span id="_CPPv2N18modbus_transport_t17measure_time_msecE"></span><span class="target" id="structmodbus__transport__t_1ac7e5d06adef4eb0f1bfcaf5126b61904"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">measure_time_msec</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">ref</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N18modbus_transport_t17measure_time_msecE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18modbus_transport_t15change_baudrateE">
<span id="_CPPv3N18modbus_transport_t15change_baudrateE"></span><span id="_CPPv2N18modbus_transport_t15change_baudrateE"></span><span class="target" id="structmodbus__transport__t_1ab5c841a3e6a82f9c0dd525af0eccb7a2"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">change_baudrate</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n"><span class="pre">baudrate</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N18modbus_transport_t15change_baudrateE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18modbus_transport_t12restart_uartE">
<span id="_CPPv3N18modbus_transport_t12restart_uartE"></span><span id="_CPPv2N18modbus_transport_t12restart_uartE"></span><span class="target" id="structmodbus__transport__t_1a13e252d41a7c21c1ffa95478a70b6ce2"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">restart_uart</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N18modbus_transport_t12restart_uartE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18modbus_transport_t10write_gpioE">
<span id="_CPPv3N18modbus_transport_t10write_gpioE"></span><span id="_CPPv2N18modbus_transport_t10write_gpioE"></span><span class="target" id="structmodbus__transport__t_1a6a18c4a590937b1dfb121b357eb89f5b"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">write_gpio</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">gpio</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N18modbus_transport_t10write_gpioE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18modbus_transport_t24parse_bootloader_requestE">
<span id="_CPPv3N18modbus_transport_t24parse_bootloader_requestE"></span><span id="_CPPv2N18modbus_transport_t24parse_bootloader_requestE"></span><span class="target" id="structmodbus__transport__t_1ae8be6b12ddeb8bbf258690919556cc5b"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">parse_bootloader_request</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buffer</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buffer_size</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4N18modbus_transport_t24parse_bootloader_requestE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N18modbus_transport_t3argE">
<span id="_CPPv3N18modbus_transport_t3argE"></span><span id="_CPPv2N18modbus_transport_t3argE"></span><span id="modbus_transport_t::arg__voidP"></span><span class="target" id="structmodbus__transport__t_1a765bc9ac9433ecc05b2e216a1dd1c115"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">arg</span></span></span><a class="headerlink" href="#_CPPv4N18modbus_transport_t3argE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv417variable_modbus_t">
<span id="_CPPv317variable_modbus_t"></span><span id="_CPPv217variable_modbus_t"></span><span id="variable_modbus_t"></span><span class="target" id="structvariable__modbus__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">variable_modbus_t</span></span></span><a class="headerlink" href="#_CPPv417variable_modbus_t" title="Link to this definition"></a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#base_8h"><span class="std std-ref">base.h</span></a>&gt;</em></div>
<p>Structure representing a Modbus variable (e.g., holding register). </p>
<p>Each variable is identified by an address and can be read-only or read/write. Optional read and write callbacks can be provided for custom logic. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17variable_modbus_t12variable_ptrE">
<span id="_CPPv3N17variable_modbus_t12variable_ptrE"></span><span id="_CPPv2N17variable_modbus_t12variable_ptrE"></span><span id="variable_modbus_t::variable_ptr__int16_tP"></span><span class="target" id="structvariable__modbus__t_1ad58292c9b8d22864edba38f204fefcf2"></span><span class="n"><span class="pre">int16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">variable_ptr</span></span></span><a class="headerlink" href="#_CPPv4N17variable_modbus_t12variable_ptrE" title="Link to this definition"></a><br /></dt>
<dd><p>Pointer to the variable in memory </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17variable_modbus_t13read_callbackE">
<span id="_CPPv3N17variable_modbus_t13read_callbackE"></span><span id="_CPPv2N17variable_modbus_t13read_callbackE"></span><span id="variable_modbus_t::read_callback__modbus_read_callback_t"></span><span class="target" id="structvariable__modbus__t_1aab89d10d8c8b4a3bda1218e65c479162"></span><a class="reference internal" href="#_CPPv422modbus_read_callback_t" title="modbus_read_callback_t"><span class="n"><span class="pre">modbus_read_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_callback</span></span></span><a class="headerlink" href="#_CPPv4N17variable_modbus_t13read_callbackE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional callback for reading the variable </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17variable_modbus_t14write_callbackE">
<span id="_CPPv3N17variable_modbus_t14write_callbackE"></span><span id="_CPPv2N17variable_modbus_t14write_callbackE"></span><span id="variable_modbus_t::write_callback__modbus_write_callback_t"></span><span class="target" id="structvariable__modbus__t_1a8d42124d3a6612a20d59712a1d6c632f"></span><a class="reference internal" href="#_CPPv423modbus_write_callback_t" title="modbus_write_callback_t"><span class="n"><span class="pre">modbus_write_callback_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">write_callback</span></span></span><a class="headerlink" href="#_CPPv4N17variable_modbus_t14write_callbackE" title="Link to this definition"></a><br /></dt>
<dd><p>Optional callback for writing the variable </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17variable_modbus_t9read_onlyE">
<span id="_CPPv3N17variable_modbus_t9read_onlyE"></span><span id="_CPPv2N17variable_modbus_t9read_onlyE"></span><span id="variable_modbus_t::read_only__b"></span><span class="target" id="structvariable__modbus__t_1a8af77349f5b8cc99828da307c09f11d6"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">read_only</span></span></span><a class="headerlink" href="#_CPPv4N17variable_modbus_t9read_onlyE" title="Link to this definition"></a><br /></dt>
<dd><p>Indicates if the variable is read-only </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N17variable_modbus_t7addressE">
<span id="_CPPv3N17variable_modbus_t7addressE"></span><span id="_CPPv2N17variable_modbus_t7addressE"></span><span id="variable_modbus_t::address__uint16_t"></span><span class="target" id="structvariable__modbus__t_1a6b08462bbbbfc83a24e125e459c10e5f"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">address</span></span></span><a class="headerlink" href="#_CPPv4N17variable_modbus_t7addressE" title="Link to this definition"></a><br /></dt>
<dd><p>Modbus address of this variable </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="base_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">base.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport_8h"><span class="std std-ref">modbus/transport.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport__if_8h"><span class="std std-ref">modbus/transport_if.h</span></a>&gt;</em></div>
<p>Common definitions for Modbus Master and Slave implementations. </p>
<p>This header provides common enumerations, data structures, and type definitions used by both Modbus Master and Slave implementations. It is designed to be portable and flexible, without dependencies on specific hardware or protocol variants.</p>
<p><strong>Key Features:</strong><ul class="simple">
<li><p>Defines Modbus error and exception codes.</p></li>
<li><p>Provides a generic <code class="docutils literal notranslate"><a class="reference internal" href="#structmodbus__context__t"><span class="std std-ref"><span class="pre">modbus_context_t</span></span></a></code> structure for holding platform configuration, transport interfaces, and user-specific data.</p></li>
<li><p>Includes data structures for managing holding registers and their callbacks.</p></li>
<li><p>Contains utility macros and constants related to the Modbus protocol.</p></li>
</ul>
</p>
<p><strong>Usage:</strong><ul class="simple">
<li><p>Include this header in your Master or Slave code to access common Modbus definitions.</p></li>
<li><p>Platform-dependent operations (I/O, timing) and higher-level states (FSM) are defined elsewhere.</p></li>
<li><p>Example: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;base.h&quot;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup_modbus</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">modbus_context_t</span><span class="w"> </span><span class="n">ctx</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// Initialize context and transport</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
</p></li>
</ul>
</p>
<p><dl class="simple">
<dt><strong>Author</strong></dt><dd><p>Luiz Carlos Gili</p>
</dd>
<dt><strong>Date</strong></dt><dd><p>2024-12-20 </p>
</dd>
</dl>
</p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="client_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">client.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#frame_8h"><span class="std std-ref">modbus/frame.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#observe_8h"><span class="std std-ref">modbus/observe.h</span></a>&gt;</em></div>
<p>Public API for the asynchronous Modbus client state machine. </p>
<p>The client manages a queue of protocol transactions, applies retry and watchdog policies, and bridges the higher layers to RTU or TCP transports without blocking the caller. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CLIENT_DEFAULT_TIMEOUT_MS">
<span class="target" id="client_8h_1a4660625d5f49fd12d1b812fc59620675"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_DEFAULT_TIMEOUT_MS</span></span></span><a class="headerlink" href="#c.MB_CLIENT_DEFAULT_TIMEOUT_MS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CLIENT_DEFAULT_RETRY_BACKOFF_MS">
<span class="target" id="client_8h_1a0fccce86958ef3d148fffc0bc0afe54c"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_DEFAULT_RETRY_BACKOFF_MS</span></span></span><a class="headerlink" href="#c.MB_CLIENT_DEFAULT_RETRY_BACKOFF_MS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CLIENT_DEFAULT_WATCHDOG_MS">
<span class="target" id="client_8h_1a92e0ab8ed032180ef7c26ffe450c5a6b"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_DEFAULT_WATCHDOG_MS</span></span></span><a class="headerlink" href="#c.MB_CLIENT_DEFAULT_WATCHDOG_MS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CLIENT_MAX_TIMEOUT_MS">
<span class="target" id="client_8h_1a7e152fea84f7ab2fd55cc4abceadf445"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_MAX_TIMEOUT_MS</span></span></span><a class="headerlink" href="#c.MB_CLIENT_MAX_TIMEOUT_MS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CLIENT_REQUEST_NO_RESPONSE">
<span class="target" id="client_8h_1a8e7726cc9407ed75431466dd867f407e"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_REQUEST_NO_RESPONSE</span></span></span><a class="headerlink" href="#c.MB_CLIENT_REQUEST_NO_RESPONSE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CLIENT_REQUEST_HIGH_PRIORITY">
<span class="target" id="client_8h_1a765cdd10d7609f0a8a886b13aa850cba"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_REQUEST_HIGH_PRIORITY</span></span></span><a class="headerlink" href="#c.MB_CLIENT_REQUEST_HIGH_PRIORITY" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CLIENT_REQUEST_POISON">
<span class="target" id="client_8h_1add7f49ff2da4dd3ec146833231dca439"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_REQUEST_POISON</span></span></span><a class="headerlink" href="#c.MB_CLIENT_REQUEST_POISON" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv416mb_idle_config_t">
<span id="_CPPv316mb_idle_config_t"></span><span id="_CPPv216mb_idle_config_t"></span><span id="mb_idle_config_t"></span><span class="target" id="client_8h_1a5c93eb97c2895976a765b979378f72c2"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv414mb_idle_config" title="mb_idle_config"><span class="n"><span class="pre">mb_idle_config</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_idle_config_t</span></span></span><a class="headerlink" href="#_CPPv416mb_idle_config_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420mb_client_callback_t">
<span id="_CPPv320mb_client_callback_t"></span><span id="_CPPv220mb_client_callback_t"></span><span id="mb_client_callback_t"></span><span class="target" id="client_8h_1abc08fa1d67f9c8b17aa38ef148cd7aa8"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_client" title="mb_client"><span class="n"><span class="pre">mb_client</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">client</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_client_txn" title="mb_client_txn"><span class="n"><span class="pre">mb_client_txn</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">txn</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">response</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv420mb_client_callback_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv419mb_client_request_t">
<span id="_CPPv319mb_client_request_t"></span><span id="_CPPv219mb_client_request_t"></span><span id="mb_client_request_t"></span><span class="target" id="client_8h_1a21c9e0c0c7937ba3540f609de67450f0"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_client_request" title="mb_client_request"><span class="n"><span class="pre">mb_client_request</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_request_t</span></span></span><a class="headerlink" href="#_CPPv419mb_client_request_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv415mb_client_txn_t">
<span id="_CPPv315mb_client_txn_t"></span><span id="_CPPv215mb_client_txn_t"></span><span id="mb_client_txn_t"></span><span class="target" id="client_8h_1a0210e45cce135c7e079600f84df890eb"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_client_txn" title="mb_client_txn"><span class="n"><span class="pre">mb_client_txn</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_txn_t</span></span></span><a class="headerlink" href="#_CPPv415mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv411mb_client_t">
<span id="_CPPv311mb_client_t"></span><span id="_CPPv211mb_client_t"></span><span id="mb_client_t"></span><span class="target" id="client_8h_1accb3f42faab82fdc308c082f3b319fa7"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_client" title="mb_client"><span class="n"><span class="pre">mb_client</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_t</span></span></span><a class="headerlink" href="#_CPPv411mb_client_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv417mb_client_state_t">
<span id="_CPPv317mb_client_state_t"></span><span id="_CPPv217mb_client_state_t"></span><span class="target" id="client_8h_1aa88e914caed5e7255444fa976d557c02"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_state_t</span></span></span><a class="headerlink" href="#_CPPv417mb_client_state_t" title="Link to this definition"></a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_state_t20MB_CLIENT_STATE_IDLEE">
<span id="_CPPv3N17mb_client_state_t20MB_CLIENT_STATE_IDLEE"></span><span id="_CPPv2N17mb_client_state_t20MB_CLIENT_STATE_IDLEE"></span><span class="target" id="client_8h_1aa88e914caed5e7255444fa976d557c02a32490d8180fd898cf56f490c57547884"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_STATE_IDLE</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_state_t20MB_CLIENT_STATE_IDLEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_state_t25MB_CLIENT_STATE_PREPARINGE">
<span id="_CPPv3N17mb_client_state_t25MB_CLIENT_STATE_PREPARINGE"></span><span id="_CPPv2N17mb_client_state_t25MB_CLIENT_STATE_PREPARINGE"></span><span class="target" id="client_8h_1aa88e914caed5e7255444fa976d557c02a1739c1693e16aedcdc486d991224d611"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_STATE_PREPARING</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_state_t25MB_CLIENT_STATE_PREPARINGE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_state_t23MB_CLIENT_STATE_SENDINGE">
<span id="_CPPv3N17mb_client_state_t23MB_CLIENT_STATE_SENDINGE"></span><span id="_CPPv2N17mb_client_state_t23MB_CLIENT_STATE_SENDINGE"></span><span class="target" id="client_8h_1aa88e914caed5e7255444fa976d557c02a4a712e6920d722b2fc23c949de809d7d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_STATE_SENDING</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_state_t23MB_CLIENT_STATE_SENDINGE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_state_t23MB_CLIENT_STATE_WAITINGE">
<span id="_CPPv3N17mb_client_state_t23MB_CLIENT_STATE_WAITINGE"></span><span id="_CPPv2N17mb_client_state_t23MB_CLIENT_STATE_WAITINGE"></span><span class="target" id="client_8h_1aa88e914caed5e7255444fa976d557c02a7e6e111c6f8ddd1e3cde0107ac45cb22"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_STATE_WAITING</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_state_t23MB_CLIENT_STATE_WAITINGE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_client_state_t23MB_CLIENT_STATE_BACKOFFE">
<span id="_CPPv3N17mb_client_state_t23MB_CLIENT_STATE_BACKOFFE"></span><span id="_CPPv2N17mb_client_state_t23MB_CLIENT_STATE_BACKOFFE"></span><span class="target" id="client_8h_1aa88e914caed5e7255444fa976d557c02aa6030b0c9eedde139288d8037de6b7ab"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_STATE_BACKOFF</span></span></span><a class="headerlink" href="#_CPPv4N17mb_client_state_t23MB_CLIENT_STATE_BACKOFFE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv421mb_client_transport_t">
<span id="_CPPv321mb_client_transport_t"></span><span id="_CPPv221mb_client_transport_t"></span><span class="target" id="client_8h_1ae52d0ed12bd8103356e8acdbdf79f553"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_transport_t</span></span></span><a class="headerlink" href="#_CPPv421mb_client_transport_t" title="Link to this definition"></a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_client_transport_t23MB_CLIENT_TRANSPORT_RTUE">
<span id="_CPPv3N21mb_client_transport_t23MB_CLIENT_TRANSPORT_RTUE"></span><span id="_CPPv2N21mb_client_transport_t23MB_CLIENT_TRANSPORT_RTUE"></span><span class="target" id="client_8h_1ae52d0ed12bd8103356e8acdbdf79f553aa6492924ce29535596667aa35c12e77a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_TRANSPORT_RTU</span></span></span><a class="headerlink" href="#_CPPv4N21mb_client_transport_t23MB_CLIENT_TRANSPORT_RTUE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N21mb_client_transport_t23MB_CLIENT_TRANSPORT_TCPE">
<span id="_CPPv3N21mb_client_transport_t23MB_CLIENT_TRANSPORT_TCPE"></span><span id="_CPPv2N21mb_client_transport_t23MB_CLIENT_TRANSPORT_TCPE"></span><span class="target" id="client_8h_1ae52d0ed12bd8103356e8acdbdf79f553a2ca77ef67c7df1999f496b1db5b2950e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_TRANSPORT_TCP</span></span></span><a class="headerlink" href="#_CPPv4N21mb_client_transport_t23MB_CLIENT_TRANSPORT_TCPE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416mb_client_submitP11mb_client_tPK19mb_client_request_tPP15mb_client_txn_t">
<span id="_CPPv316mb_client_submitP11mb_client_tPK19mb_client_request_tPP15mb_client_txn_t"></span><span id="_CPPv216mb_client_submitP11mb_client_tPK19mb_client_request_tPP15mb_client_txn_t"></span><span id="mb_client_submit__mb_client_tP.mb_client_request_tCP.mb_client_txn_tPP"></span><span class="target" id="client_8h_1a68ca51f665a58084ae934b8fe7dd0691"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_submit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419mb_client_request_t" title="mb_client_request_t"><span class="n"><span class="pre">mb_client_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">request</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_txn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416mb_client_submitP11mb_client_tPK19mb_client_request_tPP15mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initialises a Modbus client instance bound to a transport. </p>
<p>The client adopts <code class="docutils literal notranslate"><span class="pre">iface</span></code> as its non-blocking transport, clears the transaction pool and applies default timeout/backoff configuration. Callers must provide storage for the transaction descriptors in <code class="docutils literal notranslate"><span class="pre">txn_pool</span></code>.</p>
<p>
Initialises a client instance targeting Modbus TCP transports.</p>
<p>This variant wires the TCP transport helper, enabling transaction ID routing and multi-socket aware callbacks. Parameters mirror mb_client_init.</p>
<p>
Queues a Modbus request for transmission.<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>mb_client_init</p>
</div>
</p>
<p>The request is copied into an available transaction slot. When <code class="docutils literal notranslate"><span class="pre">out_txn</span></code> is not NULL it receives the descriptor so callers can later inspect state or cancel the operation. Requests flagged with <a class="reference internal" href="#client_8h_1a765cdd10d7609f0a8a886b13aa850cba"><span class="std std-ref">MB_CLIENT_REQUEST_HIGH_PRIORITY</span></a> bypass the FIFO order while <a class="reference internal" href="#client_8h_1add7f49ff2da4dd3ec146833231dca439"><span class="std std-ref">MB_CLIENT_REQUEST_POISON</span></a> flushes the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client object to initialise. </p></li>
<li><p><strong>iface</strong> – Transport interface implementing <a class="reference internal" href="#structmb__transport__if__t"><span class="std std-ref">mb_transport_if_t</span></a>. </p></li>
<li><p><strong>txn_pool</strong> – Array of transaction slots managed by the client. </p></li>
<li><p><strong>txn_pool_len</strong> – Number of elements in <code class="docutils literal notranslate"><span class="pre">txn_pool</span></code>.</p></li>
<li><p><strong>client</strong> – Client instance obtained from mb_client_init. </p></li>
<li><p><strong>request</strong> – Immutable request description; payload is copied internally. </p></li>
<li><p><strong>out_txn</strong> – Optional pointer that receives the allocated transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Initialisation succeeded. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – One of the arguments was NULL or invalid.</p></li>
<li><p><strong>MB_OK</strong> – Initialisation succeeded. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – One of the arguments was NULL or invalid.</p></li>
<li><p><strong>MB_OK</strong> – The request was queued successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Arguments were NULL or payload exceeded <a class="reference internal" href="#pdu_8h_1a39d8f0bb73f4a38dfb518fa175b5597f"><span class="std std-ref">MB_PDU_MAX</span></a>. </p></li>
<li><p><strong>MB_ERR_NO_RESOURCES</strong> – No transaction slots or queue capacity available. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_client_submit_poisonP11mb_client_t">
<span id="_CPPv323mb_client_submit_poisonP11mb_client_t"></span><span id="_CPPv223mb_client_submit_poisonP11mb_client_t"></span><span id="mb_client_submit_poison__mb_client_tP"></span><span class="target" id="client_8h_1a8e83b7f5f548bc7af27d065f23fc2e58"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_submit_poison</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_client_submit_poisonP11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd><p>Injects a high-priority poison pill that drains the queue. </p>
<p>The client stops after current work completes, leaving the FSM idle. Useful when shutting down or when transports need to be reconfigured.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Poison request queued successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">client</span></code> was NULL. </p></li>
<li><p><strong>MB_ERR_NO_RESOURCES</strong> – No transaction slot available for the poison pill. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416mb_client_cancelP11mb_client_tP15mb_client_txn_t">
<span id="_CPPv316mb_client_cancelP11mb_client_tP15mb_client_txn_t"></span><span id="_CPPv216mb_client_cancelP11mb_client_tP15mb_client_txn_t"></span><span id="mb_client_cancel__mb_client_tP.mb_client_txn_tP"></span><span class="target" id="client_8h_1a17eb4ad6d7c5bff4621ae83226a7ef6b"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_cancel</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416mb_client_cancelP11mb_client_tP15mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd><p>Cancels a previously submitted transaction. </p>
<p>If the transaction is in-flight it is finalised with <a class="reference internal" href="#mb__err_8h_1a7bc3607577fc920e8c7bce8e355cccaf"><span class="std std-ref">MB_ERR_CANCELLED</span></a>. If it was queued, it is removed from the pending list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>txn</strong> – Transaction descriptor obtained from mb_client_submit.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – The transaction was cancelled successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – The transaction pointer was NULL or not in use. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414mb_client_pollP11mb_client_t">
<span id="_CPPv314mb_client_pollP11mb_client_t"></span><span id="_CPPv214mb_client_pollP11mb_client_t"></span><span id="mb_client_poll__mb_client_tP"></span><span class="target" id="client_8h_1a69937448e11a18673f7fcb85ed78021e"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_poll</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414mb_client_pollP11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd><p>Advances the client finite-state machine. </p>
<p>Poll this function from your event loop to progress retries, timeouts and transport I/O.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Operation succeeded or no work was required. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">client</span></code> was NULL. </p></li>
<li><p><strong>other</strong> – Error codes bubbled up from the active transport. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426mb_client_poll_with_budgetP11mb_client_t9mb_size_t">
<span id="_CPPv326mb_client_poll_with_budgetP11mb_client_t9mb_size_t"></span><span id="_CPPv226mb_client_poll_with_budgetP11mb_client_t9mb_size_t"></span><span id="mb_client_poll_with_budget__mb_client_tP.mb_size_t"></span><span class="target" id="client_8h_1a9210cd5e34528f1229cb9f512d004c2e"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_poll_with_budget</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">steps</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426mb_client_poll_with_budgetP11mb_client_t9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Advances the client FSM by at most <code class="docutils literal notranslate"><span class="pre">steps</span></code> micro-steps. </p>
<p>This variant mirrors mb_client_poll but enforces a cooperative budget, ensuring the caller regains control after a bounded amount of work. Passing <code class="docutils literal notranslate"><span class="pre">0</span></code> consumes as many steps as required (legacy behaviour).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>steps</strong> – Maximum micro-steps to execute (0 means unbounded).</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Operation succeeded or no work was required. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">client</span></code> was NULL. </p></li>
<li><p><strong>other</strong> – Error codes bubbled up from the active transport. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_client_set_watchdogP11mb_client_t12mb_time_ms_t">
<span id="_CPPv322mb_client_set_watchdogP11mb_client_t12mb_time_ms_t"></span><span id="_CPPv222mb_client_set_watchdogP11mb_client_t12mb_time_ms_t"></span><span id="mb_client_set_watchdog__mb_client_tP.mb_time_ms_t"></span><span class="target" id="client_8h_1a31a697926dcf8397b2347bc13ea09a6b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_watchdog</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">watchdog_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_client_set_watchdogP11mb_client_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd><p>Configures the watchdog window for in-flight transactions. </p>
<p>When non-zero, transactions exceeding <code class="docutils literal notranslate"><span class="pre">watchdog_ms</span></code> without progress are aborted with <a class="reference internal" href="#mb__err_8h_1a303ffb2524bfcdb8802d49148ea1978c"><span class="std std-ref">MB_ERR_TRANSPORT</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>watchdog_ms</strong> – Maximum inactivity window in milliseconds (0 disables). </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_client_is_idlePK11mb_client_t">
<span id="_CPPv317mb_client_is_idlePK11mb_client_t"></span><span id="_CPPv217mb_client_is_idlePK11mb_client_t"></span><span id="mb_client_is_idle__mb_client_tCP"></span><span class="target" id="client_8h_1a9b1ca2f7d7d4a8153397f546a5738ba5"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_is_idle</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_client_is_idlePK11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd><p>Reports whether the client has no active or queued transactions. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – No transactions active or queued. </p></li>
<li><p><strong>false</strong> – At least one transaction is pending. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_client_pendingPK11mb_client_t">
<span id="_CPPv317mb_client_pendingPK11mb_client_t"></span><span id="_CPPv217mb_client_pendingPK11mb_client_t"></span><span id="mb_client_pending__mb_client_tCP"></span><span class="target" id="client_8h_1af4bd29ec37c5a1fc81ab9813e9474c0b"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_pending</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_client_pendingPK11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the number of transactions currently active or queued. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of transactions in-flight or awaiting dispatch. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428mb_client_set_queue_capacityP11mb_client_t9mb_size_t">
<span id="_CPPv328mb_client_set_queue_capacityP11mb_client_t9mb_size_t"></span><span id="_CPPv228mb_client_set_queue_capacityP11mb_client_t9mb_size_t"></span><span id="mb_client_set_queue_capacity__mb_client_tP.mb_size_t"></span><span class="target" id="client_8h_1a67498bbd1e180fe7ccdc3d81a55f8baf"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_queue_capacity</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428mb_client_set_queue_capacityP11mb_client_t9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Limits the amount of concurrent work accepted by the client. </p>
<p>Set <code class="docutils literal notranslate"><span class="pre">capacity</span></code> to zero to fall back to the pool size (default behaviour).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>capacity</strong> – Maximum number of transactions allowed simultaneously. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mb_client_queue_capacityPK11mb_client_t">
<span id="_CPPv324mb_client_queue_capacityPK11mb_client_t"></span><span id="_CPPv224mb_client_queue_capacityPK11mb_client_t"></span><span id="mb_client_queue_capacity__mb_client_tCP"></span><span class="target" id="client_8h_1a87a69cd7acc75b13df582534b2b8e6ef"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_queue_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mb_client_queue_capacityPK11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd><p>Retrieves the current queue capacity limit. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Configured queue capacity (0 when <code class="docutils literal notranslate"><span class="pre">client</span></code> is NULL). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mb_client_set_fc_timeoutP11mb_client_t5mb_u812mb_time_ms_t">
<span id="_CPPv324mb_client_set_fc_timeoutP11mb_client_t5mb_u812mb_time_ms_t"></span><span id="_CPPv224mb_client_set_fc_timeoutP11mb_client_t5mb_u812mb_time_ms_t"></span><span id="mb_client_set_fc_timeout__mb_client_tP.mb_u8.mb_time_ms_t"></span><span class="target" id="client_8h_1a0324062f844e933567b1052d9ae9125f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_fc_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mb_client_set_fc_timeoutP11mb_client_t5mb_u812mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd><p>Overrides the timeout for a specific function code. </p>
<p>Passing a zero timeout clears the override and reverts to the default exponential strategy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>function</strong> – Function code to override. </p></li>
<li><p><strong>timeout_ms</strong> – New timeout in milliseconds (0 clears override). </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_client_get_metricsPK11mb_client_tP19mb_client_metrics_t">
<span id="_CPPv321mb_client_get_metricsPK11mb_client_tP19mb_client_metrics_t"></span><span id="_CPPv221mb_client_get_metricsPK11mb_client_tP19mb_client_metrics_t"></span><span id="mb_client_get_metrics__mb_client_tCP.mb_client_metrics_tP"></span><span class="target" id="client_8h_1ac979f2e5cb7d13404cdf432695677b34"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_get_metrics</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv419mb_client_metrics_t" title="mb_client_metrics_t"><span class="n"><span class="pre">mb_client_metrics_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_metrics</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_client_get_metricsPK11mb_client_tP19mb_client_metrics_t" title="Link to this definition"></a><br /></dt>
<dd><p>Copies the current client metrics into <code class="docutils literal notranslate"><span class="pre">out_metrics</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>out_metrics</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_client_reset_metricsP11mb_client_t">
<span id="_CPPv323mb_client_reset_metricsP11mb_client_t"></span><span id="_CPPv223mb_client_reset_metricsP11mb_client_t"></span><span id="mb_client_reset_metrics__mb_client_tP"></span><span class="target" id="client_8h_1a898cecfee36e5182ebb50f23815d5d03"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_reset_metrics</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_client_reset_metricsP11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd><p>Resets all accumulated client metrics back to zero. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_client_get_diagPK11mb_client_tP18mb_diag_counters_t">
<span id="_CPPv318mb_client_get_diagPK11mb_client_tP18mb_diag_counters_t"></span><span id="_CPPv218mb_client_get_diagPK11mb_client_tP18mb_diag_counters_t"></span><span id="mb_client_get_diag__mb_client_tCP.mb_diag_counters_tP"></span><span class="target" id="client_8h_1a212f352c64102a4ff41e5f20101ce3cb"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_get_diag</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_diag</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_client_get_diagPK11mb_client_tP18mb_diag_counters_t" title="Link to this definition"></a><br /></dt>
<dd><p>Copies diagnostic counters into <code class="docutils literal notranslate"><span class="pre">out_diag</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>out_diag</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427mb_client_get_diag_snapshotPK11mb_client_tP18mb_diag_snapshot_t">
<span id="_CPPv327mb_client_get_diag_snapshotPK11mb_client_tP18mb_diag_snapshot_t"></span><span id="_CPPv227mb_client_get_diag_snapshotPK11mb_client_tP18mb_diag_snapshot_t"></span><span id="mb_client_get_diag_snapshot__mb_client_tCP.mb_diag_snapshot_tP"></span><span class="target" id="client_8h_1aef47ed214d3b12da7c05058e701f5d16"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_get_diag_snapshot</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_snapshot_t" title="mb_diag_snapshot_t"><span class="n"><span class="pre">mb_diag_snapshot_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_snapshot</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427mb_client_get_diag_snapshotPK11mb_client_tP18mb_diag_snapshot_t" title="Link to this definition"></a><br /></dt>
<dd><p>Captures a snapshot of diagnostic counters and trace entries. </p>
<p>Trace data is only populated when <a class="reference internal" href="#conf_8h_1ae08804ec3932f4e631bf5a00fb9dda3c"><span class="std std-ref">MB_CONF_DIAG_ENABLE_TRACE</span></a> is enabled at build time. The snapshot is safe to inspect outside of the polling context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>out_snapshot</strong> – Destination snapshot; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_client_reset_diagP11mb_client_t">
<span id="_CPPv320mb_client_reset_diagP11mb_client_t"></span><span id="_CPPv220mb_client_reset_diagP11mb_client_t"></span><span id="mb_client_reset_diag__mb_client_tP"></span><span class="target" id="client_8h_1a26ec61f6eab3953cf76501f522e9f2da"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_reset_diag</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_client_reset_diagP11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd><p>Clears the diagnostic counters collected for this client. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428mb_client_set_event_callbackP11mb_client_t19mb_event_callback_tPv">
<span id="_CPPv328mb_client_set_event_callbackP11mb_client_t19mb_event_callback_tPv"></span><span id="_CPPv228mb_client_set_event_callbackP11mb_client_t19mb_event_callback_tPv"></span><span id="mb_client_set_event_callback__mb_client_tP.mb_event_callback_t.voidP"></span><span class="target" id="client_8h_1a82173f682c01703acc4dc3d18983189d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_event_callback</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv419mb_event_callback_t" title="mb_event_callback_t"><span class="n"><span class="pre">mb_event_callback_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">callback</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428mb_client_set_event_callbackP11mb_client_t19mb_event_callback_tPv" title="Link to this definition"></a><br /></dt>
<dd><p>Registers an event callback to observe client activity. </p>
<p>When <code class="docutils literal notranslate"><span class="pre">callback</span></code> is non-NULL the current state is emitted immediately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>callback</strong> – Event sink invoked on state and transaction updates. </p></li>
<li><p><strong>user_ctx</strong> – Opaque pointer forwarded to <code class="docutils literal notranslate"><span class="pre">callback</span></code>. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_client_set_trace_hexP11mb_client_tb">
<span id="_CPPv323mb_client_set_trace_hexP11mb_client_tb"></span><span id="_CPPv223mb_client_set_trace_hexP11mb_client_tb"></span><span id="mb_client_set_trace_hex__mb_client_tP.b"></span><span class="target" id="client_8h_1ae124b55c97dede90cf0b0a6f87d49510"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_trace_hex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">enable</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_client_set_trace_hexP11mb_client_tb" title="Link to this definition"></a><br /></dt>
<dd><p>Toggles hexadecimal tracing of TX/RX PDUs to the logging sink. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>enable</strong> – <code class="docutils literal notranslate"><span class="pre">true</span></code> to enable tracing, <code class="docutils literal notranslate"><span class="pre">false</span></code> to disable. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="client__sync_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">client_sync.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client_8h"><span class="std std-ref">modbus/client.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<p>Blocking helpers that wrap the non-blocking Modbus client FSM. </p>
<p>These helpers build on top of the regular <code class="docutils literal notranslate"><span class="pre">mb_client_*</span></code> API to provide synchronous, one-shot operations. They are intended for applications that prefer a straightforward “submit and wait” workflow (desktop tooling, scripts, quick prototypes) while still relying on the core client FSM.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The existing asynchronous API remains fully supported. These helpers are thin convenience functions and do not introduce a second client stack. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CLIENT_SYNC_TIMEOUT_DEFAULT">
<span class="target" id="client__sync_8h_1afc1785e0c9e6fa63cf849dbc45f6bebb"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_SYNC_TIMEOUT_DEFAULT</span></span></span><a class="headerlink" href="#c.MB_CLIENT_SYNC_TIMEOUT_DEFAULT" title="Link to this definition"></a><br /></dt>
<dd><p>Default timeout applied by the synchronous helpers when none is provided. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mb_client_sync_opts_initP21mb_client_sync_opts_t">
<span id="_CPPv324mb_client_sync_opts_initP21mb_client_sync_opts_t"></span><span id="_CPPv224mb_client_sync_opts_initP21mb_client_sync_opts_t"></span><span id="mb_client_sync_opts_init__mb_client_sync_opts_tP"></span><span class="target" id="client__sync_8h_1a2e146dba8b62c8a998cfb6dc4224665f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_sync_opts_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421mb_client_sync_opts_t" title="mb_client_sync_opts_t"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">opts</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mb_client_sync_opts_initP21mb_client_sync_opts_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initialises <code class="docutils literal notranslate"><span class="pre">opts</span></code> with the default synchronous settings. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>opts</strong> – Options structure to initialise (must not be NULL). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427mb_client_read_holding_syncP11mb_client_t7uint8_t8uint16_t8uint16_tP8uint16_tPK21mb_client_sync_opts_t">
<span id="_CPPv327mb_client_read_holding_syncP11mb_client_t7uint8_t8uint16_t8uint16_tP8uint16_tPK21mb_client_sync_opts_t"></span><span id="_CPPv227mb_client_read_holding_syncP11mb_client_t7uint8_t8uint16_t8uint16_tP8uint16_tPK21mb_client_sync_opts_t"></span><span id="mb_client_read_holding_sync__mb_client_tP.uint8_t.uint16_t.uint16_t.uint16_tP.mb_client_sync_opts_tCP"></span><span class="target" id="client__sync_8h_1a2812dc78f274df45d5d12ff5be673d0a"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_read_holding_sync</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_registers</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421mb_client_sync_opts_t" title="mb_client_sync_opts_t"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">opts</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427mb_client_read_holding_syncP11mb_client_t7uint8_t8uint16_t8uint16_tP8uint16_tPK21mb_client_sync_opts_t" title="Link to this definition"></a><br /></dt>
<dd><p>Read holding registers using a blocking workflow (FC 0x03). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Initialised Modbus client. </p></li>
<li><p><strong>unit_id</strong> – Target Modbus unit identifier (1-247). </p></li>
<li><p><strong>address</strong> – Starting register address. </p></li>
<li><p><strong>count</strong> – Number of registers to read (1-125). </p></li>
<li><p><strong>out_registers</strong> – Output buffer that can hold <code class="docutils literal notranslate"><span class="pre">count</span></code> registers. </p></li>
<li><p><strong>opts</strong> – Optional synchronous options (pass NULL for defaults).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success or an error code from <a class="reference internal" href="#mb__err_8h_1ad853da11a0b339273b727c045c94f148"><span class="std std-ref">mb_err_t</span></a>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429mb_client_write_register_syncP11mb_client_t7uint8_t8uint16_t8uint16_tPK21mb_client_sync_opts_t">
<span id="_CPPv329mb_client_write_register_syncP11mb_client_t7uint8_t8uint16_t8uint16_tPK21mb_client_sync_opts_t"></span><span id="_CPPv229mb_client_write_register_syncP11mb_client_t7uint8_t8uint16_t8uint16_tPK21mb_client_sync_opts_t"></span><span id="mb_client_write_register_sync__mb_client_tP.uint8_t.uint16_t.uint16_t.mb_client_sync_opts_tCP"></span><span class="target" id="client__sync_8h_1a53c293f0e0354f619599209f26bb1efc"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_write_register_sync</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421mb_client_sync_opts_t" title="mb_client_sync_opts_t"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">opts</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429mb_client_write_register_syncP11mb_client_t7uint8_t8uint16_t8uint16_tPK21mb_client_sync_opts_t" title="Link to this definition"></a><br /></dt>
<dd><p>Write a single holding register (FC 0x06) using a blocking workflow. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Initialised Modbus client. </p></li>
<li><p><strong>unit_id</strong> – Target Modbus unit identifier (1-247). </p></li>
<li><p><strong>address</strong> – Register address to write. </p></li>
<li><p><strong>value</strong> – Value to store. </p></li>
<li><p><strong>opts</strong> – Optional synchronous options (pass NULL for defaults).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success or an error code from <a class="reference internal" href="#mb__err_8h_1ad853da11a0b339273b727c045c94f148"><span class="std std-ref">mb_err_t</span></a>. </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">libmodbus.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;errno.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#modbus-errno_8h"><span class="std std-ref">modbus/compat/modbus-errno.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-context-management">Context management</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414modbus_new_rtuPKcicii">
<span id="_CPPv314modbus_new_rtuPKcicii"></span><span id="_CPPv214modbus_new_rtuPKcicii"></span><span id="modbus_new_rtu__cCP.i.c.i.i"></span><span class="target" id="libmodbus_8h_1a3e78d24b092087367f52d7fabcb0d44a"></span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">modbus_new_rtu</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">device</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">baud</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parity</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">data_bit</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">stop_bit</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414modbus_new_rtuPKcicii" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414modbus_new_tcpPKci">
<span id="_CPPv314modbus_new_tcpPKci"></span><span id="_CPPv214modbus_new_tcpPKci"></span><span id="modbus_new_tcp__cCP.i"></span><span class="target" id="libmodbus_8h_1a2d4c1b9e3d6e9ef50ef93e8003039ee3"></span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">modbus_new_tcp</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ip</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">port</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414modbus_new_tcpPKci" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv411modbus_freeP8modbus_t">
<span id="_CPPv311modbus_freeP8modbus_t"></span><span id="_CPPv211modbus_freeP8modbus_t"></span><span id="modbus_free__modbus_tP"></span><span class="target" id="libmodbus_8h_1a247094db217e5f69a84778eb7a6ac2a9"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_free</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411modbus_freeP8modbus_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414modbus_connectP8modbus_t">
<span id="_CPPv314modbus_connectP8modbus_t"></span><span id="_CPPv214modbus_connectP8modbus_t"></span><span id="modbus_connect__modbus_tP"></span><span class="target" id="libmodbus_8h_1a1f6c049e4c78cf8ed6c337b6082d5e62"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_connect</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414modbus_connectP8modbus_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv412modbus_closeP8modbus_t">
<span id="_CPPv312modbus_closeP8modbus_t"></span><span id="_CPPv212modbus_closeP8modbus_t"></span><span id="modbus_close__modbus_tP"></span><span class="target" id="libmodbus_8h_1acd520c15281fa6da987f04446b4c0360"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_close</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412modbus_closeP8modbus_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-session-configuration">Session configuration</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416modbus_set_slaveP8modbus_ti">
<span id="_CPPv316modbus_set_slaveP8modbus_ti"></span><span id="_CPPv216modbus_set_slaveP8modbus_ti"></span><span id="modbus_set_slave__modbus_tP.i"></span><span class="target" id="libmodbus_8h_1a95465adfa3fbcffdb782d90e45ec94d5"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_set_slave</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">slave</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416modbus_set_slaveP8modbus_ti" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416modbus_get_slaveP8modbus_t">
<span id="_CPPv316modbus_get_slaveP8modbus_t"></span><span id="_CPPv216modbus_get_slaveP8modbus_t"></span><span id="modbus_get_slave__modbus_tP"></span><span class="target" id="libmodbus_8h_1ad24e3a3f97fcb0640ca07347c7c53f21"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_get_slave</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416modbus_get_slaveP8modbus_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427modbus_set_response_timeoutP8modbus_t8uint32_t8uint32_t">
<span id="_CPPv327modbus_set_response_timeoutP8modbus_t8uint32_t8uint32_t"></span><span id="_CPPv227modbus_set_response_timeoutP8modbus_t8uint32_t8uint32_t"></span><span id="modbus_set_response_timeout__modbus_tP.uint32_t.uint32_t"></span><span class="target" id="libmodbus_8h_1a821205aebf42434bf730802130e97edf"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_set_response_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">seconds</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">microseconds</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427modbus_set_response_timeoutP8modbus_t8uint32_t8uint32_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427modbus_get_response_timeoutP8modbus_tP8uint32_tP8uint32_t">
<span id="_CPPv327modbus_get_response_timeoutP8modbus_tP8uint32_tP8uint32_t"></span><span id="_CPPv227modbus_get_response_timeoutP8modbus_tP8uint32_tP8uint32_t"></span><span id="modbus_get_response_timeout__modbus_tP.uint32_tP.uint32_tP"></span><span class="target" id="libmodbus_8h_1af46d9f7181ab83e9c2d91fd71139154b"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_get_response_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">seconds</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">microseconds</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427modbus_get_response_timeoutP8modbus_tP8uint32_tP8uint32_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416modbus_set_debugP8modbus_ti">
<span id="_CPPv316modbus_set_debugP8modbus_ti"></span><span id="_CPPv216modbus_set_debugP8modbus_ti"></span><span id="modbus_set_debug__modbus_tP.i"></span><span class="target" id="libmodbus_8h_1a3426e63a71ea4066488b8c9f5016d6b7"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_set_debug</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">flag</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416modbus_set_debugP8modbus_ti" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-data-access-helpers-(fc-03/06/16)">Data access helpers (FC 03/06/16)</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421modbus_read_registersP8modbus_tiiP8uint16_t">
<span id="_CPPv321modbus_read_registersP8modbus_tiiP8uint16_t"></span><span id="_CPPv221modbus_read_registersP8modbus_tiiP8uint16_t"></span><span id="modbus_read_registers__modbus_tP.i.i.uint16_tP"></span><span class="target" id="libmodbus_8h_1a3947dfcea40733de4044eae5204f906e"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_read_registers</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nb</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dest</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421modbus_read_registersP8modbus_tiiP8uint16_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421modbus_write_registerP8modbus_tii">
<span id="_CPPv321modbus_write_registerP8modbus_tii"></span><span id="_CPPv221modbus_write_registerP8modbus_tii"></span><span id="modbus_write_register__modbus_tP.i.i"></span><span class="target" id="libmodbus_8h_1a56cedf9a28eb5179c5663d73bcf87812"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_write_register</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421modbus_write_registerP8modbus_tii" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422modbus_write_registersP8modbus_tiiPK8uint16_t">
<span id="_CPPv322modbus_write_registersP8modbus_tiiPK8uint16_t"></span><span id="_CPPv222modbus_write_registersP8modbus_tiiPK8uint16_t"></span><span id="modbus_write_registers__modbus_tP.i.i.uint16_tCP"></span><span class="target" id="libmodbus_8h_1a95b46fa5c37790a4503a6b530b5dd5d8"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_write_registers</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nb</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422modbus_write_registersP8modbus_tiiPK8uint16_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv48modbus_t">
<span id="_CPPv38modbus_t"></span><span id="_CPPv28modbus_t"></span><span id="modbus_t"></span><span class="target" id="libmodbus_8h_1a2f22d60afc8b8ce0dd72513f1b87c231"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421modbus_compat_context" title="modbus_compat_context"><span class="n"><span class="pre">modbus_compat_context</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_t</span></span></span><a class="headerlink" href="#_CPPv48modbus_t" title="Link to this definition"></a><br /></dt>
<dd><p>Opaque handle matching libmodbus’ <code class="docutils literal notranslate"><span class="pre">modbus_t</span></code>. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv412modbus_flushP8modbus_t">
<span id="_CPPv312modbus_flushP8modbus_t"></span><span id="_CPPv212modbus_flushP8modbus_t"></span><span id="modbus_flush__modbus_tP"></span><span class="target" id="libmodbus_8h_1ab1a57e72626e4120e009d4bec364ea55"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_flush</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412modbus_flushP8modbus_t" title="Link to this definition"></a><br /></dt>
<dd><p>Compatibility no-op matching libmodbus <code class="docutils literal notranslate"><span class="pre">modbus_flush</span></code>. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415modbus_strerrori">
<span id="_CPPv315modbus_strerrori"></span><span id="_CPPv215modbus_strerrori"></span><span id="modbus_strerror__i"></span><span class="target" id="libmodbus_8h_1a934ff1bb4d1d28f0bcfad5b9a03db37e"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">modbus_strerror</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">errnum</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415modbus_strerrori" title="Link to this definition"></a><br /></dt>
<dd><p>Human-readable error string for both system and Modbus specific errors. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv412modbus_errno">
<span id="_CPPv312modbus_errno"></span><span id="_CPPv212modbus_errno"></span><span id="modbus_errno__i"></span><span class="target" id="libmodbus_8h_1aad78b01debc1065ecec49e6daa015bbe"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_errno</span></span></span><a class="headerlink" href="#_CPPv412modbus_errno" title="Link to this definition"></a><br /></dt>
<dd><p>Global error value mirroring libmodbus’ <code class="docutils literal notranslate"><span class="pre">modbus_errno</span></code> symbol. </p>
<p>This mirrors <code class="docutils literal notranslate"><span class="pre">errno</span></code> but keeps Modbus-specific values (EMB*) even on platforms where the global <code class="docutils literal notranslate"><span class="pre">errno</span></code> is thread-local. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="modbus-errno_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">modbus-errno.h</span></span></dt>
<dd><p>Subset of libmodbus errno constants for compatibility builds. </p>
<p>These values intentionally match libmodbus so that existing applications can keep their error handling logic. They are used together with the public <code class="docutils literal notranslate"><span class="pre">modbus_errno</span></code> symbol and the standard <code class="docutils literal notranslate"><span class="pre">errno</span></code> value. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBXILFUN">
<span class="target" id="modbus-errno_8h_1a8093f5d2182810828ca53d0ead32495f"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBXILFUN</span></span></span><a class="headerlink" href="#c.EMBXILFUN" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBXILADR">
<span class="target" id="modbus-errno_8h_1a1311ca652c6e76625e88584d0813e5dd"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBXILADR</span></span></span><a class="headerlink" href="#c.EMBXILADR" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBXILVAL">
<span class="target" id="modbus-errno_8h_1a85fddfa45010d858d6dcaf9eefa44d19"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBXILVAL</span></span></span><a class="headerlink" href="#c.EMBXILVAL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBXSFAIL">
<span class="target" id="modbus-errno_8h_1acaed7804c5e0ce9b3b873e837bd2926d"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBXSFAIL</span></span></span><a class="headerlink" href="#c.EMBXSFAIL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBXACK">
<span class="target" id="modbus-errno_8h_1a6787ace31f8373c6fe5702cdb1a84dfd"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBXACK</span></span></span><a class="headerlink" href="#c.EMBXACK" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBXSBUSY">
<span class="target" id="modbus-errno_8h_1a47b721a0b769eb727833984fd2439909"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBXSBUSY</span></span></span><a class="headerlink" href="#c.EMBXSBUSY" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBXNACK">
<span class="target" id="modbus-errno_8h_1aa970c9463ba43346d17498a681645ee5"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBXNACK</span></span></span><a class="headerlink" href="#c.EMBXNACK" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBXMEMPAR">
<span class="target" id="modbus-errno_8h_1acdd7217ee609da1972847260c898a8b9"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBXMEMPAR</span></span></span><a class="headerlink" href="#c.EMBXMEMPAR" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBXGPATH">
<span class="target" id="modbus-errno_8h_1a338046e6ef6a9752170ec5c74b506612"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBXGPATH</span></span></span><a class="headerlink" href="#c.EMBXGPATH" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBXGTAR">
<span class="target" id="modbus-errno_8h_1ad55ebe7f542c58e3883ecad92803d244"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBXGTAR</span></span></span><a class="headerlink" href="#c.EMBXGTAR" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBBADCRC">
<span class="target" id="modbus-errno_8h_1af004c7cbc1cff86f9c0b078b3fdcc122"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBBADCRC</span></span></span><a class="headerlink" href="#c.EMBBADCRC" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBBADDATA">
<span class="target" id="modbus-errno_8h_1ada3b9046dcbe4293aade6b8316192886"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBBADDATA</span></span></span><a class="headerlink" href="#c.EMBBADDATA" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBADSLAVE">
<span class="target" id="modbus-errno_8h_1a0d3edb450980f70cda2582d932c34b17"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBADSLAVE</span></span></span><a class="headerlink" href="#c.EMBADSLAVE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBMDATA">
<span class="target" id="modbus-errno_8h_1ae22ffcbd33758929b67559f49b8a0a14"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBMDATA</span></span></span><a class="headerlink" href="#c.EMBMDATA" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBEDATA">
<span class="target" id="modbus-errno_8h_1a96ab60f8ead944d5ddc7595feb46bdf9"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBEDATA</span></span></span><a class="headerlink" href="#c.EMBEDATA" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBEBUSY">
<span class="target" id="modbus-errno_8h_1a64aa3f807bf8c36c7bbab7a7001bf926"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBEBUSY</span></span></span><a class="headerlink" href="#c.EMBEBUSY" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBETIMEDOUT">
<span class="target" id="modbus-errno_8h_1a1ac27f4de72caa6a3a5e6b8013b8ebcc"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBETIMEDOUT</span></span></span><a class="headerlink" href="#c.EMBETIMEDOUT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBECONNRESET">
<span class="target" id="modbus-errno_8h_1a4e6acd04f8c37b1bc34e90fc199206e3"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBECONNRESET</span></span></span><a class="headerlink" href="#c.EMBECONNRESET" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.EMBEILLSTATE">
<span class="target" id="modbus-errno_8h_1a5eb1373d27e56bd80759e4b90a205fef"></span><span class="sig-name descname"><span class="n"><span class="pre">EMBEILLSTATE</span></span></span><a class="headerlink" href="#c.EMBEILLSTATE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="conf_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">conf.h</span></span></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_BUILD_CLIENT">
<span class="target" id="conf_8h_1ab81c3ae8c0e9c6fa9240b6ab9f5d3967"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_BUILD_CLIENT</span></span></span><a class="headerlink" href="#c.MB_CONF_BUILD_CLIENT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_BUILD_SERVER">
<span class="target" id="conf_8h_1ab7824e44ba777a19caf58244dc7a7a7a"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_BUILD_SERVER</span></span></span><a class="headerlink" href="#c.MB_CONF_BUILD_SERVER" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_TRANSPORT_RTU">
<span class="target" id="conf_8h_1a695863622d38922a3cf4482d19973a51"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_TRANSPORT_RTU</span></span></span><a class="headerlink" href="#c.MB_CONF_TRANSPORT_RTU" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_TRANSPORT_ASCII">
<span class="target" id="conf_8h_1a97e64996ac7523f453a2d068608d3ec3"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_TRANSPORT_ASCII</span></span></span><a class="headerlink" href="#c.MB_CONF_TRANSPORT_ASCII" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_TRANSPORT_TCP">
<span class="target" id="conf_8h_1a86711efe4bcf344fd8721ab440081d32"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_TRANSPORT_TCP</span></span></span><a class="headerlink" href="#c.MB_CONF_TRANSPORT_TCP" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_PROFILE_TINY">
<span class="target" id="conf_8h_1a538529fd73571433f0ab387e3964ec30"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_PROFILE_TINY</span></span></span><a class="headerlink" href="#c.MB_CONF_PROFILE_TINY" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_PROFILE_LEAN">
<span class="target" id="conf_8h_1a0236e3d2880df409eb4956d2e8349cf9"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_PROFILE_LEAN</span></span></span><a class="headerlink" href="#c.MB_CONF_PROFILE_LEAN" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_PROFILE_FULL">
<span class="target" id="conf_8h_1a90a123a92c26750a1dfd29aee5a0184f"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_PROFILE_FULL</span></span></span><a class="headerlink" href="#c.MB_CONF_PROFILE_FULL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_PROFILE_CUSTOM">
<span class="target" id="conf_8h_1a9359301c08b4c7a322a8d296e336c626"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_PROFILE_CUSTOM</span></span></span><a class="headerlink" href="#c.MB_CONF_PROFILE_CUSTOM" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_PROFILE">
<span class="target" id="conf_8h_1a652a1cb497d9f62cd6f48a32a9978908"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_PROFILE</span></span></span><a class="headerlink" href="#c.MB_CONF_PROFILE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC01">
<span class="target" id="conf_8h_1ab2b3b308b5d2e6e962fe5d94dc2d1d3b"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC01</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC01" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC02">
<span class="target" id="conf_8h_1a72cfdcc0d98459a8420dac950bb156b0"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC02</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC02" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC03">
<span class="target" id="conf_8h_1afcb3411fd04d4459ea2774eac3700263"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC03</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC03" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC04">
<span class="target" id="conf_8h_1a2ede1b6a602511b966c7cc208b5ba38d"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC04</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC04" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC05">
<span class="target" id="conf_8h_1a68124fc6af3e0b7d44343493a87ea62e"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC05</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC05" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC06">
<span class="target" id="conf_8h_1af248309484c868cb166935a85a3416ba"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC06</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC06" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC07">
<span class="target" id="conf_8h_1a6ed96b5605b5a7e87112b9c706b04915"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC07</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC07" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC0F">
<span class="target" id="conf_8h_1a09281e3462e18a240d9a1d4d558e6877"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC0F</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC0F" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC10">
<span class="target" id="conf_8h_1a3709c16962a2883b08c463854bbb4e7b"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC10</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC10" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC11">
<span class="target" id="conf_8h_1a4fde364e32d3eae508b1531b8bee5e94"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC11</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC11" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC16">
<span class="target" id="conf_8h_1a029dfb363817f6bfe1ad4aac87fee0a1"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC16</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC16" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_FC17">
<span class="target" id="conf_8h_1ae72847b6a2ba9578bba83c7c2c2835db"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_FC17</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_FC17" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_DIAG_ENABLE_COUNTERS">
<span class="target" id="conf_8h_1a6792e99a1f380a7929e722ebeae33176"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_DIAG_ENABLE_COUNTERS</span></span></span><a class="headerlink" href="#c.MB_CONF_DIAG_ENABLE_COUNTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_DIAG_ENABLE_TRACE">
<span class="target" id="conf_8h_1ae08804ec3932f4e631bf5a00fb9dda3c"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_DIAG_ENABLE_TRACE</span></span></span><a class="headerlink" href="#c.MB_CONF_DIAG_ENABLE_TRACE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_DIAG_TRACE_DEPTH">
<span class="target" id="conf_8h_1a93f46b8809f7c2f2a388c8c2aa2ae650"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_DIAG_TRACE_DEPTH</span></span></span><a class="headerlink" href="#c.MB_CONF_DIAG_TRACE_DEPTH" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_POWER_MANAGEMENT">
<span class="target" id="conf_8h_1ab9e3dde6b4e765d4ea192570da7a65ba"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_POWER_MANAGEMENT</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_POWER_MANAGEMENT" title="Link to this definition"></a><br /></dt>
<dd><p>Enable power management and idle callbacks (Gate 27) </p>
<p>When enabled, provides:<ul class="simple">
<li><p>Idle detection</p></li>
<li><p>Callback when idle &gt; threshold</p></li>
<li><p>Support for low-power modes and tickless RTOS</p></li>
</ul>
</p>
<p>Cost: ~64 bytes RAM per client/server instance </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_COMPAT_LIBMODBUS">
<span class="target" id="conf_8h_1a42a211c8210e30c99f66100c8f3e7e39"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_COMPAT_LIBMODBUS</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_COMPAT_LIBMODBUS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_ENABLED">
<span class="target" id="conf_8h_1a370d64f5c8688d8cbe9f87acc0273e9f"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_ENABLED</span></span></span><a class="headerlink" href="#c.LOG_ENABLED" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MAX_SIZE_HOLDING_REGISTERS">
<span class="target" id="conf_8h_1a21b90a30317060d8abda2d365379f6ad"></span><span class="sig-name descname"><span class="n"><span class="pre">MAX_SIZE_HOLDING_REGISTERS</span></span></span><a class="headerlink" href="#c.MAX_SIZE_HOLDING_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd><p>Maximum size of holding registers array in the server. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MAX_ADDRESS_HOLDING_REGISTERS">
<span class="target" id="conf_8h_1aa663896a694130fc9d102e56b947edbc"></span><span class="sig-name descname"><span class="n"><span class="pre">MAX_ADDRESS_HOLDING_REGISTERS</span></span></span><a class="headerlink" href="#c.MAX_ADDRESS_HOLDING_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd><p>Maximum address for holding registers. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MODBUS_MAX_READ_WRITE_SIZE">
<span class="target" id="conf_8h_1a8a5e715f58a2c473906ec6b611e86343"></span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_MAX_READ_WRITE_SIZE</span></span></span><a class="headerlink" href="#c.MODBUS_MAX_READ_WRITE_SIZE" title="Link to this definition"></a><br /></dt>
<dd><p>Maximum number of registers that can be read or written at once. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MAX_DEVICE_PACKAGES">
<span class="target" id="conf_8h_1a7d936a03ca3318434b5600a625b1fc5e"></span><span class="sig-name descname"><span class="n"><span class="pre">MAX_DEVICE_PACKAGES</span></span></span><a class="headerlink" href="#c.MAX_DEVICE_PACKAGES" title="Link to this definition"></a><br /></dt>
<dd><p>Maximum device info packages in server mode. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MAX_DEVICE_PACKAGE_VALUES">
<span class="target" id="conf_8h_1a9369d097dfc95d9b77940965dfb9686a"></span><span class="sig-name descname"><span class="n"><span class="pre">MAX_DEVICE_PACKAGE_VALUES</span></span></span><a class="headerlink" href="#c.MAX_DEVICE_PACKAGE_VALUES" title="Link to this definition"></a><br /></dt>
<dd><p>Maximum length of each device info package. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MODBUS_BAUDRATE">
<span class="target" id="conf_8h_1a17ab94caddcba93140f1ef933e476813"></span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_BAUDRATE</span></span></span><a class="headerlink" href="#c.MODBUS_BAUDRATE" title="Link to this definition"></a><br /></dt>
<dd><p>Default Modbus baudrate (for RTU). </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_IOVEC_STATS">
<span class="target" id="conf_8h_1a3c02800db0bfe6e601e9f75466017bd8"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_IOVEC_STATS</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_IOVEC_STATS" title="Link to this definition"></a><br /></dt>
<dd><p>Enable zero-copy IO statistics tracking. </p>
<p>When enabled, tracks memcpy vs zero-copy operations for performance analysis. Useful for testing and optimization, but adds small overhead. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MODBUS_RECEIVE_BUFFER_SIZE">
<span class="target" id="conf_8h_1a4acc792327999e9e7fa0404cf1194b78"></span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_RECEIVE_BUFFER_SIZE</span></span></span><a class="headerlink" href="#c.MODBUS_RECEIVE_BUFFER_SIZE" title="Link to this definition"></a><br /></dt>
<dd><p>Size of receive and transmit buffers. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MODBUS_SEND_BUFFER_SIZE">
<span class="target" id="conf_8h_1abc6db27b86001ff089376ad25d542a2d"></span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_SEND_BUFFER_SIZE</span></span></span><a class="headerlink" href="#c.MODBUS_SEND_BUFFER_SIZE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MASTER_DEFAULT_TIMEOUT_MS">
<span class="target" id="conf_8h_1af594d3ee58a54b23cc437104ca630a31"></span><span class="sig-name descname"><span class="n"><span class="pre">MASTER_DEFAULT_TIMEOUT_MS</span></span></span><a class="headerlink" href="#c.MASTER_DEFAULT_TIMEOUT_MS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_TCP_MAX_CONNECTIONS">
<span class="target" id="conf_8h_1a9d96df902a660c8ee81cc3320b8b6a67"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_TCP_MAX_CONNECTIONS</span></span></span><a class="headerlink" href="#c.MB_TCP_MAX_CONNECTIONS" title="Link to this definition"></a><br /></dt>
<dd><p>Maximum number of simultaneous Modbus TCP connections handled by helper utilities. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_CLIENT_POLL_BUDGET_STEPS">
<span class="target" id="conf_8h_1a77ed0dd00e07bc23631c71e8e8920ebf"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_CLIENT_POLL_BUDGET_STEPS</span></span></span><a class="headerlink" href="#c.MB_CONF_CLIENT_POLL_BUDGET_STEPS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_SERVER_POLL_BUDGET_STEPS">
<span class="target" id="conf_8h_1a052070137ea5d6a4b2b60680db0c549d"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_SERVER_POLL_BUDGET_STEPS</span></span></span><a class="headerlink" href="#c.MB_CONF_SERVER_POLL_BUDGET_STEPS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_CLIENT_SUBSTATE_DEADLINE_MS">
<span class="target" id="conf_8h_1ac96926b0d5ba873a935a81a466044baa"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_CLIENT_SUBSTATE_DEADLINE_MS</span></span></span><a class="headerlink" href="#c.MB_CONF_CLIENT_SUBSTATE_DEADLINE_MS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_SERVER_SUBSTATE_DEADLINE_MS">
<span class="target" id="conf_8h_1ad2495ebbd9839fddaa48fdecf417a19d"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_SERVER_SUBSTATE_DEADLINE_MS</span></span></span><a class="headerlink" href="#c.MB_CONF_SERVER_SUBSTATE_DEADLINE_MS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_CLIENT_POLL_HOOK">
<span class="target" id="conf_8h_1af458af8c8c920d9817c6d31b4e5c5aab"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_CLIENT_POLL_HOOK</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">client_ptr</span></span>, <span class="n"><span class="pre">phase</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_CONF_CLIENT_POLL_HOOK" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_SERVER_POLL_HOOK">
<span class="target" id="conf_8h_1ad8faafb5bcff87dd7c3d3798c7cabf0a"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_SERVER_POLL_HOOK</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">server_ptr</span></span>, <span class="n"><span class="pre">phase</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_CONF_SERVER_POLL_HOOK" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_ISR_MODE">
<span class="target" id="conf_8h_1a3b693c6f54f32e6f1c44ef1c29af05d7"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_ISR_MODE</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_ISR_MODE" title="Link to this definition"></a><br /></dt>
<dd><p>Enable ISR-safe mode for fast half-duplex turnaround. </p>
<p>When enabled, provides <a class="reference internal" href="#mb__isr_8h_1ae92d8737cbe6d8f7be7cf39665c80e2e"><span class="std std-ref">mb_on_rx_chunk_from_isr()</span></a> and <a class="reference internal" href="#mb__isr_8h_1ae368c71684724e04c821831d27dae766"><span class="std std-ref">mb_try_tx_from_isr()</span></a> for minimal latency RX→TX transitions (&lt;100µs target). </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ISR_SUPPRESS_LOGGING">
<span class="target" id="conf_8h_1aee0ff602259f1ad5d30901b93ab5a8ca"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ISR_SUPPRESS_LOGGING</span></span></span><a class="headerlink" href="#c.MB_CONF_ISR_SUPPRESS_LOGGING" title="Link to this definition"></a><br /></dt>
<dd><p>Suppress heavy logging in ISR context. </p>
<p>When enabled, <a class="reference internal" href="#mb__isr_8h_1adf4d1c64d77a6ec6b57ab1866b1f081b"><span class="std std-ref">MB_ISR_SAFE_LOG()</span></a> becomes a no-op in ISR context to minimize interrupt latency. Critical errors may still be logged. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_ASSERTIONS">
<span class="target" id="conf_8h_1afa7ac006727c4944c07bfe453652a06a"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_ASSERTIONS</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_ASSERTIONS" title="Link to this definition"></a><br /></dt>
<dd><p>Enable runtime assertions (including MB_ASSERT_NOT_ISR). </p>
<p>Disable in production for minimal overhead. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_ENABLE_QOS">
<span class="target" id="conf_8h_1adb428887aecf6ba78f10f4956007d493"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_ENABLE_QOS</span></span></span><a class="headerlink" href="#c.MB_CONF_ENABLE_QOS" title="Link to this definition"></a><br /></dt>
<dd><p>Enable Quality of Service (QoS) and backpressure management. </p>
<p>When enabled, provides priority-aware queue management to prevent head-of-line blocking and ensure critical transactions meet latency targets. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_QOS_HIGH_QUEUE_CAPACITY">
<span class="target" id="conf_8h_1af39d5fb06c16e75882593aeab85b9944"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_QOS_HIGH_QUEUE_CAPACITY</span></span></span><a class="headerlink" href="#c.MB_CONF_QOS_HIGH_QUEUE_CAPACITY" title="Link to this definition"></a><br /></dt>
<dd><p>Default high priority queue capacity. </p>
<p>Size of the high priority (critical) transaction queue. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CONF_QOS_NORMAL_QUEUE_CAPACITY">
<span class="target" id="conf_8h_1a9373cbb5204a48e2531f03fbf26fd0cf"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_QOS_NORMAL_QUEUE_CAPACITY</span></span></span><a class="headerlink" href="#c.MB_CONF_QOS_NORMAL_QUEUE_CAPACITY" title="Link to this definition"></a><br /></dt>
<dd><p>Default normal priority queue capacity. </p>
<p>Size of the normal priority (best-effort) transaction queue. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv427mb_conf_client_poll_phase_t">
<span id="_CPPv327mb_conf_client_poll_phase_t"></span><span id="_CPPv227mb_conf_client_poll_phase_t"></span><span id="mb_conf_client_poll_phase_t"></span><span class="target" id="conf_8h_1a5898283b749f89ac28f83537d60964c3"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv425mb_conf_client_poll_phase" title="mb_conf_client_poll_phase"><span class="n"><span class="pre">mb_conf_client_poll_phase</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_conf_client_poll_phase_t</span></span></span><a class="headerlink" href="#_CPPv427mb_conf_client_poll_phase_t" title="Link to this definition"></a><br /></dt>
<dd><p>If you want to enable or disable certain functions, you can define macros here. For example: #define ENABLE_BOOTLOADER 1. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv427mb_conf_server_poll_phase_t">
<span id="_CPPv327mb_conf_server_poll_phase_t"></span><span id="_CPPv227mb_conf_server_poll_phase_t"></span><span id="mb_conf_server_poll_phase_t"></span><span class="target" id="conf_8h_1a609ed6a2aec78f03cbc57018e6ae0ed1"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv425mb_conf_server_poll_phase" title="mb_conf_server_poll_phase"><span class="n"><span class="pre">mb_conf_server_poll_phase</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_conf_server_poll_phase_t</span></span></span><a class="headerlink" href="#_CPPv427mb_conf_server_poll_phase_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv425mb_conf_client_poll_phase">
<span id="_CPPv325mb_conf_client_poll_phase"></span><span id="_CPPv225mb_conf_client_poll_phase"></span><span class="target" id="conf_8h_1a1fc738ceac2891bcacd87bb000d10540"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_conf_client_poll_phase</span></span></span><a class="headerlink" href="#_CPPv425mb_conf_client_poll_phase" title="Link to this definition"></a><br /></dt>
<dd><p>If you want to enable or disable certain functions, you can define macros here. For example: #define ENABLE_BOOTLOADER 1. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N25mb_conf_client_poll_phase31MB_CONF_CLIENT_POLL_PHASE_ENTERE">
<span id="_CPPv3N25mb_conf_client_poll_phase31MB_CONF_CLIENT_POLL_PHASE_ENTERE"></span><span id="_CPPv2N25mb_conf_client_poll_phase31MB_CONF_CLIENT_POLL_PHASE_ENTERE"></span><span class="target" id="conf_8h_1a1fc738ceac2891bcacd87bb000d10540a5306f25a013ceba502d260846f5c5cd8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_CLIENT_POLL_PHASE_ENTER</span></span></span><a class="headerlink" href="#_CPPv4N25mb_conf_client_poll_phase31MB_CONF_CLIENT_POLL_PHASE_ENTERE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N25mb_conf_client_poll_phase41MB_CONF_CLIENT_POLL_PHASE_AFTER_TRANSPORTE">
<span id="_CPPv3N25mb_conf_client_poll_phase41MB_CONF_CLIENT_POLL_PHASE_AFTER_TRANSPORTE"></span><span id="_CPPv2N25mb_conf_client_poll_phase41MB_CONF_CLIENT_POLL_PHASE_AFTER_TRANSPORTE"></span><span class="target" id="conf_8h_1a1fc738ceac2891bcacd87bb000d10540a451f5e3d3cd50c8690fcd9671947b5a5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_CLIENT_POLL_PHASE_AFTER_TRANSPORT</span></span></span><a class="headerlink" href="#_CPPv4N25mb_conf_client_poll_phase41MB_CONF_CLIENT_POLL_PHASE_AFTER_TRANSPORTE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N25mb_conf_client_poll_phase37MB_CONF_CLIENT_POLL_PHASE_AFTER_STATEE">
<span id="_CPPv3N25mb_conf_client_poll_phase37MB_CONF_CLIENT_POLL_PHASE_AFTER_STATEE"></span><span id="_CPPv2N25mb_conf_client_poll_phase37MB_CONF_CLIENT_POLL_PHASE_AFTER_STATEE"></span><span class="target" id="conf_8h_1a1fc738ceac2891bcacd87bb000d10540afef7644fb511a7aa87342396305c3024"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_CLIENT_POLL_PHASE_AFTER_STATE</span></span></span><a class="headerlink" href="#_CPPv4N25mb_conf_client_poll_phase37MB_CONF_CLIENT_POLL_PHASE_AFTER_STATEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N25mb_conf_client_poll_phase30MB_CONF_CLIENT_POLL_PHASE_EXITE">
<span id="_CPPv3N25mb_conf_client_poll_phase30MB_CONF_CLIENT_POLL_PHASE_EXITE"></span><span id="_CPPv2N25mb_conf_client_poll_phase30MB_CONF_CLIENT_POLL_PHASE_EXITE"></span><span class="target" id="conf_8h_1a1fc738ceac2891bcacd87bb000d10540abd799808c7c0a41ecde0c23fdc649cf2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_CLIENT_POLL_PHASE_EXIT</span></span></span><a class="headerlink" href="#_CPPv4N25mb_conf_client_poll_phase30MB_CONF_CLIENT_POLL_PHASE_EXITE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv425mb_conf_server_poll_phase">
<span id="_CPPv325mb_conf_server_poll_phase"></span><span id="_CPPv225mb_conf_server_poll_phase"></span><span class="target" id="conf_8h_1ab93ffb1a2625679e466e2dcba5f6ad96"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_conf_server_poll_phase</span></span></span><a class="headerlink" href="#_CPPv425mb_conf_server_poll_phase" title="Link to this definition"></a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N25mb_conf_server_poll_phase31MB_CONF_SERVER_POLL_PHASE_ENTERE">
<span id="_CPPv3N25mb_conf_server_poll_phase31MB_CONF_SERVER_POLL_PHASE_ENTERE"></span><span id="_CPPv2N25mb_conf_server_poll_phase31MB_CONF_SERVER_POLL_PHASE_ENTERE"></span><span class="target" id="conf_8h_1ab93ffb1a2625679e466e2dcba5f6ad96a1bfdc40f543dc6bb94e7107513d97bfd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_SERVER_POLL_PHASE_ENTER</span></span></span><a class="headerlink" href="#_CPPv4N25mb_conf_server_poll_phase31MB_CONF_SERVER_POLL_PHASE_ENTERE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N25mb_conf_server_poll_phase41MB_CONF_SERVER_POLL_PHASE_AFTER_TRANSPORTE">
<span id="_CPPv3N25mb_conf_server_poll_phase41MB_CONF_SERVER_POLL_PHASE_AFTER_TRANSPORTE"></span><span id="_CPPv2N25mb_conf_server_poll_phase41MB_CONF_SERVER_POLL_PHASE_AFTER_TRANSPORTE"></span><span class="target" id="conf_8h_1ab93ffb1a2625679e466e2dcba5f6ad96a2c8cb55544de0f1175ee72b2269ca121"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_SERVER_POLL_PHASE_AFTER_TRANSPORT</span></span></span><a class="headerlink" href="#_CPPv4N25mb_conf_server_poll_phase41MB_CONF_SERVER_POLL_PHASE_AFTER_TRANSPORTE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N25mb_conf_server_poll_phase37MB_CONF_SERVER_POLL_PHASE_AFTER_STATEE">
<span id="_CPPv3N25mb_conf_server_poll_phase37MB_CONF_SERVER_POLL_PHASE_AFTER_STATEE"></span><span id="_CPPv2N25mb_conf_server_poll_phase37MB_CONF_SERVER_POLL_PHASE_AFTER_STATEE"></span><span class="target" id="conf_8h_1ab93ffb1a2625679e466e2dcba5f6ad96a7e1f10e6f250e003e3cf5ee907d43914"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_SERVER_POLL_PHASE_AFTER_STATE</span></span></span><a class="headerlink" href="#_CPPv4N25mb_conf_server_poll_phase37MB_CONF_SERVER_POLL_PHASE_AFTER_STATEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N25mb_conf_server_poll_phase30MB_CONF_SERVER_POLL_PHASE_EXITE">
<span id="_CPPv3N25mb_conf_server_poll_phase30MB_CONF_SERVER_POLL_PHASE_EXITE"></span><span id="_CPPv2N25mb_conf_server_poll_phase30MB_CONF_SERVER_POLL_PHASE_EXITE"></span><span class="target" id="conf_8h_1ab93ffb1a2625679e466e2dcba5f6ad96ac6284e9d1bee7f8c3897bb309beb9b06"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_CONF_SERVER_POLL_PHASE_EXIT</span></span></span><a class="headerlink" href="#_CPPv4N25mb_conf_server_poll_phase30MB_CONF_SERVER_POLL_PHASE_EXITE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="core_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">core.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#base_8h"><span class="std std-ref">modbus/base.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#utils_8h"><span class="std std-ref">modbus/utils.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-unnamed-group">Unnamed Group</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv422modbus_function_code_t">
<span id="_CPPv322modbus_function_code_t"></span><span id="_CPPv222modbus_function_code_t"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aea"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_function_code_t</span></span></span><a class="headerlink" href="#_CPPv422modbus_function_code_t" title="Link to this definition"></a><br /></dt>
<dd><p>Common Modbus function codes (subset). </p>
<p>&lt; For <a class="reference internal" href="#structmodbus__context__t"><span class="std std-ref">modbus_context_t</span></a>, modbus_error_t, etc. &lt; For safe reads from buffers, etc. </p>
<p>More can be added as needed. Both Client and Server might reference these. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22modbus_function_code_t22MODBUS_FUNC_READ_COILSE">
<span id="_CPPv3N22modbus_function_code_t22MODBUS_FUNC_READ_COILSE"></span><span id="_CPPv2N22modbus_function_code_t22MODBUS_FUNC_READ_COILSE"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aeaa4598a18a3ed10029f0d737910742665b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_FUNC_READ_COILS</span></span></span><a class="headerlink" href="#_CPPv4N22modbus_function_code_t22MODBUS_FUNC_READ_COILSE" title="Link to this definition"></a><br /></dt>
<dd><p>Read Coils </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22modbus_function_code_t32MODBUS_FUNC_READ_DISCRETE_INPUTSE">
<span id="_CPPv3N22modbus_function_code_t32MODBUS_FUNC_READ_DISCRETE_INPUTSE"></span><span id="_CPPv2N22modbus_function_code_t32MODBUS_FUNC_READ_DISCRETE_INPUTSE"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aeaaf3e8cd640e49240446a1f1836cc45a2d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_FUNC_READ_DISCRETE_INPUTS</span></span></span><a class="headerlink" href="#_CPPv4N22modbus_function_code_t32MODBUS_FUNC_READ_DISCRETE_INPUTSE" title="Link to this definition"></a><br /></dt>
<dd><p>Read Discrete Inputs </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22modbus_function_code_t34MODBUS_FUNC_READ_HOLDING_REGISTERSE">
<span id="_CPPv3N22modbus_function_code_t34MODBUS_FUNC_READ_HOLDING_REGISTERSE"></span><span id="_CPPv2N22modbus_function_code_t34MODBUS_FUNC_READ_HOLDING_REGISTERSE"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aeaa45071a1751fc71d424b7b639b03a4377"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_FUNC_READ_HOLDING_REGISTERS</span></span></span><a class="headerlink" href="#_CPPv4N22modbus_function_code_t34MODBUS_FUNC_READ_HOLDING_REGISTERSE" title="Link to this definition"></a><br /></dt>
<dd><p>Read Holding Registers </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22modbus_function_code_t32MODBUS_FUNC_READ_INPUT_REGISTERSE">
<span id="_CPPv3N22modbus_function_code_t32MODBUS_FUNC_READ_INPUT_REGISTERSE"></span><span id="_CPPv2N22modbus_function_code_t32MODBUS_FUNC_READ_INPUT_REGISTERSE"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aeaaab05d32aceb3c827836f280df505bf58"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_FUNC_READ_INPUT_REGISTERS</span></span></span><a class="headerlink" href="#_CPPv4N22modbus_function_code_t32MODBUS_FUNC_READ_INPUT_REGISTERSE" title="Link to this definition"></a><br /></dt>
<dd><p>Read Input Registers </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22modbus_function_code_t29MODBUS_FUNC_WRITE_SINGLE_COILE">
<span id="_CPPv3N22modbus_function_code_t29MODBUS_FUNC_WRITE_SINGLE_COILE"></span><span id="_CPPv2N22modbus_function_code_t29MODBUS_FUNC_WRITE_SINGLE_COILE"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aeaa360c67c26b8153976f30645d54efc775"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_FUNC_WRITE_SINGLE_COIL</span></span></span><a class="headerlink" href="#_CPPv4N22modbus_function_code_t29MODBUS_FUNC_WRITE_SINGLE_COILE" title="Link to this definition"></a><br /></dt>
<dd><p>Write Single Coil </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22modbus_function_code_t33MODBUS_FUNC_WRITE_SINGLE_REGISTERE">
<span id="_CPPv3N22modbus_function_code_t33MODBUS_FUNC_WRITE_SINGLE_REGISTERE"></span><span id="_CPPv2N22modbus_function_code_t33MODBUS_FUNC_WRITE_SINGLE_REGISTERE"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aeaa9fafa7e8ac52121d0f458f635e9c21cc"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_FUNC_WRITE_SINGLE_REGISTER</span></span></span><a class="headerlink" href="#_CPPv4N22modbus_function_code_t33MODBUS_FUNC_WRITE_SINGLE_REGISTERE" title="Link to this definition"></a><br /></dt>
<dd><p>Write Single Register </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22modbus_function_code_t32MODBUS_FUNC_WRITE_MULTIPLE_COILSE">
<span id="_CPPv3N22modbus_function_code_t32MODBUS_FUNC_WRITE_MULTIPLE_COILSE"></span><span id="_CPPv2N22modbus_function_code_t32MODBUS_FUNC_WRITE_MULTIPLE_COILSE"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aeaac3e9649d67842707cf6de09e513bc0fe"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_FUNC_WRITE_MULTIPLE_COILS</span></span></span><a class="headerlink" href="#_CPPv4N22modbus_function_code_t32MODBUS_FUNC_WRITE_MULTIPLE_COILSE" title="Link to this definition"></a><br /></dt>
<dd><p>Write Multiple Coils </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22modbus_function_code_t36MODBUS_FUNC_WRITE_MULTIPLE_REGISTERSE">
<span id="_CPPv3N22modbus_function_code_t36MODBUS_FUNC_WRITE_MULTIPLE_REGISTERSE"></span><span id="_CPPv2N22modbus_function_code_t36MODBUS_FUNC_WRITE_MULTIPLE_REGISTERSE"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aeaa894ba7dc5dc8061c14150b4cfaddb3cb"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_FUNC_WRITE_MULTIPLE_REGISTERS</span></span></span><a class="headerlink" href="#_CPPv4N22modbus_function_code_t36MODBUS_FUNC_WRITE_MULTIPLE_REGISTERSE" title="Link to this definition"></a><br /></dt>
<dd><p>Write Multiple Registers </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22modbus_function_code_t41MODBUS_FUNC_READ_WRITE_MULTIPLE_REGISTERSE">
<span id="_CPPv3N22modbus_function_code_t41MODBUS_FUNC_READ_WRITE_MULTIPLE_REGISTERSE"></span><span id="_CPPv2N22modbus_function_code_t41MODBUS_FUNC_READ_WRITE_MULTIPLE_REGISTERSE"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aeaa8c1146ac9743d14676d0a4901c0804f3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_FUNC_READ_WRITE_MULTIPLE_REGISTERS</span></span></span><a class="headerlink" href="#_CPPv4N22modbus_function_code_t41MODBUS_FUNC_READ_WRITE_MULTIPLE_REGISTERSE" title="Link to this definition"></a><br /></dt>
<dd><p>Read/Write Multiple Registers </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22modbus_function_code_t35MODBUS_FUNC_READ_DEVICE_INFORMATIONE">
<span id="_CPPv3N22modbus_function_code_t35MODBUS_FUNC_READ_DEVICE_INFORMATIONE"></span><span id="_CPPv2N22modbus_function_code_t35MODBUS_FUNC_READ_DEVICE_INFORMATIONE"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aeaa0581a9ba617ff9c3ad14392fa1cae38f"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_FUNC_READ_DEVICE_INFORMATION</span></span></span><a class="headerlink" href="#_CPPv4N22modbus_function_code_t35MODBUS_FUNC_READ_DEVICE_INFORMATIONE" title="Link to this definition"></a><br /></dt>
<dd><p>Read Device Information </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N22modbus_function_code_t30MODBUS_FUNC_ERROR_FRAME_HEADERE">
<span id="_CPPv3N22modbus_function_code_t30MODBUS_FUNC_ERROR_FRAME_HEADERE"></span><span id="_CPPv2N22modbus_function_code_t30MODBUS_FUNC_ERROR_FRAME_HEADERE"></span><span class="target" id="core_8h_1a4168fc2b8595a5317172d26481ca9aeaa72bee76a894e3e7d3657545f7e279013"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_FUNC_ERROR_FRAME_HEADER</span></span></span><a class="headerlink" href="#_CPPv4N22modbus_function_code_t30MODBUS_FUNC_ERROR_FRAME_HEADERE" title="Link to this definition"></a><br /></dt>
<dd><p>Used to indicate an error response. </p>
</dd></dl>

</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424modbus_is_error_response7uint8_t">
<span id="_CPPv324modbus_is_error_response7uint8_t"></span><span id="_CPPv224modbus_is_error_response7uint8_t"></span><span id="modbus_is_error_response__uint8_t"></span><span class="target" id="core_8h_1a1d3b3c9cf61919053a6a62a44469627c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_is_error_response</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">function_code</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424modbus_is_error_response7uint8_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425modbus_exception_to_error7uint8_t">
<span id="_CPPv325modbus_exception_to_error7uint8_t"></span><span id="_CPPv225modbus_exception_to_error7uint8_t"></span><span id="modbus_exception_to_error__uint8_t"></span><span class="target" id="core_8h_1a94862c52e2fcb8c653b1758d0d37986a"></span><a class="reference internal" href="#_CPPv414modbus_error_t" title="modbus_error_t"><span class="n"><span class="pre">modbus_error_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_exception_to_error</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">exception_code</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425modbus_exception_to_error7uint8_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420modbus_reset_buffersP16modbus_context_t">
<span id="_CPPv320modbus_reset_buffersP16modbus_context_t"></span><span id="_CPPv220modbus_reset_buffersP16modbus_context_t"></span><span id="modbus_reset_buffers__modbus_context_tP"></span><span class="target" id="core_8h_1ad3fb808adca47fc86efcca19042f38c3"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_reset_buffers</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416modbus_context_t" title="modbus_context_t"><span class="n"><span class="pre">modbus_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420modbus_reset_buffersP16modbus_context_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dup__filter_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">dup_filter.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<p>Duplicate frame filtering for robust Modbus communication. </p>
<p>Detects and filters duplicate frames caused by retransmissions, line reflections, or network loops using lightweight ADU hashing.</p>
<p>Copyright (c) 2025 ModbusCore SPDX-License-Identifier: MIT </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_DUP_WINDOW_SIZE">
<span class="target" id="dup__filter_8h_1a19ae58f7baf8939a51edf4da0a6839af"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_DUP_WINDOW_SIZE</span></span></span><a class="headerlink" href="#c.MB_DUP_WINDOW_SIZE" title="Link to this definition"></a><br /></dt>
<dd><p>Duplicate detection window size. </p>
<p>Number of recent frame hashes to track. Larger values increase RAM but catch more duplicates. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_DUP_WINDOW_MS">
<span class="target" id="dup__filter_8h_1ab5c998ec5d6377b68e4ae07b7c460872"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_DUP_WINDOW_MS</span></span></span><a class="headerlink" href="#c.MB_DUP_WINDOW_MS" title="Link to this definition"></a><br /></dt>
<dd><p>Duplicate time window (milliseconds) </p>
<p>Frames within this time window are checked for duplicates. Frames older than this are aged out automatically. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_dup_filter_initP15mb_dup_filter_t8uint32_t">
<span id="_CPPv318mb_dup_filter_initP15mb_dup_filter_t8uint32_t"></span><span id="_CPPv218mb_dup_filter_initP15mb_dup_filter_t8uint32_t"></span><span id="mb_dup_filter_init__mb_dup_filter_tP.uint32_t"></span><span class="target" id="dup__filter_8h_1a28b6e274bb5e598ec6161a3eacb4b74c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">window_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_dup_filter_initP15mb_dup_filter_t8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize duplicate filter. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Duplicate filter context </p></li>
<li><p><strong>window_ms</strong> – Time window for duplicate detection (0 = use default) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv411mb_adu_hash7uint8_t7uint8_tPK7uint8_t6size_t">
<span id="_CPPv311mb_adu_hash7uint8_t7uint8_tPK7uint8_t6size_t"></span><span id="_CPPv211mb_adu_hash7uint8_t7uint8_tPK7uint8_t6size_t"></span><span id="mb_adu_hash__uint8_t.uint8_t.uint8_tCP.s"></span><span class="target" id="dup__filter_8h_1afca89aa217243f6a49cbffdd635c8662"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_adu_hash</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">slave_addr</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">fc</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">data_len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411mb_adu_hash7uint8_t7uint8_tPK7uint8_t6size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Compute lightweight ADU hash. </p>
<p>Computes a simple hash based on:<ul class="simple">
<li><p>Slave address</p></li>
<li><p>Function code</p></li>
<li><p>First 4 data bytes (if available)</p></li>
</ul>
</p>
<p>This is intentionally simple and fast, optimized for embedded systems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slave_addr</strong> – Slave address </p></li>
<li><p><strong>fc</strong> – Function code </p></li>
<li><p><strong>data</strong> – Frame data (after FC) </p></li>
<li><p><strong>data_len</strong> – Data length </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>32-bit hash value </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_dup_filter_checkP15mb_dup_filter_t8uint32_t8uint32_t">
<span id="_CPPv319mb_dup_filter_checkP15mb_dup_filter_t8uint32_t8uint32_t"></span><span id="_CPPv219mb_dup_filter_checkP15mb_dup_filter_t8uint32_t8uint32_t"></span><span id="mb_dup_filter_check__mb_dup_filter_tP.uint32_t.uint32_t"></span><span class="target" id="dup__filter_8h_1abbb28237e877cc4bedbb33a073385aec"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_check</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">hash</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">now_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_dup_filter_checkP15mb_dup_filter_t8uint32_t8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Check if frame is a recent duplicate. </p>
<p>Searches the hash window for a matching hash within the time window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Duplicate filter context </p></li>
<li><p><strong>hash</strong> – Frame hash (from mb_adu_hash) </p></li>
<li><p><strong>now_ms</strong> – Current timestamp </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if duplicate found, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_dup_filter_addP15mb_dup_filter_t8uint32_t8uint32_t">
<span id="_CPPv317mb_dup_filter_addP15mb_dup_filter_t8uint32_t8uint32_t"></span><span id="_CPPv217mb_dup_filter_addP15mb_dup_filter_t8uint32_t8uint32_t"></span><span id="mb_dup_filter_add__mb_dup_filter_tP.uint32_t.uint32_t"></span><span class="target" id="dup__filter_8h_1a3d137a7d3a19f04680bc49b8dd295c49"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_add</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">hash</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">now_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_dup_filter_addP15mb_dup_filter_t8uint32_t8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Add frame hash to filter. </p>
<p>Records this frame’s hash so future duplicates can be detected. Automatically evicts oldest entries when window is full.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Duplicate filter context </p></li>
<li><p><strong>hash</strong> – Frame hash </p></li>
<li><p><strong>now_ms</strong> – Current timestamp </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_dup_filter_age_outP15mb_dup_filter_t8uint32_t">
<span id="_CPPv321mb_dup_filter_age_outP15mb_dup_filter_t8uint32_t"></span><span id="_CPPv221mb_dup_filter_age_outP15mb_dup_filter_t8uint32_t"></span><span id="mb_dup_filter_age_out__mb_dup_filter_tP.uint32_t"></span><span class="target" id="dup__filter_8h_1a50fe6d8fa0042a29010f4acfa5246206"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_age_out</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">now_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_dup_filter_age_outP15mb_dup_filter_t8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Age out old entries. </p>
<p>Removes entries older than the time window. Called automatically by check/add, but can be called manually for periodic cleanup.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Duplicate filter context </p></li>
<li><p><strong>now_ms</strong> – Current timestamp </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of entries aged out </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_dup_filter_get_statsPK15mb_dup_filter_tP8uint32_tP8uint32_tP8uint32_t">
<span id="_CPPv323mb_dup_filter_get_statsPK15mb_dup_filter_tP8uint32_tP8uint32_tP8uint32_t"></span><span id="_CPPv223mb_dup_filter_get_statsPK15mb_dup_filter_tP8uint32_tP8uint32_tP8uint32_t"></span><span id="mb_dup_filter_get_stats__mb_dup_filter_tCP.uint32_tP.uint32_tP.uint32_tP"></span><span class="target" id="dup__filter_8h_1ab72c0214b0722f4dc71200d2fe4e0cba"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_get_stats</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">checked</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">duplicates</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">false_pos</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_dup_filter_get_statsPK15mb_dup_filter_tP8uint32_tP8uint32_tP8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Get duplicate filter statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Duplicate filter context </p></li>
<li><p><strong>checked</strong> – Output: total frames checked </p></li>
<li><p><strong>duplicates</strong> – Output: duplicates found </p></li>
<li><p><strong>false_pos</strong> – Output: false positives (hash collisions) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mb_dup_filter_reset_statsP15mb_dup_filter_t">
<span id="_CPPv325mb_dup_filter_reset_statsP15mb_dup_filter_t"></span><span id="_CPPv225mb_dup_filter_reset_statsP15mb_dup_filter_t"></span><span id="mb_dup_filter_reset_stats__mb_dup_filter_tP"></span><span class="target" id="dup__filter_8h_1adbc4e7f6db4b507593c7aac383032d49"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_reset_stats</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mb_dup_filter_reset_statsP15mb_dup_filter_t" title="Link to this definition"></a><br /></dt>
<dd><p>Reset duplicate filter statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> – Duplicate filter context </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_dup_filter_clearP15mb_dup_filter_t">
<span id="_CPPv319mb_dup_filter_clearP15mb_dup_filter_t"></span><span id="_CPPv219mb_dup_filter_clearP15mb_dup_filter_t"></span><span id="mb_dup_filter_clear__mb_dup_filter_tP"></span><span class="target" id="dup__filter_8h_1a5471a30ced5e1d807c1b94180524982f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_clear</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_dup_filter_clearP15mb_dup_filter_t" title="Link to this definition"></a><br /></dt>
<dd><p>Clear all entries from filter. </p>
<p>Removes all hash entries. Useful after communication errors or when switching to a different slave.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> – Duplicate filter context </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="features_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">features.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420mb_feature_profile_t">
<span id="_CPPv320mb_feature_profile_t"></span><span id="_CPPv220mb_feature_profile_t"></span><span id="mb_feature_profile_t"></span><span class="target" id="features_8h_1ac7512eef5646e5cf1c8a96c93d1ba82c"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418mb_feature_profile" title="mb_feature_profile"><span class="n"><span class="pre">mb_feature_profile</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_feature_profile_t</span></span></span><a class="headerlink" href="#_CPPv420mb_feature_profile_t" title="Link to this definition"></a><br /></dt>
<dd><p>Snapshot of the build-time Modbus configuration toggles. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="features_8h_1ac9c9e8b010b024fd1407f3e5be124782"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv420mb_feature_profile_t" title="mb_feature_profile_t"><span class="n"><span class="pre">mb_feature_profile_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_feature_profile</span></span></span><br /></dt>
<dd><p>Global feature descriptor emitted into .rodata. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="frame_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">frame.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<p>Helpers to assemble and dissect Modbus Application Data Units. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_frame_rtu_encodePK13mb_adu_view_tP5mb_u89mb_size_tP9mb_size_t">
<span id="_CPPv319mb_frame_rtu_encodePK13mb_adu_view_tP5mb_u89mb_size_tP9mb_size_t"></span><span id="_CPPv219mb_frame_rtu_encodePK13mb_adu_view_tP5mb_u89mb_size_tP9mb_size_t"></span><span id="mb_frame_rtu_encode__mb_adu_view_tCP.mb_u8P.mb_size_t.mb_size_tP"></span><span class="target" id="frame_8h_1a795de11db778d55299d2978ba4b0ab42"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_frame_rtu_encode</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_adu</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">out_cap</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_frame_rtu_encodePK13mb_adu_view_tP5mb_u89mb_size_tP9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Builds an RTU frame from the supplied ADU view. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_frame_rtu_decodePK5mb_u89mb_size_tP13mb_adu_view_t">
<span id="_CPPv319mb_frame_rtu_decodePK5mb_u89mb_size_tP13mb_adu_view_t"></span><span id="_CPPv219mb_frame_rtu_decodePK5mb_u89mb_size_tP13mb_adu_view_t"></span><span id="mb_frame_rtu_decode__mb_u8CP.mb_size_t.mb_adu_view_tP"></span><span class="target" id="frame_8h_1a386d39de1f3b0145074e5da4d42088b6"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_frame_rtu_decode</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">adu_len</span></span>, <a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_frame_rtu_decodePK5mb_u89mb_size_tP13mb_adu_view_t" title="Link to this definition"></a><br /></dt>
<dd><p>Parses an RTU frame, validating CRC and extracting the ADU view. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="fsm_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">fsm.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<p>Finite State Machine (FSM) framework for event-driven execution. </p>
<p>This header defines a generic Finite State Machine (FSM) framework, allowing the creation of states, events, transitions, and actions. It is completely independent of any hardware or protocol, making it suitable for use in a wide range of embedded applications, including Modbus Client and Server implementations.</p>
<p><strong>Features:</strong><ul class="simple">
<li><p>Each state can have multiple transitions triggered by specific events.</p></li>
<li><p>Transitions can have optional guard functions (conditions) to determine if the transition is allowed.</p></li>
<li><p>Actions can be associated with transitions to perform operations during state changes.</p></li>
<li><p>Provides an event queue to safely handle events from both ISR and main loop.</p></li>
<li><p>Non-blocking state handling: <code class="docutils literal notranslate"><span class="pre">fsm_run()</span></code> processes events incrementally.</p></li>
</ul>
</p>
<p><strong>Example Usage:</strong> <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Define</span> <span class="n">action</span> <span class="ow">and</span> <span class="n">guard</span> <span class="n">callbacks</span>
<span class="n">void</span> <span class="n">on_enter_state</span><span class="p">(</span><span class="n">fsm_t</span> <span class="o">*</span><span class="n">fsm</span><span class="p">)</span> <span class="p">{</span> 
    <span class="o">//</span> <span class="n">Action</span> <span class="n">to</span> <span class="n">perform</span> <span class="n">upon</span> <span class="n">entering</span> <span class="n">the</span> <span class="n">state</span>
<span class="p">}</span>

<span class="nb">bool</span> <span class="n">guard_condition</span><span class="p">(</span><span class="n">fsm_t</span> <span class="o">*</span><span class="n">fsm</span><span class="p">)</span> <span class="p">{</span> 
    <span class="o">//</span> <span class="n">Condition</span> <span class="n">to</span> <span class="n">allow</span> <span class="n">transition</span>
    <span class="k">return</span> <span class="n">true</span><span class="p">;</span> 
<span class="p">}</span>

<span class="o">//</span> <span class="n">Define</span> <span class="n">transitions</span> <span class="k">for</span> <span class="n">the</span> <span class="n">IDLE</span> <span class="n">state</span>
<span class="n">static</span> <span class="n">const</span> <span class="n">fsm_transition_t</span> <span class="n">state_idle_transitions</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">FSM_TRANSITION</span><span class="p">(</span><span class="n">EVENT_START</span><span class="p">,</span> <span class="n">state_running</span><span class="p">,</span> <span class="n">on_enter_state</span><span class="p">,</span> <span class="n">guard_condition</span><span class="p">)</span>
<span class="p">};</span>

<span class="o">//</span> <span class="n">Define</span> <span class="n">the</span> <span class="n">IDLE</span> <span class="n">state</span>
<span class="n">const</span> <span class="n">fsm_state_t</span> <span class="n">state_idle</span> <span class="o">=</span> <span class="n">FSM_STATE</span><span class="p">(</span><span class="s2">&quot;IDLE&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">state_idle_transitions</span><span class="p">,</span> <span class="n">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Define</span> <span class="n">transitions</span> <span class="k">for</span> <span class="n">the</span> <span class="n">RUNNING</span> <span class="n">state</span>
<span class="n">static</span> <span class="n">const</span> <span class="n">fsm_transition_t</span> <span class="n">state_running_transitions</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">FSM_TRANSITION</span><span class="p">(</span><span class="n">EVENT_STOP</span><span class="p">,</span> <span class="n">state_idle</span><span class="p">,</span> <span class="n">on_exit_state</span><span class="p">,</span> <span class="n">NULL</span><span class="p">)</span>
<span class="p">};</span>

<span class="o">//</span> <span class="n">Define</span> <span class="n">the</span> <span class="n">RUNNING</span> <span class="n">state</span>
<span class="n">const</span> <span class="n">fsm_state_t</span> <span class="n">state_running</span> <span class="o">=</span> <span class="n">FSM_STATE</span><span class="p">(</span><span class="s2">&quot;RUNNING&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">state_running_transitions</span><span class="p">,</span> <span class="n">on_run_action</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Initialize</span> <span class="ow">and</span> <span class="n">use</span> <span class="n">the</span> <span class="n">FSM</span>
<span class="n">fsm_t</span> <span class="n">my_fsm</span><span class="p">;</span>
<span class="n">fsm_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_fsm</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">state_idle</span><span class="p">,</span> <span class="n">NULL</span><span class="p">);</span>
<span class="n">fsm_handle_event</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_fsm</span><span class="p">,</span> <span class="n">EVENT_START</span><span class="p">);</span>
<span class="n">fsm_run</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_fsm</span><span class="p">);</span>  <span class="o">//</span> <span class="n">Processes</span> <span class="n">EVENT_START</span> <span class="ow">and</span> <span class="n">transitions</span> <span class="n">to</span> <span class="n">RUNNING</span> <span class="n">state</span><span class="o">.</span>
</pre></div>
</div>
</p>
<p><strong>Notes:</strong><ul class="simple">
<li><p>Ensure that states are defined before they are referenced in transitions.</p></li>
<li><p>The FSM framework is designed to be thread-safe; however, ensure that event handling and state transitions are managed appropriately in concurrent environments.</p></li>
</ul>
</p>
<p><dl class="simple">
<dt><strong>Author</strong></dt><dd><p>Luiz Carlos Gili</p>
</dd>
<dt><strong>Date</strong></dt><dd><p>2024-12-20 </p>
</dd>
</dl>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><ul class="simple">
<li><p>Adjust <code class="docutils literal notranslate"><span class="pre">FSM_EVENT_QUEUE_SIZE</span></code> as necessary based on the expected event load.</p></li>
<li><p>For larger applications, consider implementing more efficient event queue mechanisms.</p></li>
</ul>
</p>
</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="log_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">log.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<p>Log: lightweight logging for embedded systems. </p>
<p>A quick intro by example: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &quot;ulog.h&quot;</span>

<span class="o">//</span> <span class="n">To</span> <span class="n">use</span> <span class="n">uLog</span><span class="p">,</span> <span class="n">you</span> <span class="n">must</span> <span class="n">define</span> <span class="n">a</span> <span class="n">function</span> <span class="n">to</span> <span class="n">process</span> <span class="n">logging</span> <span class="n">messages</span><span class="o">.</span>
<span class="o">//</span> <span class="n">It</span> <span class="n">can</span> <span class="n">write</span> <span class="n">the</span> <span class="n">messages</span> <span class="n">to</span> <span class="n">a</span> <span class="n">console</span><span class="p">,</span> <span class="n">to</span> <span class="n">a</span> <span class="n">file</span><span class="p">,</span> <span class="n">to</span> <span class="n">an</span> <span class="ow">in</span><span class="o">-</span><span class="n">memory</span>
<span class="o">//</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">the</span> <span class="n">choice</span> <span class="ow">is</span> <span class="n">yours</span><span class="o">.</span>  <span class="n">And</span> <span class="n">you</span> <span class="n">get</span> <span class="n">to</span> <span class="n">choose</span> <span class="n">the</span> <span class="nb">format</span> <span class="n">of</span>
<span class="o">//</span> <span class="n">the</span> <span class="n">message</span><span class="o">.</span>  <span class="n">This</span> <span class="n">example</span> <span class="n">prints</span> <span class="n">to</span> <span class="n">the</span> <span class="n">console</span><span class="o">.</span>  <span class="n">One</span> <span class="n">caveat</span><span class="p">:</span> <span class="n">msg</span>
<span class="o">//</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">static</span> <span class="n">string</span> <span class="ow">and</span> <span class="n">will</span> <span class="n">be</span> <span class="n">over</span><span class="o">-</span><span class="n">written</span> <span class="n">at</span> <span class="n">the</span> <span class="nb">next</span> <span class="n">call</span> <span class="n">to</span> <span class="n">ULOG</span><span class="o">.</span>
<span class="o">//</span> <span class="n">You</span> <span class="n">may</span> <span class="nb">print</span> <span class="n">it</span> <span class="ow">or</span> <span class="n">copy</span> <span class="n">it</span><span class="p">,</span> <span class="n">but</span> <span class="n">saving</span> <span class="n">a</span> <span class="n">pointer</span> <span class="n">to</span> <span class="n">it</span> <span class="n">will</span> <span class="n">lead</span> <span class="n">to</span>
<span class="o">//</span> <span class="n">confusion</span> <span class="ow">and</span> <span class="n">astonishment</span><span class="o">.</span>
<span class="o">//</span>
<span class="n">void</span> <span class="n">my_console_logger</span><span class="p">(</span><span class="n">ulog_level_t</span> <span class="n">level</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">msg</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> [</span><span class="si">%s</span><span class="s2">]: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span>
        <span class="n">get_timestamp</span><span class="p">(),</span>
        <span class="n">ulog_level_name</span><span class="p">(</span><span class="n">level</span><span class="p">),</span>
        <span class="n">msg</span><span class="p">);</span>
<span class="p">}</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">LOG_INIT</span><span class="p">();</span>

    <span class="o">//</span> <span class="n">log</span> <span class="n">to</span> <span class="n">the</span> <span class="n">console</span> <span class="n">messages</span> <span class="n">that</span> <span class="n">are</span> <span class="n">WARNING</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">severe</span><span class="o">.</span>  <span class="n">You</span>
    <span class="o">//</span> <span class="n">can</span> <span class="n">re</span><span class="o">-</span><span class="n">subscribe</span> <span class="n">at</span> <span class="nb">any</span> <span class="n">point</span> <span class="n">to</span> <span class="n">change</span> <span class="n">the</span> <span class="n">severity</span> <span class="n">level</span><span class="o">.</span>
    <span class="n">LOG_SUBSCRIBE</span><span class="p">(</span><span class="n">my_console_logger</span><span class="p">,</span> <span class="n">LOG_WARNING</span><span class="p">);</span>

    <span class="o">//</span> <span class="n">log</span> <span class="n">to</span> <span class="n">a</span> <span class="n">file</span> <span class="n">messages</span> <span class="n">that</span> <span class="n">are</span> <span class="n">DEBUG</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">severe</span>
    <span class="n">LOG_SUBSCRIBE</span><span class="p">(</span><span class="n">my_file_logger</span><span class="p">,</span> <span class="n">LOG_DEBUG</span><span class="p">);</span>

    <span class="nb">int</span> <span class="n">arg</span> <span class="o">=</span> <span class="mi">42</span><span class="p">;</span>
    <span class="n">LOG_INFO</span><span class="p">(</span><span class="s2">&quot;Arg is </span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">arg</span><span class="p">);</span>  <span class="o">//</span> <span class="n">logs</span> <span class="n">to</span> <span class="n">file</span> <span class="n">but</span> <span class="ow">not</span> <span class="n">console</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_INIT">
<span class="target" id="log_8h_1a062ce2496c8e47adec91c0d11744a7a7"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INIT</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INIT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_SUBSCRIBE">
<span class="target" id="log_8h_1a3c185442e32af3d25da397c4743fc0bd"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_SUBSCRIBE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">a</span></span>, <span class="n"><span class="pre">b</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_SUBSCRIBE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_UNSUBSCRIBE">
<span class="target" id="log_8h_1a723901a2b3574407680276109c652443"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_UNSUBSCRIBE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">a</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_UNSUBSCRIBE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_LEVEL_NAME">
<span class="target" id="log_8h_1a6f6570492a1359a75819d3f444c0af7f"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_LEVEL_NAME</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">a</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_LEVEL_NAME" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG">
<span class="target" id="log_8h_1a6d9e750d7bf4d22dcc86f17693228907"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">s</span></span>, <span class="n"><span class="pre">f</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_TRACE">
<span class="target" id="log_8h_1a9665ced448d20217483bb0ea1a58ff44"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_TRACE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">f</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_TRACE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_DEBUG">
<span class="target" id="log_8h_1a4cfe278bc804bda9db3a59830b6fbfb8"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_DEBUG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">f</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_DEBUG" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_INFO">
<span class="target" id="log_8h_1a0346634c15a318e68d86de21729d51c9"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INFO</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">f</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_INFO" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_WARNING">
<span class="target" id="log_8h_1a849e493159fa065c6173174b43f173d4"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_WARNING</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">f</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_WARNING" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_ERROR">
<span class="target" id="log_8h_1ad0129fbdccce0fb2b2c68d1f70fa4569"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_ERROR</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">f</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_ERROR" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_CRITICAL">
<span class="target" id="log_8h_1a012ae6aa7723acd4598e2bdcf7e751a3"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_CRITICAL</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">f</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_CRITICAL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_ALWAYS">
<span class="target" id="log_8h_1a89e1ba022c9f0d0952e9b6fc5089e02e"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_ALWAYS</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">f</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.LOG_ALWAYS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_MAX_SUBSCRIBERS">
<span class="target" id="log_8h_1a2b91dffa53df5750a38e882911825ea4"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MAX_SUBSCRIBERS</span></span></span><a class="headerlink" href="#c.LOG_MAX_SUBSCRIBERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.LOG_MAX_MESSAGE_LENGTH">
<span class="target" id="log_8h_1a6d4e22725912d6a850c21d4fbf3de8f1"></span><span class="sig-name descname"><span class="n"><span class="pre">LOG_MAX_MESSAGE_LENGTH</span></span></span><a class="headerlink" href="#c.LOG_MAX_MESSAGE_LENGTH" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv414log_function_t">
<span id="_CPPv314log_function_t"></span><span id="_CPPv214log_function_t"></span><span id="log_function_t"></span><span class="target" id="log_8h_1aefc8b9bb10578b193a2d10a184603e1c"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_function_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv411log_level_t" title="log_level_t"><span class="n"><span class="pre">log_level_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">severity</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv414log_function_t" title="Link to this definition"></a><br /></dt>
<dd><p>: prototype for uLog subscribers. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv411log_level_t">
<span id="_CPPv311log_level_t"></span><span id="_CPPv211log_level_t"></span><span class="target" id="log_8h_1a98121d38a8cf3daf5246a349f912ca1d"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_level_t</span></span></span><a class="headerlink" href="#_CPPv411log_level_t" title="Link to this definition"></a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11log_level_t15LOG_TRACE_LEVELE">
<span id="_CPPv3N11log_level_t15LOG_TRACE_LEVELE"></span><span id="_CPPv2N11log_level_t15LOG_TRACE_LEVELE"></span><span class="target" id="log_8h_1a98121d38a8cf3daf5246a349f912ca1da432c583e86cb1074a85eadbd8f694afe"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOG_TRACE_LEVEL</span></span></span><a class="headerlink" href="#_CPPv4N11log_level_t15LOG_TRACE_LEVELE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11log_level_t15LOG_DEBUG_LEVELE">
<span id="_CPPv3N11log_level_t15LOG_DEBUG_LEVELE"></span><span id="_CPPv2N11log_level_t15LOG_DEBUG_LEVELE"></span><span class="target" id="log_8h_1a98121d38a8cf3daf5246a349f912ca1dabac5279977be176cd1b3241e0503e0ac"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOG_DEBUG_LEVEL</span></span></span><a class="headerlink" href="#_CPPv4N11log_level_t15LOG_DEBUG_LEVELE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11log_level_t14LOG_INFO_LEVELE">
<span id="_CPPv3N11log_level_t14LOG_INFO_LEVELE"></span><span id="_CPPv2N11log_level_t14LOG_INFO_LEVELE"></span><span class="target" id="log_8h_1a98121d38a8cf3daf5246a349f912ca1da86edd2ae601ba0ba0d29743de5b605e9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOG_INFO_LEVEL</span></span></span><a class="headerlink" href="#_CPPv4N11log_level_t14LOG_INFO_LEVELE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11log_level_t17LOG_WARNING_LEVELE">
<span id="_CPPv3N11log_level_t17LOG_WARNING_LEVELE"></span><span id="_CPPv2N11log_level_t17LOG_WARNING_LEVELE"></span><span class="target" id="log_8h_1a98121d38a8cf3daf5246a349f912ca1dad71492de81aa41d5532c7fff718c1882"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOG_WARNING_LEVEL</span></span></span><a class="headerlink" href="#_CPPv4N11log_level_t17LOG_WARNING_LEVELE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11log_level_t15LOG_ERROR_LEVELE">
<span id="_CPPv3N11log_level_t15LOG_ERROR_LEVELE"></span><span id="_CPPv2N11log_level_t15LOG_ERROR_LEVELE"></span><span class="target" id="log_8h_1a98121d38a8cf3daf5246a349f912ca1dad103ccba675eef9af9ba01f90d553742"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOG_ERROR_LEVEL</span></span></span><a class="headerlink" href="#_CPPv4N11log_level_t15LOG_ERROR_LEVELE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11log_level_t18LOG_CRITICAL_LEVELE">
<span id="_CPPv3N11log_level_t18LOG_CRITICAL_LEVELE"></span><span id="_CPPv2N11log_level_t18LOG_CRITICAL_LEVELE"></span><span class="target" id="log_8h_1a98121d38a8cf3daf5246a349f912ca1da730c7f38cfd078f08877362348139d0b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOG_CRITICAL_LEVEL</span></span></span><a class="headerlink" href="#_CPPv4N11log_level_t18LOG_CRITICAL_LEVELE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11log_level_t16LOG_ALWAYS_LEVELE">
<span id="_CPPv3N11log_level_t16LOG_ALWAYS_LEVELE"></span><span id="_CPPv2N11log_level_t16LOG_ALWAYS_LEVELE"></span><span class="target" id="log_8h_1a98121d38a8cf3daf5246a349f912ca1da271c832365ba4a078356dc98f1c07498"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOG_ALWAYS_LEVEL</span></span></span><a class="headerlink" href="#_CPPv4N11log_level_t16LOG_ALWAYS_LEVELE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv49log_err_t">
<span id="_CPPv39log_err_t"></span><span id="_CPPv29log_err_t"></span><span class="target" id="log_8h_1a050580d06505928360cc4a47599992ba"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_err_t</span></span></span><a class="headerlink" href="#_CPPv49log_err_t" title="Link to this definition"></a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N9log_err_t12LOG_ERR_NONEE">
<span id="_CPPv3N9log_err_t12LOG_ERR_NONEE"></span><span id="_CPPv2N9log_err_t12LOG_ERR_NONEE"></span><span class="target" id="log_8h_1a050580d06505928360cc4a47599992baa05b57634a577791d4b4162eb95d68bd1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOG_ERR_NONE</span></span></span><a class="headerlink" href="#_CPPv4N9log_err_t12LOG_ERR_NONEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N9log_err_t28LOG_ERR_SUBSCRIBERS_EXCEEDEDE">
<span id="_CPPv3N9log_err_t28LOG_ERR_SUBSCRIBERS_EXCEEDEDE"></span><span id="_CPPv2N9log_err_t28LOG_ERR_SUBSCRIBERS_EXCEEDEDE"></span><span class="target" id="log_8h_1a050580d06505928360cc4a47599992baa30948cbe9e622139b2a03ced764d9240"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOG_ERR_SUBSCRIBERS_EXCEEDED</span></span></span><a class="headerlink" href="#_CPPv4N9log_err_t28LOG_ERR_SUBSCRIBERS_EXCEEDEDE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N9log_err_t22LOG_ERR_NOT_SUBSCRIBEDE">
<span id="_CPPv3N9log_err_t22LOG_ERR_NOT_SUBSCRIBEDE"></span><span id="_CPPv2N9log_err_t22LOG_ERR_NOT_SUBSCRIBEDE"></span><span class="target" id="log_8h_1a050580d06505928360cc4a47599992baa02d30633e1184fb4e34ece1cd0fa4662"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">LOG_ERR_NOT_SUBSCRIBED</span></span></span><a class="headerlink" href="#_CPPv4N9log_err_t22LOG_ERR_NOT_SUBSCRIBEDE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv48log_initv">
<span id="_CPPv38log_initv"></span><span id="_CPPv28log_initv"></span><span id="log_init__void"></span><span class="target" id="log_8h_1a2508fad025e49f9746b6c178dce6917e"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_init</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv48log_initv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv413log_subscribe14log_function_t11log_level_t">
<span id="_CPPv313log_subscribe14log_function_t11log_level_t"></span><span id="_CPPv213log_subscribe14log_function_t11log_level_t"></span><span id="log_subscribe__log_function_t.log_level_t"></span><span class="target" id="log_8h_1ada8886d912a6e31bc7eb873c1a1160a2"></span><a class="reference internal" href="#_CPPv49log_err_t" title="log_err_t"><span class="n"><span class="pre">log_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_subscribe</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv414log_function_t" title="log_function_t"><span class="n"><span class="pre">log_function_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">fn</span></span>, <a class="reference internal" href="#_CPPv411log_level_t" title="log_level_t"><span class="n"><span class="pre">log_level_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">threshold</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413log_subscribe14log_function_t11log_level_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415log_unsubscribe14log_function_t">
<span id="_CPPv315log_unsubscribe14log_function_t"></span><span id="_CPPv215log_unsubscribe14log_function_t"></span><span id="log_unsubscribe__log_function_t"></span><span class="target" id="log_8h_1a3166226b6529917fa1e51791827cb26d"></span><a class="reference internal" href="#_CPPv49log_err_t" title="log_err_t"><span class="n"><span class="pre">log_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_unsubscribe</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv414log_function_t" title="log_function_t"><span class="n"><span class="pre">log_function_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">fn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415log_unsubscribe14log_function_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414log_level_name11log_level_t">
<span id="_CPPv314log_level_name11log_level_t"></span><span id="_CPPv214log_level_name11log_level_t"></span><span id="log_level_name__log_level_t"></span><span class="target" id="log_8h_1a9a8ed492d6a440f0d345aff6ed8c6021"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">log_level_name</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411log_level_t" title="log_level_t"><span class="n"><span class="pre">log_level_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">level</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414log_level_name11log_level_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv411log_message11log_level_tPKcz">
<span id="_CPPv311log_message11log_level_tPKcz"></span><span id="_CPPv211log_message11log_level_tPKcz"></span><span id="log_message__log_level_t.cCP.z"></span><span class="target" id="log_8h_1a16673bf40eabf0b0474c7a9a14192b71"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">log_message</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411log_level_t" title="log_level_t"><span class="n"><span class="pre">log_level_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">severity</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">fmt</span></span>, <span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411log_message11log_level_tPKcz" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mapping_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mapping.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<p>Convenience helpers for wiring register storage into the Modbus server. </p>
<p>Gate 15 introduces libmodbus-style mapping helpers so applications can bootstrap the server runtime with a single descriptor instead of manually chaining mb_server_init and mb_server_add_storage calls. </p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__embed_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_embed.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client_8h"><span class="std std-ref">modbus/client.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#pdu_8h"><span class="std std-ref">modbus/pdu.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EMBED_CLIENT_POOL_MIN">
<span class="target" id="mb__embed_8h_1a96b620b8368f9c8bd5d2b9a768d8dabb"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EMBED_CLIENT_POOL_MIN</span></span></span><a class="headerlink" href="#c.MB_EMBED_CLIENT_POOL_MIN" title="Link to this definition"></a><br /></dt>
<dd><p>Minimum sensible transaction pool depth for quickstarts. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EMBED_REQUEST_OPTS_INIT">
<span class="target" id="mb__embed_8h_1aa047e5932b624a9751cf37dbb62c4b05"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EMBED_REQUEST_OPTS_INIT</span></span></span><a class="headerlink" href="#c.MB_EMBED_REQUEST_OPTS_INIT" title="Link to this definition"></a><br /></dt>
<dd><p>Default options (1 s timeout, 2 retries, 500 ms backoff). </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429mb_embed_request_opts_defaultv">
<span id="_CPPv329mb_embed_request_opts_defaultv"></span><span id="_CPPv229mb_embed_request_opts_defaultv"></span><span id="mb_embed_request_opts_default__void"></span><span class="target" id="mb__embed_8h_1a587937a3f66bda5fd88547909da8d7c3"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv423mb_embed_request_opts_t" title="mb_embed_request_opts_t"><span class="n"><span class="pre">mb_embed_request_opts_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_embed_request_opts_default</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429mb_embed_request_opts_defaultv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv436mb_embed_request_opts_apply_defaultsP23mb_embed_request_opts_t">
<span id="_CPPv336mb_embed_request_opts_apply_defaultsP23mb_embed_request_opts_t"></span><span id="_CPPv236mb_embed_request_opts_apply_defaultsP23mb_embed_request_opts_t"></span><span id="mb_embed_request_opts_apply_defaults__mb_embed_request_opts_tP"></span><span class="target" id="mb__embed_8h_1ac04b34574c46d964bd2379a3879a0ee7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_embed_request_opts_apply_defaults</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv423mb_embed_request_opts_t" title="mb_embed_request_opts_t"><span class="n"><span class="pre">mb_embed_request_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">opts</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv436mb_embed_request_opts_apply_defaultsP23mb_embed_request_opts_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426mb_embed_client_submit_rawP11mb_client_t5mb_u8PK5mb_u89mb_size_tPK23mb_embed_request_opts_tPP15mb_client_txn_t">
<span id="_CPPv326mb_embed_client_submit_rawP11mb_client_t5mb_u8PK5mb_u89mb_size_tPK23mb_embed_request_opts_tPP15mb_client_txn_t"></span><span id="_CPPv226mb_embed_client_submit_rawP11mb_client_t5mb_u8PK5mb_u89mb_size_tPK23mb_embed_request_opts_tPP15mb_client_txn_t"></span><span id="mb_embed_client_submit_raw__mb_client_tP.mb_u8.mb_u8CP.mb_size_t.mb_embed_request_opts_tCP.mb_client_txn_tPP"></span><span class="target" id="mb__embed_8h_1a77da8ec036fbade04e36a3b6b5dbd98d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_embed_client_submit_raw</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pdu</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">pdu_len</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv423mb_embed_request_opts_t" title="mb_embed_request_opts_t"><span class="n"><span class="pre">mb_embed_request_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">opts</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_txn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426mb_embed_client_submit_rawP11mb_client_t5mb_u8PK5mb_u89mb_size_tPK23mb_embed_request_opts_tPP15mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428mb_embed_parse_exception_aduPK13mb_adu_view_tP5mb_u8">
<span id="_CPPv328mb_embed_parse_exception_aduPK13mb_adu_view_tP5mb_u8"></span><span id="_CPPv228mb_embed_parse_exception_aduPK13mb_adu_view_tP5mb_u8"></span><span id="mb_embed_parse_exception_adu__mb_adu_view_tCP.mb_u8P"></span><span class="target" id="mb__embed_8h_1a3426774a3ae4b21d32f8ab4962d913c1"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_embed_parse_exception_adu</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_code</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428mb_embed_parse_exception_aduPK13mb_adu_view_tP5mb_u8" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__err_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_err.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<p>Central repository for Modbus error codes and helpers. </p>
<p>This header consolidates the error enumeration and related utilities that were previously scattered across legacy headers, providing a single source of truth for status codes shared by the client, server and transport layers. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_OK">
<span class="target" id="mb__err_8h_1aafe0d23dec979599809e3da2f7d3e21b"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_OK</span></span></span><a class="headerlink" href="#c.MB_OK" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ERR_INVALID_ARGUMENT">
<span class="target" id="mb__err_8h_1ac7670f6b3229f852dfd0d23f18eb4368"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ERR_INVALID_ARGUMENT</span></span></span><a class="headerlink" href="#c.MB_ERR_INVALID_ARGUMENT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ERR_TIMEOUT">
<span class="target" id="mb__err_8h_1a8ee1c27dfd2c7a9aeddaa1ac880f6418"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ERR_TIMEOUT</span></span></span><a class="headerlink" href="#c.MB_ERR_TIMEOUT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ERR_TRANSPORT">
<span class="target" id="mb__err_8h_1a303ffb2524bfcdb8802d49148ea1978c"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ERR_TRANSPORT</span></span></span><a class="headerlink" href="#c.MB_ERR_TRANSPORT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ERR_CRC">
<span class="target" id="mb__err_8h_1af25fec08c1580b7b9c2df32d406a7d1d"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ERR_CRC</span></span></span><a class="headerlink" href="#c.MB_ERR_CRC" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ERR_INVALID_REQUEST">
<span class="target" id="mb__err_8h_1a7b2d15165512d6f77dacedca594bffce"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ERR_INVALID_REQUEST</span></span></span><a class="headerlink" href="#c.MB_ERR_INVALID_REQUEST" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ERR_OTHER_REQUESTS">
<span class="target" id="mb__err_8h_1a55ae2d8e2773c99d01cb6f73aab64fca"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ERR_OTHER_REQUESTS</span></span></span><a class="headerlink" href="#c.MB_ERR_OTHER_REQUESTS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ERR_OTHER">
<span class="target" id="mb__err_8h_1ad38f9efe596f7e88c69ad91c21dedf16"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ERR_OTHER</span></span></span><a class="headerlink" href="#c.MB_ERR_OTHER" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ERR_CANCELLED">
<span class="target" id="mb__err_8h_1a7bc3607577fc920e8c7bce8e355cccaf"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ERR_CANCELLED</span></span></span><a class="headerlink" href="#c.MB_ERR_CANCELLED" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ERR_NO_RESOURCES">
<span class="target" id="mb__err_8h_1a0e9154d646d9ebfd51d668a68566cdd4"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ERR_NO_RESOURCES</span></span></span><a class="headerlink" href="#c.MB_ERR_NO_RESOURCES" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ERR_BUSY">
<span class="target" id="mb__err_8h_1a6874d92b3d5e87217d66c73a5301df64"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ERR_BUSY</span></span></span><a class="headerlink" href="#c.MB_ERR_BUSY" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EX_ILLEGAL_FUNCTION">
<span class="target" id="mb__err_8h_1ad01b0c0276de404b43fd4d9a66433e10"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EX_ILLEGAL_FUNCTION</span></span></span><a class="headerlink" href="#c.MB_EX_ILLEGAL_FUNCTION" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EX_ILLEGAL_DATA_ADDRESS">
<span class="target" id="mb__err_8h_1a73e0ff8f3c400fd53fb46be68bf46b9c"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EX_ILLEGAL_DATA_ADDRESS</span></span></span><a class="headerlink" href="#c.MB_EX_ILLEGAL_DATA_ADDRESS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EX_ILLEGAL_DATA_VALUE">
<span class="target" id="mb__err_8h_1a3da548f211a12349aaba89e974fc4842"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EX_ILLEGAL_DATA_VALUE</span></span></span><a class="headerlink" href="#c.MB_EX_ILLEGAL_DATA_VALUE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EX_SERVER_DEVICE_FAILURE">
<span class="target" id="mb__err_8h_1ab564f99f2f85f53096ffe8969ae33ecc"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EX_SERVER_DEVICE_FAILURE</span></span></span><a class="headerlink" href="#c.MB_EX_SERVER_DEVICE_FAILURE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EX_ACKNOWLEDGE">
<span class="target" id="mb__err_8h_1a3e5a8300799599523fabece02f53dc2b"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EX_ACKNOWLEDGE</span></span></span><a class="headerlink" href="#c.MB_EX_ACKNOWLEDGE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EX_SERVER_DEVICE_BUSY">
<span class="target" id="mb__err_8h_1ae15e296358604cef7a11a2c06f2e444b"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EX_SERVER_DEVICE_BUSY</span></span></span><a class="headerlink" href="#c.MB_EX_SERVER_DEVICE_BUSY" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EX_NEGATIVE_ACKNOWLEDGE">
<span class="target" id="mb__err_8h_1ad97dfa440cc837a26415948ab4c95526"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EX_NEGATIVE_ACKNOWLEDGE</span></span></span><a class="headerlink" href="#c.MB_EX_NEGATIVE_ACKNOWLEDGE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EX_MEMORY_PARITY_ERROR">
<span class="target" id="mb__err_8h_1aee4e896d55f56668b03e3a0ae708a2d7"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EX_MEMORY_PARITY_ERROR</span></span></span><a class="headerlink" href="#c.MB_EX_MEMORY_PARITY_ERROR" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EX_GATEWAY_PATH_UNAVAILABLE">
<span class="target" id="mb__err_8h_1a7c92693dcec73a56b1ae9da90fa31726"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EX_GATEWAY_PATH_UNAVAILABLE</span></span></span><a class="headerlink" href="#c.MB_EX_GATEWAY_PATH_UNAVAILABLE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_EX_GATEWAY_TARGET_FAILED">
<span class="target" id="mb__err_8h_1a96d63295090574a87f53f793a78ad902"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_EX_GATEWAY_TARGET_FAILED</span></span></span><a class="headerlink" href="#c.MB_EX_GATEWAY_TARGET_FAILED" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv414modbus_error_t">
<span id="_CPPv314modbus_error_t"></span><span id="_CPPv214modbus_error_t"></span><span id="modbus_error_t"></span><span class="target" id="mb__err_8h_1ad95d71c283d60c88657e0f925b258351"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412modbus_error" title="modbus_error"><span class="n"><span class="pre">modbus_error</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_error_t</span></span></span><a class="headerlink" href="#_CPPv414modbus_error_t" title="Link to this definition"></a><br /></dt>
<dd><p>Unified Modbus error / status codes. </p>
<p>The values preserve the legacy names used throughout the codebase so the existing implementation keeps compiling while the headers get reorganized. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv48mb_err_t">
<span id="_CPPv38mb_err_t"></span><span id="_CPPv28mb_err_t"></span><span id="mb_err_t"></span><span class="target" id="mb__err_8h_1ad853da11a0b339273b727c045c94f148"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv414modbus_error_t" title="modbus_error_t"><span class="n"><span class="pre">modbus_error_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_err_t</span></span></span><a class="headerlink" href="#_CPPv48mb_err_t" title="Link to this definition"></a><br /></dt>
<dd><p>Convenience alias mirroring the historical <code class="docutils literal notranslate"><span class="pre">modbus_error_t</span></code> name. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv412modbus_error">
<span id="_CPPv312modbus_error"></span><span id="_CPPv212modbus_error"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_error</span></span></span><a class="headerlink" href="#_CPPv412modbus_error" title="Link to this definition"></a><br /></dt>
<dd><p>Unified Modbus error / status codes. </p>
<p>The values preserve the legacy names used throughout the codebase so the existing implementation keeps compiling while the headers get reorganized. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error17MODBUS_ERROR_NONEE">
<span id="_CPPv3N12modbus_error17MODBUS_ERROR_NONEE"></span><span id="_CPPv2N12modbus_error17MODBUS_ERROR_NONEE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92abcadef4fa3bb95ed8c393c178a1368c7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ERROR_NONE</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error17MODBUS_ERROR_NONEE" title="Link to this definition"></a><br /></dt>
<dd><p>No error. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error29MODBUS_ERROR_INVALID_ARGUMENTE">
<span id="_CPPv3N12modbus_error29MODBUS_ERROR_INVALID_ARGUMENTE"></span><span id="_CPPv2N12modbus_error29MODBUS_ERROR_INVALID_ARGUMENTE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a965a8c6e68a06624855628081dfecdb5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ERROR_INVALID_ARGUMENT</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error29MODBUS_ERROR_INVALID_ARGUMENTE" title="Link to this definition"></a><br /></dt>
<dd><p>Invalid argument provided. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error20MODBUS_ERROR_TIMEOUTE">
<span id="_CPPv3N12modbus_error20MODBUS_ERROR_TIMEOUTE"></span><span id="_CPPv2N12modbus_error20MODBUS_ERROR_TIMEOUTE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92abac8c226f41c07c5659ffb9f0dd55e82"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ERROR_TIMEOUT</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error20MODBUS_ERROR_TIMEOUTE" title="Link to this definition"></a><br /></dt>
<dd><p>Read/write timeout occurred. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error22MODBUS_ERROR_TRANSPORTE">
<span id="_CPPv3N12modbus_error22MODBUS_ERROR_TRANSPORTE"></span><span id="_CPPv2N12modbus_error22MODBUS_ERROR_TRANSPORTE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a4310557692e91d88e421381def09925e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ERROR_TRANSPORT</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error22MODBUS_ERROR_TRANSPORTE" title="Link to this definition"></a><br /></dt>
<dd><p>Transport layer error. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error16MODBUS_ERROR_CRCE">
<span id="_CPPv3N12modbus_error16MODBUS_ERROR_CRCE"></span><span id="_CPPv2N12modbus_error16MODBUS_ERROR_CRCE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a30e0fa05d0cd54528b75d0b1a217ca99"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ERROR_CRC</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error16MODBUS_ERROR_CRCE" title="Link to this definition"></a><br /></dt>
<dd><p>CRC check failed. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error28MODBUS_ERROR_INVALID_REQUESTE">
<span id="_CPPv3N12modbus_error28MODBUS_ERROR_INVALID_REQUESTE"></span><span id="_CPPv2N12modbus_error28MODBUS_ERROR_INVALID_REQUESTE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a094604abf0a636fa67ef9a6c62845d8a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ERROR_INVALID_REQUEST</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error28MODBUS_ERROR_INVALID_REQUESTE" title="Link to this definition"></a><br /></dt>
<dd><p>Received invalid request frame. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error27MODBUS_ERROR_OTHER_REQUESTSE">
<span id="_CPPv3N12modbus_error27MODBUS_ERROR_OTHER_REQUESTSE"></span><span id="_CPPv2N12modbus_error27MODBUS_ERROR_OTHER_REQUESTSE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a9a48bbc4404d11b7a3bbabab11a4f1d5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ERROR_OTHER_REQUESTS</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error27MODBUS_ERROR_OTHER_REQUESTSE" title="Link to this definition"></a><br /></dt>
<dd><p>Received other types of requests. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error22MODBUS_OTHERS_REQUESTSE">
<span id="_CPPv3N12modbus_error22MODBUS_OTHERS_REQUESTSE"></span><span id="_CPPv2N12modbus_error22MODBUS_OTHERS_REQUESTSE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92ad23a393e3efff942d9a595751ebe716a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_OTHERS_REQUESTS</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error22MODBUS_OTHERS_REQUESTSE" title="Link to this definition"></a><br /></dt>
<dd><p>Placeholder for additional request types. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error18MODBUS_ERROR_OTHERE">
<span id="_CPPv3N12modbus_error18MODBUS_ERROR_OTHERE"></span><span id="_CPPv2N12modbus_error18MODBUS_ERROR_OTHERE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a867896b7a63055286dd5f0dc6a9020e2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ERROR_OTHER</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error18MODBUS_ERROR_OTHERE" title="Link to this definition"></a><br /></dt>
<dd><p>Other unspecified error. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error22MODBUS_ERROR_CANCELLEDE">
<span id="_CPPv3N12modbus_error22MODBUS_ERROR_CANCELLEDE"></span><span id="_CPPv2N12modbus_error22MODBUS_ERROR_CANCELLEDE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92af33e94859773545eb1e3dccba72c14ed"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ERROR_CANCELLED</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error22MODBUS_ERROR_CANCELLEDE" title="Link to this definition"></a><br /></dt>
<dd><p>Operation was cancelled. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error25MODBUS_ERROR_NO_RESOURCESE">
<span id="_CPPv3N12modbus_error25MODBUS_ERROR_NO_RESOURCESE"></span><span id="_CPPv2N12modbus_error25MODBUS_ERROR_NO_RESOURCESE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a021d543ffc34657cf35eef06a700fc8a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ERROR_NO_RESOURCES</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error25MODBUS_ERROR_NO_RESOURCESE" title="Link to this definition"></a><br /></dt>
<dd><p>Requested resource could not be reserved. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error17MODBUS_ERROR_BUSYE">
<span id="_CPPv3N12modbus_error17MODBUS_ERROR_BUSYE"></span><span id="_CPPv2N12modbus_error17MODBUS_ERROR_BUSYE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92ad5ab31fe7d7e946dc018874d0334d1f1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ERROR_BUSY</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error17MODBUS_ERROR_BUSYE" title="Link to this definition"></a><br /></dt>
<dd><p>Resource busy (queue full, TX in progress, etc.). </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error33MODBUS_EXCEPTION_ILLEGAL_FUNCTIONE">
<span id="_CPPv3N12modbus_error33MODBUS_EXCEPTION_ILLEGAL_FUNCTIONE"></span><span id="_CPPv2N12modbus_error33MODBUS_EXCEPTION_ILLEGAL_FUNCTIONE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92ab82b03e8308d8b59dbfe9ab65f1384ab"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_EXCEPTION_ILLEGAL_FUNCTION</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error33MODBUS_EXCEPTION_ILLEGAL_FUNCTIONE" title="Link to this definition"></a><br /></dt>
<dd><p>Exception 1: Illegal function. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error37MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESSE">
<span id="_CPPv3N12modbus_error37MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESSE"></span><span id="_CPPv2N12modbus_error37MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESSE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a680b30f0c30b63efe7a4789779b8cbc2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error37MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESSE" title="Link to this definition"></a><br /></dt>
<dd><p>Exception 2: Illegal data address. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error35MODBUS_EXCEPTION_ILLEGAL_DATA_VALUEE">
<span id="_CPPv3N12modbus_error35MODBUS_EXCEPTION_ILLEGAL_DATA_VALUEE"></span><span id="_CPPv2N12modbus_error35MODBUS_EXCEPTION_ILLEGAL_DATA_VALUEE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a430fae73907652578aacb8a8ea3dc93a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error35MODBUS_EXCEPTION_ILLEGAL_DATA_VALUEE" title="Link to this definition"></a><br /></dt>
<dd><p>Exception 3: Illegal data value. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error38MODBUS_EXCEPTION_SERVER_DEVICE_FAILUREE">
<span id="_CPPv3N12modbus_error38MODBUS_EXCEPTION_SERVER_DEVICE_FAILUREE"></span><span id="_CPPv2N12modbus_error38MODBUS_EXCEPTION_SERVER_DEVICE_FAILUREE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a140a03b761bc6e0c188b163c76886cff"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_EXCEPTION_SERVER_DEVICE_FAILURE</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error38MODBUS_EXCEPTION_SERVER_DEVICE_FAILUREE" title="Link to this definition"></a><br /></dt>
<dd><p>Exception 4: Server device failure. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error28MODBUS_EXCEPTION_ACKNOWLEDGEE">
<span id="_CPPv3N12modbus_error28MODBUS_EXCEPTION_ACKNOWLEDGEE"></span><span id="_CPPv2N12modbus_error28MODBUS_EXCEPTION_ACKNOWLEDGEE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a336499b7cd223cab9da29e3080700e8e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_EXCEPTION_ACKNOWLEDGE</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error28MODBUS_EXCEPTION_ACKNOWLEDGEE" title="Link to this definition"></a><br /></dt>
<dd><p>Exception 5: Acknowledge (processing). </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error35MODBUS_EXCEPTION_SERVER_DEVICE_BUSYE">
<span id="_CPPv3N12modbus_error35MODBUS_EXCEPTION_SERVER_DEVICE_BUSYE"></span><span id="_CPPv2N12modbus_error35MODBUS_EXCEPTION_SERVER_DEVICE_BUSYE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a8ad89d357d47573703c49b2b6aac745e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_EXCEPTION_SERVER_DEVICE_BUSY</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error35MODBUS_EXCEPTION_SERVER_DEVICE_BUSYE" title="Link to this definition"></a><br /></dt>
<dd><p>Exception 6: Server device busy. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error37MODBUS_EXCEPTION_NEGATIVE_ACKNOWLEDGEE">
<span id="_CPPv3N12modbus_error37MODBUS_EXCEPTION_NEGATIVE_ACKNOWLEDGEE"></span><span id="_CPPv2N12modbus_error37MODBUS_EXCEPTION_NEGATIVE_ACKNOWLEDGEE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92a0366e028c07d4ee7f6ac4ed05d505170"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_EXCEPTION_NEGATIVE_ACKNOWLEDGE</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error37MODBUS_EXCEPTION_NEGATIVE_ACKNOWLEDGEE" title="Link to this definition"></a><br /></dt>
<dd><p>Exception 7: Negative acknowledge. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error36MODBUS_EXCEPTION_MEMORY_PARITY_ERRORE">
<span id="_CPPv3N12modbus_error36MODBUS_EXCEPTION_MEMORY_PARITY_ERRORE"></span><span id="_CPPv2N12modbus_error36MODBUS_EXCEPTION_MEMORY_PARITY_ERRORE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92ada280262a56e6067666f4f6c1c0dbe21"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_EXCEPTION_MEMORY_PARITY_ERROR</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error36MODBUS_EXCEPTION_MEMORY_PARITY_ERRORE" title="Link to this definition"></a><br /></dt>
<dd><p>Exception 8: Memory parity error. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error41MODBUS_EXCEPTION_GATEWAY_PATH_UNAVAILABLEE">
<span id="_CPPv3N12modbus_error41MODBUS_EXCEPTION_GATEWAY_PATH_UNAVAILABLEE"></span><span id="_CPPv2N12modbus_error41MODBUS_EXCEPTION_GATEWAY_PATH_UNAVAILABLEE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92afc4110fe97938c4dc9670b7f0911a5fc"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_EXCEPTION_GATEWAY_PATH_UNAVAILABLE</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error41MODBUS_EXCEPTION_GATEWAY_PATH_UNAVAILABLEE" title="Link to this definition"></a><br /></dt>
<dd><p>Exception 10: Gateway path unavailable. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N12modbus_error45MODBUS_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILEDE">
<span id="_CPPv3N12modbus_error45MODBUS_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILEDE"></span><span id="_CPPv2N12modbus_error45MODBUS_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILEDE"></span><span class="target" id="mb__err_8h_1ae3f8e0840e7bab7c632f69d333417e92aae1e9cd6e4d9d9966be80d28d79c33e7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILED</span></span></span><a class="headerlink" href="#_CPPv4N12modbus_error45MODBUS_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILEDE" title="Link to this definition"></a><br /></dt>
<dd><p>Exception 11: Target device failed to respond. </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv412mb_err_is_ok8mb_err_t">
<span id="_CPPv312mb_err_is_ok8mb_err_t"></span><span id="_CPPv212mb_err_is_ok8mb_err_t"></span><span id="mb_err_is_ok__mb_err_t"></span><span class="target" id="mb__err_8h_1af533b047e074071722678abbde829787"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_err_is_ok</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412mb_err_is_ok8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv410mb_err_str8mb_err_t">
<span id="_CPPv310mb_err_str8mb_err_t"></span><span id="_CPPv210mb_err_str8mb_err_t"></span><span id="mb_err_str__mb_err_t"></span><span class="target" id="mb__err_8h_1ac231325f95d438292e9d8847a6d3359f"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_err_str</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410mb_err_str8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_err_is_exception14modbus_error_t">
<span id="_CPPv319mb_err_is_exception14modbus_error_t"></span><span id="_CPPv219mb_err_is_exception14modbus_error_t"></span><span id="mb_err_is_exception__modbus_error_t"></span><span class="target" id="mb__err_8h_1ad5226d995f8315386a7653a4b889fad7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_err_is_exception</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv414modbus_error_t" title="modbus_error_t"><span class="n"><span class="pre">modbus_error_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_err_is_exception14modbus_error_t" title="Link to this definition"></a><br /></dt>
<dd><p>Determines if the given error code represents a Modbus exception. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>err</strong> – Error code to inspect. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> when the code is a protocol exception (1–4), <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425modbus_error_is_exception14modbus_error_t">
<span id="_CPPv325modbus_error_is_exception14modbus_error_t"></span><span id="_CPPv225modbus_error_is_exception14modbus_error_t"></span><span id="modbus_error_is_exception__modbus_error_t"></span><span class="target" id="mb__err_8h_1a7817dbe349215184ffd75942897ee4b8"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_error_is_exception</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv414modbus_error_t" title="modbus_error_t"><span class="n"><span class="pre">modbus_error_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425modbus_error_is_exception14modbus_error_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_host.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<p>Simplified API for host applications (desktop/Linux/macOS/Windows) and desktop applications. </p>
<p>This header provides a streamlined interface for common Modbus operations, hiding transport setup complexity and offering synchronous helpers. Perfect for learning, testing, and simple desktop tools.</p>
<p><strong>Quick Start (TCP Client):</strong> <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#include &lt;modbus/mb_host.h&gt;</span>

<span class="nb">int</span> <span class="n">main</span><span class="p">(</span><span class="n">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">Connect</span> <span class="n">to</span> <span class="n">Modbus</span> <span class="n">TCP</span> <span class="n">server</span>
    <span class="n">mb_host_client_t</span> <span class="o">*</span><span class="n">client</span> <span class="o">=</span> <span class="n">mb_host_tcp_connect</span><span class="p">(</span><span class="s2">&quot;192.168.1.10:502&quot;</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">client</span> <span class="o">==</span> <span class="n">NULL</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Connection failed</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="o">//</span> <span class="n">Read</span> <span class="mi">10</span> <span class="n">holding</span> <span class="n">registers</span>
    <span class="n">uint16_t</span> <span class="n">registers</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
    <span class="n">mb_err_t</span> <span class="n">err</span> <span class="o">=</span> <span class="n">mb_host_read_holding</span><span class="p">(</span><span class="n">client</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mh">0x1000</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">registers</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="o">==</span> <span class="n">MB_OK</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Register 0: </span><span class="si">%u</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">registers</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">printf</span><span class="p">(</span><span class="s2">&quot;Error: </span><span class="si">%s</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">mb_host_error_string</span><span class="p">(</span><span class="n">err</span><span class="p">));</span>
    <span class="p">}</span>

    <span class="n">mb_host_disconnect</span><span class="p">(</span><span class="n">client</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This API is designed for simplicity, not performance. For production embedded systems, use the full <code class="docutils literal notranslate"><span class="pre">mb_client_*</span></code> API with custom transports.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Thread safety: Each <code class="docutils literal notranslate"><span class="pre">mb_host_client_t</span></code> must be used from a single thread. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv416mb_host_client_t">
<span id="_CPPv316mb_host_client_t"></span><span id="_CPPv216mb_host_client_t"></span><span id="mb_host_client_t"></span><span class="target" id="mb__host_8h_1af2b654fd80dd1f4b17d9a96b5e9074fd"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv414mb_host_client" title="mb_host_client"><span class="n"><span class="pre">mb_host_client</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_client_t</span></span></span><a class="headerlink" href="#_CPPv416mb_host_client_t" title="Link to this definition"></a><br /></dt>
<dd><p>Opaque handle for quick API client. </p>
<p>Internally manages transport, transaction pool, and client state. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_host_tcp_connectPKc">
<span id="_CPPv319mb_host_tcp_connectPKc"></span><span id="_CPPv219mb_host_tcp_connectPKc"></span><span id="mb_host_tcp_connect__cCP"></span><span class="target" id="mb__host_8h_1ab60e7da6e3eb432afbcaf29df6711728"></span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_tcp_connect</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">host_port</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_host_tcp_connectPKc" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_host_rtu_connectPKc8uint32_t">
<span id="_CPPv319mb_host_rtu_connectPKc8uint32_t"></span><span id="_CPPv219mb_host_rtu_connectPKc8uint32_t"></span><span id="mb_host_rtu_connect__cCP.uint32_t"></span><span class="target" id="mb__host_8h_1aa7d001c4606fd04290c7cfa90010a2c1"></span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_rtu_connect</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">device</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">baudrate</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_host_rtu_connectPKc8uint32_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_host_disconnectP16mb_host_client_t">
<span id="_CPPv318mb_host_disconnectP16mb_host_client_t"></span><span id="_CPPv218mb_host_disconnectP16mb_host_client_t"></span><span id="mb_host_disconnect__mb_host_client_tP"></span><span class="target" id="mb__host_8h_1a82922a41dcadd05c0bec2923f0824a65"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_disconnect</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_host_disconnectP16mb_host_client_t" title="Link to this definition"></a><br /></dt>
<dd><p>Disconnect and free all resources. </p>
<p>Closes the underlying transport (TCP socket or serial port) and releases memory. The client handle becomes invalid after this call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client handle returned by <a class="reference internal" href="#mb__host_8h_1ab60e7da6e3eb432afbcaf29df6711728"><span class="std std-ref">mb_host_tcp_connect()</span></a> or <a class="reference internal" href="#mb__host_8h_1aa7d001c4606fd04290c7cfa90010a2c1"><span class="std std-ref">mb_host_rtu_connect()</span></a>. Passing NULL is safe (no-op). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_host_read_holdingP16mb_host_client_t7uint8_t8uint16_t8uint16_tP8uint16_t">
<span id="_CPPv320mb_host_read_holdingP16mb_host_client_t7uint8_t8uint16_t8uint16_tP8uint16_t"></span><span id="_CPPv220mb_host_read_holdingP16mb_host_client_t7uint8_t8uint16_t8uint16_tP8uint16_t"></span><span id="mb_host_read_holding__mb_host_client_tP.uint8_t.uint16_t.uint16_t.uint16_tP"></span><span class="target" id="mb__host_8h_1acdcfc1dabb0459a918ea87af921ebed3"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_read_holding</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_registers</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_host_read_holdingP16mb_host_client_t7uint8_t8uint16_t8uint16_tP8uint16_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_host_read_inputP16mb_host_client_t7uint8_t8uint16_t8uint16_tP8uint16_t">
<span id="_CPPv318mb_host_read_inputP16mb_host_client_t7uint8_t8uint16_t8uint16_tP8uint16_t"></span><span id="_CPPv218mb_host_read_inputP16mb_host_client_t7uint8_t8uint16_t8uint16_tP8uint16_t"></span><span id="mb_host_read_input__mb_host_client_tP.uint8_t.uint16_t.uint16_t.uint16_tP"></span><span class="target" id="mb__host_8h_1a3f7cdc3c9750f569488a8713a7cf9841"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_read_input</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_registers</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_host_read_inputP16mb_host_client_t7uint8_t8uint16_t8uint16_tP8uint16_t" title="Link to this definition"></a><br /></dt>
<dd><p>Read input registers (function code 0x04). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client handle </p></li>
<li><p><strong>unit_id</strong> – Modbus unit/slave ID (1-247) </p></li>
<li><p><strong>address</strong> – Starting register address (0-65535) </p></li>
<li><p><strong>count</strong> – Number of registers to read (1-125) </p></li>
<li><p><strong>out_registers</strong> – Output buffer (must hold at least <code class="docutils literal notranslate"><span class="pre">count</span></code> uint16_t values)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success, error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_host_read_coilsP16mb_host_client_t7uint8_t8uint16_t8uint16_tP7uint8_t">
<span id="_CPPv318mb_host_read_coilsP16mb_host_client_t7uint8_t8uint16_t8uint16_tP7uint8_t"></span><span id="_CPPv218mb_host_read_coilsP16mb_host_client_t7uint8_t8uint16_t8uint16_tP7uint8_t"></span><span id="mb_host_read_coils__mb_host_client_tP.uint8_t.uint16_t.uint16_t.uint8_tP"></span><span class="target" id="mb__host_8h_1a895da5f59a9c101fbd6edba669c2f220"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_read_coils</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_coils</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_host_read_coilsP16mb_host_client_t7uint8_t8uint16_t8uint16_tP7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Read coils (function code 0x01). </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Coils are packed 8 per byte (LSB first). Use bit operations to extract individual values. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client handle </p></li>
<li><p><strong>unit_id</strong> – Modbus unit/slave ID (1-247) </p></li>
<li><p><strong>address</strong> – Starting coil address (0-65535) </p></li>
<li><p><strong>count</strong> – Number of coils to read (1-2000) </p></li>
<li><p><strong>out_coils</strong> – Output buffer (must hold at least <code class="docutils literal notranslate"><span class="pre">(count</span> <span class="pre">+</span> <span class="pre">7)</span> <span class="pre">/</span> <span class="pre">8</span></code> bytes)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success, error code otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_host_read_discreteP16mb_host_client_t7uint8_t8uint16_t8uint16_tP7uint8_t">
<span id="_CPPv321mb_host_read_discreteP16mb_host_client_t7uint8_t8uint16_t8uint16_tP7uint8_t"></span><span id="_CPPv221mb_host_read_discreteP16mb_host_client_t7uint8_t8uint16_t8uint16_tP7uint8_t"></span><span id="mb_host_read_discrete__mb_host_client_tP.uint8_t.uint16_t.uint16_t.uint8_tP"></span><span class="target" id="mb__host_8h_1aa525c68c9dbe18962262163eb2bedd64"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_read_discrete</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_inputs</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_host_read_discreteP16mb_host_client_t7uint8_t8uint16_t8uint16_tP7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Read discrete inputs (function code 0x02). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client handle </p></li>
<li><p><strong>unit_id</strong> – Modbus unit/slave ID (1-247) </p></li>
<li><p><strong>address</strong> – Starting input address (0-65535) </p></li>
<li><p><strong>count</strong> – Number of inputs to read (1-2000) </p></li>
<li><p><strong>out_inputs</strong> – Output buffer (must hold at least <code class="docutils literal notranslate"><span class="pre">(count</span> <span class="pre">+</span> <span class="pre">7)</span> <span class="pre">/</span> <span class="pre">8</span></code> bytes)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success, error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429mb_host_write_single_registerP16mb_host_client_t7uint8_t8uint16_t8uint16_t">
<span id="_CPPv329mb_host_write_single_registerP16mb_host_client_t7uint8_t8uint16_t8uint16_t"></span><span id="_CPPv229mb_host_write_single_registerP16mb_host_client_t7uint8_t8uint16_t8uint16_t"></span><span id="mb_host_write_single_register__mb_host_client_tP.uint8_t.uint16_t.uint16_t"></span><span class="target" id="mb__host_8h_1a7556a08036d2f319858061c020298ef5"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_write_single_register</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429mb_host_write_single_registerP16mb_host_client_t7uint8_t8uint16_t8uint16_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mb_host_write_single_coilP16mb_host_client_t7uint8_t8uint16_tb">
<span id="_CPPv325mb_host_write_single_coilP16mb_host_client_t7uint8_t8uint16_tb"></span><span id="_CPPv225mb_host_write_single_coilP16mb_host_client_t7uint8_t8uint16_tb"></span><span id="mb_host_write_single_coil__mb_host_client_tP.uint8_t.uint16_t.b"></span><span class="target" id="mb__host_8h_1abc771e43bbd447af90df18e797e0343d"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_write_single_coil</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mb_host_write_single_coilP16mb_host_client_t7uint8_t8uint16_tb" title="Link to this definition"></a><br /></dt>
<dd><p>Write a single coil (function code 0x05). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client handle </p></li>
<li><p><strong>unit_id</strong> – Modbus unit/slave ID (1-247) </p></li>
<li><p><strong>address</strong> – Coil address (0-65535) </p></li>
<li><p><strong>value</strong> – Coil state (true = ON, false = OFF)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success, error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432mb_host_write_multiple_registersP16mb_host_client_t7uint8_t8uint16_t8uint16_tPK8uint16_t">
<span id="_CPPv332mb_host_write_multiple_registersP16mb_host_client_t7uint8_t8uint16_t8uint16_tPK8uint16_t"></span><span id="_CPPv232mb_host_write_multiple_registersP16mb_host_client_t7uint8_t8uint16_t8uint16_tPK8uint16_t"></span><span id="mb_host_write_multiple_registers__mb_host_client_tP.uint8_t.uint16_t.uint16_t.uint16_tCP"></span><span class="target" id="mb__host_8h_1a13733a16181e3d687909f7414705a380"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_write_multiple_registers</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">registers</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432mb_host_write_multiple_registersP16mb_host_client_t7uint8_t8uint16_t8uint16_tPK8uint16_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428mb_host_write_multiple_coilsP16mb_host_client_t7uint8_t8uint16_t8uint16_tPK7uint8_t">
<span id="_CPPv328mb_host_write_multiple_coilsP16mb_host_client_t7uint8_t8uint16_t8uint16_tPK7uint8_t"></span><span id="_CPPv228mb_host_write_multiple_coilsP16mb_host_client_t7uint8_t8uint16_t8uint16_tPK7uint8_t"></span><span id="mb_host_write_multiple_coils__mb_host_client_tP.uint8_t.uint16_t.uint16_t.uint8_tCP"></span><span class="target" id="mb__host_8h_1a58738c7069fc05816cb1bf1865fef642"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_write_multiple_coils</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">coils</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428mb_host_write_multiple_coilsP16mb_host_client_t7uint8_t8uint16_t8uint16_tPK7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Write multiple coils (function code 0x0F). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client handle </p></li>
<li><p><strong>unit_id</strong> – Modbus unit/slave ID (1-247) </p></li>
<li><p><strong>address</strong> – Starting coil address (0-65535) </p></li>
<li><p><strong>count</strong> – Number of coils to write (1-1968) </p></li>
<li><p><strong>coils</strong> – Input buffer (packed 8 coils per byte, LSB first)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success, error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_host_set_timeoutP16mb_host_client_t8uint32_t">
<span id="_CPPv319mb_host_set_timeoutP16mb_host_client_t8uint32_t"></span><span id="_CPPv219mb_host_set_timeoutP16mb_host_client_t8uint32_t"></span><span id="mb_host_set_timeout__mb_host_client_tP.uint32_t"></span><span class="target" id="mb__host_8h_1abc5ae4e14423fc835747110db4bc9ed1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_set_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_host_set_timeoutP16mb_host_client_t8uint32_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_host_enable_loggingP16mb_host_client_tb">
<span id="_CPPv322mb_host_enable_loggingP16mb_host_client_tb"></span><span id="_CPPv222mb_host_enable_loggingP16mb_host_client_tb"></span><span id="mb_host_enable_logging__mb_host_client_tP.b"></span><span class="target" id="mb__host_8h_1af8032413cfb5256f23416d7248788884"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_enable_logging</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">enable</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_host_enable_loggingP16mb_host_client_tb" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_host_error_string8mb_err_t">
<span id="_CPPv320mb_host_error_string8mb_err_t"></span><span id="_CPPv220mb_host_error_string8mb_err_t"></span><span id="mb_host_error_string__mb_err_t"></span><span class="target" id="mb__host_8h_1a81fb050d92c8429167b10237d7753e54"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_error_string</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_host_error_string8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_host_last_exceptionP16mb_host_client_t">
<span id="_CPPv322mb_host_last_exceptionP16mb_host_client_t"></span><span id="_CPPv222mb_host_last_exceptionP16mb_host_client_t"></span><span id="mb_host_last_exception__mb_host_client_tP"></span><span class="target" id="mb__host_8h_1ac5a792abac639409c39f8f13f9346be3"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_last_exception</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_host_last_exceptionP16mb_host_client_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__iovec_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_iovec.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<p>Zero-copy scatter-gather IO primitives for Modbus. </p>
<p>This module provides iovec-style descriptors for efficient, zero-copy data transfer between transport layers and the PDU codec. Instead of copying data multiple times, we work with views (windows) into ring buffers or DMA regions.</p>
<p>Key benefits:<ul class="simple">
<li><p>Reduced RAM usage (no intermediate buffers)</p></li>
<li><p>Fewer memcpy operations in hot paths</p></li>
<li><p>Direct encoder/decoder access to ring buffer regions</p></li>
</ul>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All structures are designed for embedded use with minimal overhead. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_IOVEC_STATS_INC">
<span class="target" id="mb__iovec_8h_1a671e05fccf6cf945caa278464e783025"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_IOVEC_STATS_INC</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">field</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_IOVEC_STATS_INC" title="Link to this definition"></a><br /></dt>
<dd><p>Global zero-copy statistics (optional, for testing/debugging). </p>
<p>Can be disabled by setting MB_CONF_ENABLE_IOVEC_STATS to 0. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_IOVEC_STATS_MAX">
<span class="target" id="mb__iovec_8h_1a4dc436376e71ee683c8dc66de8b31959"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_IOVEC_STATS_MAX</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">field</span></span>, <span class="n"><span class="pre">val</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_IOVEC_STATS_MAX" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv413mb_iovec_initP10mb_iovec_tPK5mb_u89mb_size_t">
<span id="_CPPv313mb_iovec_initP10mb_iovec_tPK5mb_u89mb_size_t"></span><span id="_CPPv213mb_iovec_initP10mb_iovec_tPK5mb_u89mb_size_t"></span><span id="mb_iovec_init__mb_iovec_tP.mb_u8CP.mb_size_t"></span><span class="target" id="mb__iovec_8h_1a03abdb14de95b7d7c6788252d801da38"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv410mb_iovec_t" title="mb_iovec_t"><span class="n"><span class="pre">mb_iovec_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iov</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">base</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413mb_iovec_initP10mb_iovec_tPK5mb_u89mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize an IO vector with base pointer and length. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iov</strong> – Pointer to the iovec to initialize </p></li>
<li><p><strong>base</strong> – Base pointer to the memory region </p></li>
<li><p><strong>len</strong> – Length of the region in bytes </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_iovec_list_initP15mb_iovec_list_tP10mb_iovec_t9mb_size_t">
<span id="_CPPv318mb_iovec_list_initP15mb_iovec_list_tP10mb_iovec_t9mb_size_t"></span><span id="_CPPv218mb_iovec_list_initP15mb_iovec_list_tP10mb_iovec_t9mb_size_t"></span><span id="mb_iovec_list_init__mb_iovec_list_tP.mb_iovec_tP.mb_size_t"></span><span class="target" id="mb__iovec_8h_1a62264ee7823e3223706634f324de10fe"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_list_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">list</span></span>, <a class="reference internal" href="#_CPPv410mb_iovec_t" title="mb_iovec_t"><span class="n"><span class="pre">mb_iovec_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">vectors</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_iovec_list_initP15mb_iovec_list_tP10mb_iovec_t9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize an empty IO vector list. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – Pointer to the iovec list to initialize </p></li>
<li><p><strong>vectors</strong> – Array of iovecs to use </p></li>
<li><p><strong>capacity</strong> – Maximum number of vectors in the array </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_iovec_list_addP15mb_iovec_list_tPK5mb_u89mb_size_t">
<span id="_CPPv317mb_iovec_list_addP15mb_iovec_list_tPK5mb_u89mb_size_t"></span><span id="_CPPv217mb_iovec_list_addP15mb_iovec_list_tPK5mb_u89mb_size_t"></span><span id="mb_iovec_list_add__mb_iovec_list_tP.mb_u8CP.mb_size_t"></span><span class="target" id="mb__iovec_8h_1acbaa4bea0005c7404fbfed0bf5341a05"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_list_add</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">list</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">base</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_iovec_list_addP15mb_iovec_list_tPK5mb_u89mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Add an IO vector to a list. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – Pointer to the iovec list </p></li>
<li><p><strong>base</strong> – Base pointer to the memory region </p></li>
<li><p><strong>len</strong> – Length of the region in bytes </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success, error code otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_iovec_list_totalPK15mb_iovec_list_t">
<span id="_CPPv319mb_iovec_list_totalPK15mb_iovec_list_t"></span><span id="_CPPv219mb_iovec_list_totalPK15mb_iovec_list_t"></span><span id="mb_iovec_list_total__mb_iovec_list_tCP"></span><span class="target" id="mb__iovec_8h_1aecf699eee00e6f35ec4be66e9ff511e7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_list_total</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">list</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_iovec_list_totalPK15mb_iovec_list_t" title="Link to this definition"></a><br /></dt>
<dd><p>Calculate total bytes across all vectors in a list. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>list</strong> – Pointer to the iovec list </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Total number of bytes </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_iovec_list_copyoutPK15mb_iovec_list_tP5mb_u89mb_size_t">
<span id="_CPPv321mb_iovec_list_copyoutPK15mb_iovec_list_tP5mb_u89mb_size_t"></span><span id="_CPPv221mb_iovec_list_copyoutPK15mb_iovec_list_tP5mb_u89mb_size_t"></span><span id="mb_iovec_list_copyout__mb_iovec_list_tCP.mb_u8P.mb_size_t"></span><span class="target" id="mb__iovec_8h_1ade8df39da5650c74e1a0ac0927cdbabd"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_list_copyout</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">list</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dst</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">dst_size</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_iovec_list_copyoutPK15mb_iovec_list_tP5mb_u89mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Copy data from an iovec list to a contiguous buffer. </p>
<p>This is a fallback for cases where scatter-gather is not supported by the underlying transport. Should be avoided in performance-critical paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – Source iovec list </p></li>
<li><p><strong>dst</strong> – Destination buffer </p></li>
<li><p><strong>dst_size</strong> – Size of destination buffer </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes copied, or 0 on error </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_iovec_list_copyinPK15mb_iovec_list_tPK5mb_u89mb_size_t">
<span id="_CPPv320mb_iovec_list_copyinPK15mb_iovec_list_tPK5mb_u89mb_size_t"></span><span id="_CPPv220mb_iovec_list_copyinPK15mb_iovec_list_tPK5mb_u89mb_size_t"></span><span id="mb_iovec_list_copyin__mb_iovec_list_tCP.mb_u8CP.mb_size_t"></span><span class="target" id="mb__iovec_8h_1a255d6d02f1c0da42b7c9bd45d52ecce5"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_list_copyin</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">list</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">src</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">src_len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_iovec_list_copyinPK15mb_iovec_list_tPK5mb_u89mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Copy data from a contiguous buffer into an iovec list. </p>
<p>This is used when receiving data into a fragmented ring buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – Destination iovec list </p></li>
<li><p><strong>src</strong> – Source buffer </p></li>
<li><p><strong>src_len</strong> – Length of source data </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes copied, or 0 on error </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_iovec_from_ringP15mb_iovec_list_tPK5mb_u89mb_size_t9mb_size_t9mb_size_t">
<span id="_CPPv318mb_iovec_from_ringP15mb_iovec_list_tPK5mb_u89mb_size_t9mb_size_t9mb_size_t"></span><span id="_CPPv218mb_iovec_from_ringP15mb_iovec_list_tPK5mb_u89mb_size_t9mb_size_t9mb_size_t"></span><span id="mb_iovec_from_ring__mb_iovec_list_tP.mb_u8CP.mb_size_t.mb_size_t.mb_size_t"></span><span class="target" id="mb__iovec_8h_1ac5914c06a900aff59bc7b35efb500d0c"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_from_ring</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">list</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ring_base</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">ring_capacity</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">start</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_iovec_from_ringP15mb_iovec_list_tPK5mb_u89mb_size_t9mb_size_t9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Create an iovec view from a ring buffer region. </p>
<p>Handles ring buffer wrap-around by creating 1 or 2 iovecs as needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – Output iovec list (must have space for 2 vectors) </p></li>
<li><p><strong>ring_base</strong> – Ring buffer base pointer </p></li>
<li><p><strong>ring_capacity</strong> – Ring buffer total capacity </p></li>
<li><p><strong>start</strong> – Start offset in the ring buffer </p></li>
<li><p><strong>len</strong> – Number of bytes to view </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success, error code otherwise </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_isr.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__queue_8h"><span class="std std-ref">modbus/mb_queue.h</span></a>&gt;</em></div>
<p>ISR-safe mode for fast half-duplex Modbus links with minimal turnaround time. </p>
<p>This module provides interrupt-safe APIs for Modbus operations that need to run within ISR context, particularly for RTU/ASCII links with tight timing constraints.</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_IN_ISR">
<span class="target" id="mb__isr_8h_1a6e37b17fff7560e7881d43f7961fbbd2"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_IN_ISR</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_IN_ISR" title="Link to this definition"></a><br /></dt>
<dd><p>Macro to check if currently in ISR context. </p>
<p>Use for conditional code: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">MB_IN_ISR</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Fast ISR path</span>
<span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Normal thread path</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ISR_SAFE_LOG">
<span class="target" id="mb__isr_8h_1adf4d1c64d77a6ec6b57ab1866b1f081b"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ISR_SAFE_LOG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">level</span></span>, <span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_ISR_SAFE_LOG" title="Link to this definition"></a><br /></dt>
<dd><p>Lightweight logging for ISR context. </p>
<p>Suppresses detailed logging, only critical errors logged. <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">MB_ISR_SAFE_LOG</span><span class="p">(</span><span class="n">ERROR</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;RX CRC mismatch&quot;</span><span class="p">);</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ASSERT_NOT_ISR">
<span class="target" id="mb__isr_8h_1ab5b1cfb2970ec79ebb2606c0d8344e3e"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ASSERT_NOT_ISR</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_ASSERT_NOT_ISR" title="Link to this definition"></a><br /></dt>
<dd><p>Runtime assertion that code is NOT in ISR context. </p>
<p>Use for functions that must never be called from ISR: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">heavy_operation</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MB_ASSERT_NOT_ISR</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// ... malloc, mutex, heavy logging ...</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv414mb_isr_stats_t">
<span id="_CPPv314mb_isr_stats_t"></span><span id="_CPPv214mb_isr_stats_t"></span><span id="mb_isr_stats_t"></span><span class="target" id="mb__isr_8h_1a1dcaaf6936a042bc2a30100ce7f40ed2"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_isr_stats" title="mb_isr_stats"><span class="n"><span class="pre">mb_isr_stats</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_stats_t</span></span></span><a class="headerlink" href="#_CPPv414mb_isr_stats_t" title="Link to this definition"></a><br /></dt>
<dd><p>Statistics for ISR-safe operations. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412mb_isr_ctx_t">
<span id="_CPPv312mb_isr_ctx_t"></span><span id="_CPPv212mb_isr_ctx_t"></span><span id="mb_isr_ctx_t"></span><span class="target" id="mb__isr_8h_1a9dfc1116ee2f75a1a8917ae95978be84"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv410mb_isr_ctx" title="mb_isr_ctx"><span class="n"><span class="pre">mb_isr_ctx</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></span><a class="headerlink" href="#_CPPv412mb_isr_ctx_t" title="Link to this definition"></a><br /></dt>
<dd><p>ISR-safe Modbus context structure. </p>
<p>Contains lock-free queues, buffers, and statistics for ISR-safe operation. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv415mb_isr_config_t">
<span id="_CPPv315mb_isr_config_t"></span><span id="_CPPv215mb_isr_config_t"></span><span id="mb_isr_config_t"></span><span class="target" id="mb__isr_8h_1af23b13794c6da3bff513da592d2a87d0"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_isr_config" title="mb_isr_config"><span class="n"><span class="pre">mb_isr_config</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_config_t</span></span></span><a class="headerlink" href="#_CPPv415mb_isr_config_t" title="Link to this definition"></a><br /></dt>
<dd><p>Configuration for ISR-safe context. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv49mb_in_isrv">
<span id="_CPPv39mb_in_isrv"></span><span id="_CPPv29mb_in_isrv"></span><span id="mb_in_isr__void"></span><span class="target" id="mb__isr_8h_1a6cddb9662f9f7feeca4cb40e55d20c2a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_in_isr</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv49mb_in_isrv" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if code is currently executing in ISR context. </p>
<p>Platform-specific detection:<ul class="simple">
<li><p><strong>ARM Cortex-M</strong>: Reads IPSR (Interrupt Program Status Register)</p></li>
<li><p><strong>FreeRTOS</strong>: Uses <code class="docutils literal notranslate"><span class="pre">xPortIsInsideInterrupt()</span></code></p></li>
<li><p><strong>Zephyr</strong>: Uses <code class="docutils literal notranslate"><span class="pre">k_is_in_isr()</span></code></p></li>
<li><p><strong>Fallback</strong>: Thread-local flag (requires manual setting)</p></li>
</ul>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a lightweight check, typically &lt;10 CPU cycles. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true</strong> – Code is running in ISR/exception handler </p></li>
<li><p><strong>false</strong> – Code is running in thread/task context</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_set_isr_contextb">
<span id="_CPPv318mb_set_isr_contextb"></span><span id="_CPPv218mb_set_isr_contextb"></span><span id="mb_set_isr_context__b"></span><span class="target" id="mb__isr_8h_1a785e134ebc394d9e1c1a3084f8686b43"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_set_isr_context</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">in_isr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_set_isr_contextb" title="Link to this definition"></a><br /></dt>
<dd><p>Sets ISR context flag manually (for platforms without auto-detection). </p>
<p>Use at ISR entry/exit if automatic detection is unavailable: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">my_isr</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mb_set_isr_context</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// ... ISR work ...</span>
<span class="w">    </span><span class="n">mb_set_isr_context</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only needed on platforms without IPSR/FreeRTOS/Zephyr. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>in_isr</strong> – <strong>[in]</strong> true if entering ISR, false if leaving</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_on_rx_chunk_from_isrP12mb_isr_ctx_tPK7uint8_t6size_t">
<span id="_CPPv323mb_on_rx_chunk_from_isrP12mb_isr_ctx_tPK7uint8_t6size_t"></span><span id="_CPPv223mb_on_rx_chunk_from_isrP12mb_isr_ctx_tPK7uint8_t6size_t"></span><span id="mb_on_rx_chunk_from_isr__mb_isr_ctx_tP.uint8_tCP.s"></span><span class="target" id="mb__isr_8h_1ae92d8737cbe6d8f7be7cf39665c80e2e"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_on_rx_chunk_from_isr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_on_rx_chunk_from_isrP12mb_isr_ctx_tPK7uint8_t6size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Processes incoming data chunk from ISR context. </p>
<p>Optimized for minimal latency:<ul class="simple">
<li><p>Validates frame structure (address, CRC)</p></li>
<li><p>Enqueues to lock-free SPSC queue</p></li>
<li><p>Prepares response if server mode</p></li>
<li><p>No malloc, no heavy logging</p></li>
</ul>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function MUST be called from ISR context. Typically invoked from UART RX DMA complete + IDLE line interrupt.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not call from thread context! Use <code class="docutils literal notranslate"><span class="pre">mb_on_rx_chunk()</span></code> instead. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle </p></li>
<li><p><strong>data</strong> – <strong>[in]</strong> Pointer to received data (DMA buffer, ring buffer, etc.) </p></li>
<li><p><strong>len</strong> – <strong>[in]</strong> Number of bytes received</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Chunk processed successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – ctx or data is NULL, len is 0 </p></li>
<li><p><strong>MB_ERR_BUSY</strong> – Queue full, backpressure applied</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_try_tx_from_isrP12mb_isr_ctx_t">
<span id="_CPPv318mb_try_tx_from_isrP12mb_isr_ctx_t"></span><span id="_CPPv218mb_try_tx_from_isrP12mb_isr_ctx_t"></span><span id="mb_try_tx_from_isr__mb_isr_ctx_tP"></span><span class="target" id="mb__isr_8h_1ae368c71684724e04c821831d27dae766"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_try_tx_from_isr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_try_tx_from_isrP12mb_isr_ctx_t" title="Link to this definition"></a><br /></dt>
<dd><p>Attempts to start TX transmission from ISR context. </p>
<p>Checks if response/request is ready and initiates transmission:<ul class="simple">
<li><p>Reads from TX queue (lock-free dequeue)</p></li>
<li><p>Configures DMA/UART for transmission</p></li>
<li><p>Returns immediately, no blocking</p></li>
</ul>
</p>
<p>Typical usage after RX: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">uart_rx_complete_isr</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mb_on_rx_chunk_from_isr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="n">rx_buf</span><span class="p">,</span><span class="w"> </span><span class="n">rx_len</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// Try immediate TX for fast turnaround</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mb_try_tx_from_isr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctx</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">uart_start_tx_dma</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Returns immediately, does not block waiting for TX complete. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – TX started, data available for transmission </p></li>
<li><p><strong>false</strong> – No data to transmit, or TX already in progress</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mb_get_tx_buffer_from_isrP12mb_isr_ctx_tPPK7uint8_tP6size_t">
<span id="_CPPv325mb_get_tx_buffer_from_isrP12mb_isr_ctx_tPPK7uint8_tP6size_t"></span><span id="_CPPv225mb_get_tx_buffer_from_isrP12mb_isr_ctx_tPPK7uint8_tP6size_t"></span><span id="mb_get_tx_buffer_from_isr__mb_isr_ctx_tP.uint8_tCPP.sP"></span><span class="target" id="mb__isr_8h_1a12f09e0dadcd4a9d2f4e6762bff55899"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_get_tx_buffer_from_isr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mb_get_tx_buffer_from_isrP12mb_isr_ctx_tPPK7uint8_tP6size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Gets pointer to TX buffer and length (zero-copy). </p>
<p>For DMA-based transmission, get direct pointer to avoid memcpy: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">tx_data</span><span class="p">;</span>
<span class="kt">size_t</span><span class="w"> </span><span class="n">tx_len</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mb_get_tx_buffer_from_isr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tx_data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tx_len</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">uart_dma_start_tx</span><span class="p">(</span><span class="n">tx_data</span><span class="p">,</span><span class="w"> </span><span class="n">tx_len</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Buffer remains valid until <code class="docutils literal notranslate"><a class="reference internal" href="#mb__isr_8h_1adc8f9fd801136d54e8fdb17d5c3f4f39"><span class="std std-ref"><span class="pre">mb_tx_complete_from_isr()</span></span></a></code> is called. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle </p></li>
<li><p><strong>out_data</strong> – <strong>[out]</strong> Pointer to TX buffer (read-only) </p></li>
<li><p><strong>out_len</strong> – <strong>[out]</strong> Length of TX data in bytes</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – TX buffer ready </p></li>
<li><p><strong>false</strong> – No data to transmit</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_tx_complete_from_isrP12mb_isr_ctx_t">
<span id="_CPPv323mb_tx_complete_from_isrP12mb_isr_ctx_t"></span><span id="_CPPv223mb_tx_complete_from_isrP12mb_isr_ctx_t"></span><span id="mb_tx_complete_from_isr__mb_isr_ctx_tP"></span><span class="target" id="mb__isr_8h_1adc8f9fd801136d54e8fdb17d5c3f4f39"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_tx_complete_from_isr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_tx_complete_from_isrP12mb_isr_ctx_t" title="Link to this definition"></a><br /></dt>
<dd><p>Notifies that TX transmission completed. </p>
<p>Call from TX complete ISR: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">uart_tx_complete_isr</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mb_tx_complete_from_isr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctx</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Releases TX buffer, allows next transmission. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_isr_ctx_initP12mb_isr_ctx_tPK15mb_isr_config_t">
<span id="_CPPv315mb_isr_ctx_initP12mb_isr_ctx_tPK15mb_isr_config_t"></span><span id="_CPPv215mb_isr_ctx_initP12mb_isr_ctx_tPK15mb_isr_config_t"></span><span id="mb_isr_ctx_init__mb_isr_ctx_tP.mb_isr_config_tCP"></span><span class="target" id="mb__isr_8h_1a4f6b6a2af99e8d36e9745045e5955253"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_ctx_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_isr_config_t" title="mb_isr_config_t"><span class="n"><span class="pre">mb_isr_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_isr_ctx_initP12mb_isr_ctx_tPK15mb_isr_config_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initializes ISR-safe context with external storage. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All storage (queues, buffers) must remain valid for context lifetime. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[out]</strong> Context to initialize </p></li>
<li><p><strong>config</strong> – <strong>[in]</strong> Configuration with queue/buffer storage</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Context initialized successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointers or invalid config</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_isr_ctx_deinitP12mb_isr_ctx_t">
<span id="_CPPv317mb_isr_ctx_deinitP12mb_isr_ctx_t"></span><span id="_CPPv217mb_isr_ctx_deinitP12mb_isr_ctx_t"></span><span id="mb_isr_ctx_deinit__mb_isr_ctx_tP"></span><span class="target" id="mb__isr_8h_1aaef1fab397af12ae229d3b44cfc7bdc9"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_ctx_deinit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_isr_ctx_deinitP12mb_isr_ctx_t" title="Link to this definition"></a><br /></dt>
<dd><p>Deinitializes ISR-safe context. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context to deinitialize </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416mb_isr_get_statsPK12mb_isr_ctx_tP14mb_isr_stats_t">
<span id="_CPPv316mb_isr_get_statsPK12mb_isr_ctx_tP14mb_isr_stats_t"></span><span id="_CPPv216mb_isr_get_statsPK12mb_isr_ctx_tP14mb_isr_stats_t"></span><span id="mb_isr_get_stats__mb_isr_ctx_tCP.mb_isr_stats_tP"></span><span class="target" id="mb__isr_8h_1aa362da7978a18396b6924b7a5d7574d0"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_get_stats</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="#_CPPv414mb_isr_stats_t" title="mb_isr_stats_t"><span class="n"><span class="pre">mb_isr_stats_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">stats</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416mb_isr_get_statsPK12mb_isr_ctx_tP14mb_isr_stats_t" title="Link to this definition"></a><br /></dt>
<dd><p>Retrieves ISR operation statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle </p></li>
<li><p><strong>stats</strong> – <strong>[out]</strong> Structure to fill with statistics</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Statistics retrieved successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_isr_reset_statsP12mb_isr_ctx_t">
<span id="_CPPv318mb_isr_reset_statsP12mb_isr_ctx_t"></span><span id="_CPPv218mb_isr_reset_statsP12mb_isr_ctx_t"></span><span id="mb_isr_reset_stats__mb_isr_ctx_tP"></span><span class="target" id="mb__isr_8h_1a0c2d77f8d84212c694f1247f6be4c5dd"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_reset_stats</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_isr_reset_statsP12mb_isr_ctx_t" title="Link to this definition"></a><br /></dt>
<dd><p>Resets ISR statistics counters. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__log_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_log.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#log_8h"><span class="std std-ref">modbus/log.h</span></a>&gt;</em></div>
<p>Lightweight logging façade shared across the Modbus library. </p>
<p>The module re-exports the underlying logging implementation through Modbus-specific names so applications can configure sinks and thresholds without depending on the internal headers. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_TRACE_LEVEL">
<span class="target" id="mb__log_8h_1a9b67cc5dec8a1b1a1c3d15994a5b2e53"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_TRACE_LEVEL</span></span></span><a class="headerlink" href="#c.MB_LOG_TRACE_LEVEL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_DEBUG_LEVEL">
<span class="target" id="mb__log_8h_1ad46b4472bac95da9eec10154465829b6"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_DEBUG_LEVEL</span></span></span><a class="headerlink" href="#c.MB_LOG_DEBUG_LEVEL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_INFO_LEVEL">
<span class="target" id="mb__log_8h_1ae115e03f6e72a7a442844ef86daf0ea5"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_INFO_LEVEL</span></span></span><a class="headerlink" href="#c.MB_LOG_INFO_LEVEL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_WARNING_LEVEL">
<span class="target" id="mb__log_8h_1a31e5b1114b137b6304dc984f243f2d61"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_WARNING_LEVEL</span></span></span><a class="headerlink" href="#c.MB_LOG_WARNING_LEVEL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_ERROR_LEVEL">
<span class="target" id="mb__log_8h_1ab563db47fde4bc4807bac105c18dd66d"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_ERROR_LEVEL</span></span></span><a class="headerlink" href="#c.MB_LOG_ERROR_LEVEL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_CRITICAL_LEVEL">
<span class="target" id="mb__log_8h_1a204ca45968e1572a444e6f2bb792dfe5"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_CRITICAL_LEVEL</span></span></span><a class="headerlink" href="#c.MB_LOG_CRITICAL_LEVEL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_ALWAYS_LEVEL">
<span class="target" id="mb__log_8h_1a276e9bdee3480b137c528430abbc150b"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_ALWAYS_LEVEL</span></span></span><a class="headerlink" href="#c.MB_LOG_ALWAYS_LEVEL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_ERR_NONE">
<span class="target" id="mb__log_8h_1a7eccb7ec3400832caed8737834a07a5a"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_ERR_NONE</span></span></span><a class="headerlink" href="#c.MB_LOG_ERR_NONE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_ERR_SUBSCRIBERS_EXCEEDED">
<span class="target" id="mb__log_8h_1aa88a4ee1430262aa19c9640ad3da29fc"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_ERR_SUBSCRIBERS_EXCEEDED</span></span></span><a class="headerlink" href="#c.MB_LOG_ERR_SUBSCRIBERS_EXCEEDED" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_ERR_NOT_SUBSCRIBED">
<span class="target" id="mb__log_8h_1ab347f6032494751cb6494c4dd025c7f6"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_ERR_NOT_SUBSCRIBED</span></span></span><a class="headerlink" href="#c.MB_LOG_ERR_NOT_SUBSCRIBED" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_ENABLED">
<span class="target" id="mb__log_8h_1ae7b0530e1b3a238d6c3994bd7b5dbd1d"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_ENABLED</span></span></span><a class="headerlink" href="#c.MB_LOG_ENABLED" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_ENABLE_STDIO">
<span class="target" id="mb__log_8h_1a61400c5cb8da06febacf03d5eda5ec61"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_ENABLE_STDIO</span></span></span><a class="headerlink" href="#c.MB_LOG_ENABLE_STDIO" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_ENABLE_SEGGER_RTT">
<span class="target" id="mb__log_8h_1a0b1c4d8d60124c124d0e7cc57e370a99"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_ENABLE_SEGGER_RTT</span></span></span><a class="headerlink" href="#c.MB_LOG_ENABLE_SEGGER_RTT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_DEFAULT_THRESHOLD">
<span class="target" id="mb__log_8h_1ae1f51c5553b26dae7c9a3af88d014638"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_DEFAULT_THRESHOLD</span></span></span><a class="headerlink" href="#c.MB_LOG_DEFAULT_THRESHOLD" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_STDOUT_SYNC_FLUSH">
<span class="target" id="mb__log_8h_1a1a09fa655575a0da7018612bc0691745"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_STDOUT_SYNC_FLUSH</span></span></span><a class="headerlink" href="#c.MB_LOG_STDOUT_SYNC_FLUSH" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_RTT_CHANNEL">
<span class="target" id="mb__log_8h_1a6da25f687afddad96dbf3dca1d34c6bf"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_RTT_CHANNEL</span></span></span><a class="headerlink" href="#c.MB_LOG_RTT_CHANNEL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_INIT">
<span class="target" id="mb__log_8h_1a05b685de2f1f0d2773e279ca7528b213"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_INIT</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LOG_INIT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_SUBSCRIBE">
<span class="target" id="mb__log_8h_1a8bccc81dd8a4d5cee01206169a7eea8d"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_SUBSCRIBE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">fn</span></span>, <span class="n"><span class="pre">threshold</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LOG_SUBSCRIBE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_UNSUBSCRIBE">
<span class="target" id="mb__log_8h_1a48c8f21783665bf1585dc8de9c02afe7"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_UNSUBSCRIBE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">fn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LOG_UNSUBSCRIBE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_LEVEL_NAME">
<span class="target" id="mb__log_8h_1a1f095f26afb39c66b5685c5b40f68906"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_LEVEL_NAME</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">level</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LOG_LEVEL_NAME" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_TRACE">
<span class="target" id="mb__log_8h_1ae8a341efdd03bad5f69a8cd98d7710a9"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_TRACE</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LOG_TRACE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_DEBUG">
<span class="target" id="mb__log_8h_1aa7a4760819477ecf95bf8f4ba7069d3c"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_DEBUG</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LOG_DEBUG" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_INFO">
<span class="target" id="mb__log_8h_1aba7d07ba32f12bf1714f79c0191392e1"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_INFO</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LOG_INFO" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_WARNING">
<span class="target" id="mb__log_8h_1a7c6407080e466fa252a0d7e8af845b81"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_WARNING</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LOG_WARNING" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_ERROR">
<span class="target" id="mb__log_8h_1adf0a7ae067c0308d4fedffab6ee5c707"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_ERROR</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LOG_ERROR" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_CRITICAL">
<span class="target" id="mb__log_8h_1ae25385a37dbf2268c5fcd3c09853ff16"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_CRITICAL</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LOG_CRITICAL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LOG_ALWAYS">
<span class="target" id="mb__log_8h_1a4fc0ea67141f649d05a570aea2624c6c"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LOG_ALWAYS</span></span></span><span class="sig-paren">(</span><span class="p"><span class="pre">...</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LOG_ALWAYS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv414mb_log_level_t">
<span id="_CPPv314mb_log_level_t"></span><span id="_CPPv214mb_log_level_t"></span><span id="mb_log_level_t"></span><span class="target" id="mb__log_8h_1abd94235e4b61dfd5a676f32ef6d07847"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411log_level_t" title="log_level_t"><span class="n"><span class="pre">log_level_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_log_level_t</span></span></span><a class="headerlink" href="#_CPPv414mb_log_level_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412mb_log_err_t">
<span id="_CPPv312mb_log_err_t"></span><span id="_CPPv212mb_log_err_t"></span><span id="mb_log_err_t"></span><span class="target" id="mb__log_8h_1a8d9e4d98cf9783697f4c3a9e7a84a69d"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49log_err_t" title="log_err_t"><span class="n"><span class="pre">log_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_log_err_t</span></span></span><a class="headerlink" href="#_CPPv412mb_log_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv417mb_log_function_t">
<span id="_CPPv317mb_log_function_t"></span><span id="_CPPv217mb_log_function_t"></span><span id="mb_log_function_t"></span><span class="target" id="mb__log_8h_1afd93fef76ef8213cc0acd2d94dbce02b"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv414log_function_t" title="log_function_t"><span class="n"><span class="pre">log_function_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_log_function_t</span></span></span><a class="headerlink" href="#_CPPv417mb_log_function_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mb_log_bootstrap_defaultsv">
<span id="_CPPv325mb_log_bootstrap_defaultsv"></span><span id="_CPPv225mb_log_bootstrap_defaultsv"></span><span id="mb_log_bootstrap_defaults__void"></span><span class="target" id="mb__log_8h_1afe4b9590bc981a7c58a132792a15c658"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_log_bootstrap_defaults</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mb_log_bootstrap_defaultsv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_log_subscribe_stdio14mb_log_level_t">
<span id="_CPPv322mb_log_subscribe_stdio14mb_log_level_t"></span><span id="_CPPv222mb_log_subscribe_stdio14mb_log_level_t"></span><span id="mb_log_subscribe_stdio__mb_log_level_t"></span><span class="target" id="mb__log_8h_1ad5871652607c76515ca50de2556c341a"></span><a class="reference internal" href="#_CPPv412mb_log_err_t" title="mb_log_err_t"><span class="n"><span class="pre">mb_log_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_log_subscribe_stdio</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv414mb_log_level_t" title="mb_log_level_t"><span class="n"><span class="pre">mb_log_level_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">threshold</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_log_subscribe_stdio14mb_log_level_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_log_subscribe_rtt14mb_log_level_t">
<span id="_CPPv320mb_log_subscribe_rtt14mb_log_level_t"></span><span id="_CPPv220mb_log_subscribe_rtt14mb_log_level_t"></span><span id="mb_log_subscribe_rtt__mb_log_level_t"></span><span class="target" id="mb__log_8h_1a3ca666e30ac36eb61744c5aa6755807a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_log_err_t" title="mb_log_err_t"><span class="n"><span class="pre">mb_log_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_log_subscribe_rtt</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv414mb_log_level_t" title="mb_log_level_t"><span class="n"><span class="pre">mb_log_level_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">threshold</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_log_subscribe_rtt14mb_log_level_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__power_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_power.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<p>Power management and tickless real-time support for battery-powered applications. </p>
<p>This module provides idle callbacks and power-saving features for applications that need to minimize power consumption, particularly in battery-powered devices or tickless RTOS environments.</p>
<p>Features:<ul class="simple">
<li><p>Idle detection (no pending transactions, no RX data)</p></li>
<li><p>Callback when idle for &gt; threshold time</p></li>
<li><p>Zero busy-waiting</p></li>
<li><p>Support for various sleep modes (light sleep, deep sleep, tickless idle)</p></li>
</ul>
</p>
<section id="mb__power_8h_1power_usage">
<h2>Usage Example<a class="headerlink" href="#mb__power_8h_1power_usage" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate" id="mb__power_8h_1power_usage"><div class="highlight"><pre><span></span><span class="n">uint32_t</span> <span class="n">my_idle_callback</span><span class="p">(</span><span class="n">void</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">sleep_ms</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">sleep_ms</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">enter_deep_sleep</span><span class="p">(</span><span class="n">sleep_ms</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">get_actual_sleep_time</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">sleep_ms</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">enter_light_sleep</span><span class="p">(</span><span class="n">sleep_ms</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">sleep_ms</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="n">__WFI</span><span class="p">();</span>  <span class="o">//</span> <span class="n">Wait</span> <span class="n">For</span> <span class="n">Interrupt</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">mb_client_set_idle_callback</span><span class="p">(</span><span class="o">&amp;</span><span class="n">client</span><span class="p">,</span> <span class="n">my_idle_callback</span><span class="p">,</span> <span class="n">NULL</span><span class="p">,</span> <span class="mi">5</span><span class="p">);</span>
</pre></div>
</div>
</section>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_POWER_SLEEP_WITH_MARGIN">
<span class="target" id="mb__power_8h_1afcd2021828d9ca2dd2f31814ec64f30d"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_POWER_SLEEP_WITH_MARGIN</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">sleep_ms</span></span>, <span class="n"><span class="pre">margin_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_POWER_SLEEP_WITH_MARGIN" title="Link to this definition"></a><br /></dt>
<dd><p>Calculate sleep duration with margin. </p>
<p>Reduces the suggested sleep duration by a margin to ensure the application wakes up before the actual event. This accounts for wake-up latency and clock drift.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sleep_ms</strong> – Suggested sleep duration </p></li>
<li><p><strong>margin_ms</strong> – Margin to subtract (default: 1-2ms) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_POWER_SLEEP_IS_WORTH">
<span class="target" id="mb__power_8h_1a76d194f610e005018bbba49c5633cf9d"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_POWER_SLEEP_IS_WORTH</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">sleep_ms</span></span>, <span class="n"><span class="pre">min_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_POWER_SLEEP_IS_WORTH" title="Link to this definition"></a><br /></dt>
<dd><p>Check if sleep duration is worth entering low-power mode. </p>
<p>Some sleep modes have overhead (e.g., clock reconfiguration). This macro helps determine if the sleep duration justifies the mode switch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sleep_ms</strong> – Sleep duration </p></li>
<li><p><strong>min_ms</strong> – Minimum duration for mode switch (e.g., 5ms for STOP mode) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv418mb_idle_callback_t">
<span id="_CPPv318mb_idle_callback_t"></span><span id="_CPPv218mb_idle_callback_t"></span><span id="mb_idle_callback_t"></span><span class="target" id="mb__power_8h_1a4844a73f525874debd06aae448603ba6"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_idle_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="n"><span class="pre">sleep_ms</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv418mb_idle_callback_t" title="Link to this definition"></a><br /></dt>
<dd><p>Idle callback function type. </p>
<p>This callback is invoked when the Modbus library is idle and can enter a low-power state. The callback receives the suggested sleep duration and should return the actual sleep duration achieved.</p>
<p>The callback is called when:<ul class="simple">
<li><p>Client: No pending transactions and no active timeouts</p></li>
<li><p>Server: No pending requests and RX buffer is empty</p></li>
<li><p>Time until next event &gt; threshold_ms</p></li>
</ul>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The library will recalculate timeouts based on the returned value </p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This callback may be called from ISR context depending on the port implementation. Keep it short and ISR-safe.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Param user_ctx<span class="colon">:</span></dt>
<dd class="field-odd"><p>User context provided during registration </p>
</dd>
<dt class="field-even">Param sleep_ms<span class="colon">:</span></dt>
<dd class="field-even"><p>Suggested sleep duration in milliseconds This is the time until the next expected event </p>
</dd>
<dt class="field-odd">Return<span class="colon">:</span></dt>
<dd class="field-odd"><p>Actual sleep duration in milliseconds Return 0 if sleep was not performed</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="target" id="mb__power_8h_1a5c93eb97c2895976a765b979378f72c2"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv414mb_idle_config" title="mb_idle_config"><span class="n"><span class="pre">mb_idle_config</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_idle_config_t</span></span></span><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427mb_client_set_idle_callbackPv18mb_idle_callback_tPv6mb_u32">
<span id="_CPPv327mb_client_set_idle_callbackPv18mb_idle_callback_tPv6mb_u32"></span><span id="_CPPv227mb_client_set_idle_callbackPv18mb_idle_callback_tPv6mb_u32"></span><span id="mb_client_set_idle_callback__voidP.mb_idle_callback_t.voidP.mb_u32"></span><span class="target" id="mb__power_8h_1ac409b6e866a3fb2a6bbdc6714678572f"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_idle_callback</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv418mb_idle_callback_t" title="mb_idle_callback_t"><span class="n"><span class="pre">mb_idle_callback_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">callback</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span>, <a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">threshold_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427mb_client_set_idle_callbackPv18mb_idle_callback_tPv6mb_u32" title="Link to this definition"></a><br /></dt>
<dd><p>Register idle callback for client. </p>
<p>The callback will be invoked when the client is idle (no pending transactions) and the time until the next expected event exceeds the threshold.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting callback to NULL disables idle detection </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The callback may be invoked multiple times during long idle periods </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance </p></li>
<li><p><strong>callback</strong> – Idle callback function (NULL to disable) </p></li>
<li><p><strong>user_ctx</strong> – User context passed to callback </p></li>
<li><p><strong>threshold_ms</strong> – Minimum idle duration to trigger callback (ms) Recommended: 5-10ms for most applications Higher values reduce callback frequency</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success MB_ERR_INVALID_ARG if client is NULL</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mb_client_get_idle_configPKvP16mb_idle_config_t">
<span id="_CPPv325mb_client_get_idle_configPKvP16mb_idle_config_t"></span><span id="_CPPv225mb_client_get_idle_configPKvP16mb_idle_config_t"></span><span id="mb_client_get_idle_config__voidCP.mb_idle_config_tP"></span><span class="target" id="mb__power_8h_1abefbc0bcbaae3d7dc9ab45b04cfb5a7b"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_get_idle_config</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv416mb_idle_config_t" title="mb_idle_config_t"><span class="n"><span class="pre">mb_idle_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mb_client_get_idle_configPKvP16mb_idle_config_t" title="Link to this definition"></a><br /></dt>
<dd><p>Get current idle configuration for client. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance </p></li>
<li><p><strong>config</strong> – Output parameter for current configuration </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success MB_ERR_INVALID_ARG if client or config is NULL </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv431mb_client_time_until_next_eventPKv">
<span id="_CPPv331mb_client_time_until_next_eventPKv"></span><span id="_CPPv231mb_client_time_until_next_eventPKv"></span><span id="mb_client_time_until_next_event__voidCP"></span><span class="target" id="mb__power_8h_1aaff55fa0b6e18d3cb36bff0cec14de97"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_time_until_next_event</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv431mb_client_time_until_next_eventPKv" title="Link to this definition"></a><br /></dt>
<dd><p>Get time until next client event. </p>
<p>Returns the time until the next expected event (timeout, retry, etc.) This can be used to determine how long the application can sleep.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#client_8h_1a9b1ca2f7d7d4a8153397f546a5738ba5"><span class="std std-ref">mb_client_is_idle()</span></a> is declared in <a class="reference internal" href="#client_8h"><span class="std std-ref">client.h</span></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Time in milliseconds until next event 0 if an event is pending immediately UINT32_MAX if no events are scheduled</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427mb_server_set_idle_callbackPv18mb_idle_callback_tPv6mb_u32">
<span id="_CPPv327mb_server_set_idle_callbackPv18mb_idle_callback_tPv6mb_u32"></span><span id="_CPPv227mb_server_set_idle_callbackPv18mb_idle_callback_tPv6mb_u32"></span><span id="mb_server_set_idle_callback__voidP.mb_idle_callback_t.voidP.mb_u32"></span><span class="target" id="mb__power_8h_1a5a922dbe48c85ed3bc41a14aebd20058"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_idle_callback</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv418mb_idle_callback_t" title="mb_idle_callback_t"><span class="n"><span class="pre">mb_idle_callback_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">callback</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span>, <a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">threshold_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427mb_server_set_idle_callbackPv18mb_idle_callback_tPv6mb_u32" title="Link to this definition"></a><br /></dt>
<dd><p>Register idle callback for server. </p>
<p>The callback will be invoked when the server is idle (no pending requests, RX buffer empty) and the time until the next expected event exceeds the threshold.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For servers, idle time may be longer as they wait for requests </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance </p></li>
<li><p><strong>callback</strong> – Idle callback function (NULL to disable) </p></li>
<li><p><strong>user_ctx</strong> – User context passed to callback </p></li>
<li><p><strong>threshold_ms</strong> – Minimum idle duration to trigger callback (ms)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success MB_ERR_INVALID_ARG if server is NULL</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mb_server_get_idle_configPKvP16mb_idle_config_t">
<span id="_CPPv325mb_server_get_idle_configPKvP16mb_idle_config_t"></span><span id="_CPPv225mb_server_get_idle_configPKvP16mb_idle_config_t"></span><span id="mb_server_get_idle_config__voidCP.mb_idle_config_tP"></span><span class="target" id="mb__power_8h_1a62016c54ae9767dc1156ff21ce4f2c56"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_get_idle_config</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv416mb_idle_config_t" title="mb_idle_config_t"><span class="n"><span class="pre">mb_idle_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mb_server_get_idle_configPKvP16mb_idle_config_t" title="Link to this definition"></a><br /></dt>
<dd><p>Get current idle configuration for server. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance </p></li>
<li><p><strong>config</strong> – Output parameter for current configuration </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success MB_ERR_INVALID_ARG if server or config is NULL </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv431mb_server_time_until_next_eventPKv">
<span id="_CPPv331mb_server_time_until_next_eventPKv"></span><span id="_CPPv231mb_server_time_until_next_eventPKv"></span><span id="mb_server_time_until_next_event__voidCP"></span><span class="target" id="mb__power_8h_1afdb77612dd483d49a0330a4f81cd774e"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_time_until_next_event</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv431mb_server_time_until_next_eventPKv" title="Link to this definition"></a><br /></dt>
<dd><p>Get time until next server event. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>mb_server_is_idle() is declared in <a class="reference internal" href="#server_8h"><span class="std std-ref">server.h</span></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Time in milliseconds until next event 0 if an event is pending immediately UINT32_MAX if no events are scheduled (typical for servers)</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv439mb_client_invoke_idle_callback_internalPv">
<span id="_CPPv339mb_client_invoke_idle_callback_internalPv"></span><span id="_CPPv239mb_client_invoke_idle_callback_internalPv"></span><span id="mb_client_invoke_idle_callback_internal__voidP"></span><span class="target" id="mb__power_8h_1a954ae9c8a62f99b7e3b0c168a60939fa"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_invoke_idle_callback_internal</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv439mb_client_invoke_idle_callback_internalPv" title="Link to this definition"></a><br /></dt>
<dd><p>Recommended sleep modes by duration. </p>
<p>These are guidelines for typical ARM Cortex-M MCUs. Adjust based on your specific platform’s power modes and wake-up latencies.</p>
<p><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Duration (ms)   </p></th>
<th class="head"><p>Recommended Mode   </p></th>
<th class="head"><p>Typical Wake-up    </p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0-1   </p></td>
<td><p>WFI/WFE   </p></td>
<td><p>&lt; 10 µs    </p></td>
</tr>
<tr class="row-odd"><td><p>1-10   </p></td>
<td><p>Sleep mode   </p></td>
<td><p>&lt; 100 µs    </p></td>
</tr>
<tr class="row-even"><td><p>10-100   </p></td>
<td><p>Stop mode (light sleep)   </p></td>
<td><p>&lt; 1 ms    </p></td>
</tr>
<tr class="row-odd"><td><p>100-1000   </p></td>
<td><p>Stop mode (deep sleep)   </p></td>
<td><p>&lt; 10 ms    </p></td>
</tr>
<tr class="row-even"><td><p><blockquote>
<div><p>1000   </p>
</div></blockquote>
</p></td>
<td><p>Standby/Shutdown   </p></td>
<td><p>&lt; 100 ms   </p></td>
</tr>
</tbody>
</table>
</p>
<p>
Example idle callbacks for different platforms</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">STM32</span> <span class="o">-</span> <span class="n">Simple</span> <span class="n">WFI</span>
<span class="n">uint32_t</span> <span class="n">stm32_wfi_idle</span><span class="p">(</span><span class="n">void</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">ms</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">__WFI</span><span class="p">();</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">STM32</span> <span class="o">-</span> <span class="n">STOP</span> <span class="n">mode</span> <span class="k">with</span> <span class="n">RTC</span> <span class="n">wake</span><span class="o">-</span><span class="n">up</span>
<span class="n">uint32_t</span> <span class="n">stm32_stop_idle</span><span class="p">(</span><span class="n">void</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">ms</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">HAL_RTCEx_SetWakeUpTimer_IT</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hrtc</span><span class="p">,</span> <span class="n">ms</span><span class="p">);</span>
    <span class="n">HAL_PWR_EnterSTOPMode</span><span class="p">(</span><span class="n">PWR_LOWPOWERREGULATOR_ON</span><span class="p">,</span> <span class="n">PWR_STOPENTRY_WFI</span><span class="p">);</span>
    <span class="n">SystemClock_Config</span><span class="p">();</span>  <span class="o">//</span> <span class="n">Reconfigure</span> <span class="n">clocks</span>
    <span class="k">return</span> <span class="n">HAL_RTCEx_GetWakeUpTimer</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hrtc</span><span class="p">);</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">FreeRTOS</span> <span class="o">-</span> <span class="n">Automatic</span> <span class="n">tickless</span> <span class="n">idle</span>
<span class="n">uint32_t</span> <span class="n">freertos_idle</span><span class="p">(</span><span class="n">void</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">ms</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">vTaskDelay</span><span class="p">(</span><span class="n">pdMS_TO_TICKS</span><span class="p">(</span><span class="n">ms</span><span class="p">));</span>
    <span class="k">return</span> <span class="n">ms</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">Zephyr</span> <span class="o">-</span> <span class="n">Built</span><span class="o">-</span><span class="ow">in</span> <span class="n">low</span><span class="o">-</span><span class="n">power</span> <span class="n">management</span>
<span class="n">uint32_t</span> <span class="n">zephyr_idle</span><span class="p">(</span><span class="n">void</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">ms</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">k_sleep</span><span class="p">(</span><span class="n">K_MSEC</span><span class="p">(</span><span class="n">ms</span><span class="p">));</span>
    <span class="k">return</span> <span class="n">ms</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">ESP32</span> <span class="o">-</span> <span class="n">Light</span> <span class="n">sleep</span>
<span class="n">uint32_t</span> <span class="n">esp32_idle</span><span class="p">(</span><span class="n">void</span> <span class="o">*</span><span class="n">ctx</span><span class="p">,</span> <span class="n">uint32_t</span> <span class="n">ms</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">esp_sleep_enable_timer_wakeup</span><span class="p">(</span><span class="n">ms</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">);</span>
    <span class="n">esp_light_sleep_start</span><span class="p">();</span>
    <span class="k">return</span> <span class="n">ms</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Internal function to invoke client idle callback</p>
<p>This is called automatically by mb_client_poll() when the client is idle. Application code should not call this directly.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Always consider:<ul class="simple">
<li><p>UART RX: Must wake on IDLE interrupt or DMA</p></li>
<li><p>Timers: May need RTC for long sleeps</p></li>
<li><p>Clock: May need reconfiguration after wake-up</p></li>
<li><p>Peripherals: May need to be reconfigured</p></li>
</ul>
</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Actual sleep time in ms, or 0 if callback not invoked </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv439mb_server_invoke_idle_callback_internalPv">
<span id="_CPPv339mb_server_invoke_idle_callback_internalPv"></span><span id="_CPPv239mb_server_invoke_idle_callback_internalPv"></span><span id="mb_server_invoke_idle_callback_internal__voidP"></span><span class="target" id="mb__power_8h_1aa282243299aff9003ab3839cc41e3b59"></span><a class="reference internal" href="#_CPPv46mb_u32" title="mb_u32"><span class="n"><span class="pre">mb_u32</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_invoke_idle_callback_internal</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv439mb_server_invoke_idle_callback_internalPv" title="Link to this definition"></a><br /></dt>
<dd><p>Internal function to invoke server idle callback. </p>
<p>This is called automatically by mb_server_poll() when the server is idle. Application code should not call this directly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Actual sleep time in ms, or 0 if callback not invoked </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__qos_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_qos.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__queue_8h"><span class="std std-ref">modbus/mb_queue.h</span></a>&gt;</em></div>
<p>Quality of Service (QoS) and backpressure management for Modbus transactions. </p>
<p>This module provides priority-aware queue management to prevent head-of-line blocking and ensure critical transactions meet latency targets even under heavy load.</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_QOS_HIGH_PRIORITY_FCS">
<span class="target" id="mb__qos_8h_1ac1c9c5c0083a62e798868b84e1267ab7"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_QOS_HIGH_PRIORITY_FCS</span></span></span><a class="headerlink" href="#c.MB_QOS_HIGH_PRIORITY_FCS" title="Link to this definition"></a><br /></dt>
<dd><p>List of high priority function codes. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_QOS_DEFAULT_DEADLINE_THRESHOLD_MS">
<span class="target" id="mb__qos_8h_1a737f4355dc86cd6576cbd24da37f716e"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_QOS_DEFAULT_DEADLINE_THRESHOLD_MS</span></span></span><a class="headerlink" href="#c.MB_QOS_DEFAULT_DEADLINE_THRESHOLD_MS" title="Link to this definition"></a><br /></dt>
<dd><p>Default deadline threshold for deadline-based policy (100 ms). </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv417mb_qos_priority_t">
<span id="_CPPv317mb_qos_priority_t"></span><span id="_CPPv217mb_qos_priority_t"></span><span id="mb_qos_priority_t"></span><span class="target" id="mb__qos_8h_1a2591defb0315e31f0c191abf154efeaf"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_qos_priority" title="mb_qos_priority"><span class="n"><span class="pre">mb_qos_priority</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_priority_t</span></span></span><a class="headerlink" href="#_CPPv417mb_qos_priority_t" title="Link to this definition"></a><br /></dt>
<dd><p>Transaction priority levels. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv415mb_qos_policy_t">
<span id="_CPPv315mb_qos_policy_t"></span><span id="_CPPv215mb_qos_policy_t"></span><span id="mb_qos_policy_t"></span><span class="target" id="mb__qos_8h_1a6ce759f46f51f27599b209fa8cb96a1c"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_qos_policy" title="mb_qos_policy"><span class="n"><span class="pre">mb_qos_policy</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_policy_t</span></span></span><a class="headerlink" href="#_CPPv415mb_qos_policy_t" title="Link to this definition"></a><br /></dt>
<dd><p>Policy for determining transaction priority. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423mb_qos_priority_stats_t">
<span id="_CPPv323mb_qos_priority_stats_t"></span><span id="_CPPv223mb_qos_priority_stats_t"></span><span id="mb_qos_priority_stats_t"></span><span class="target" id="mb__qos_8h_1af41c6504256347d09e0fb6f5b90a5a5a"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421mb_qos_priority_stats" title="mb_qos_priority_stats"><span class="n"><span class="pre">mb_qos_priority_stats</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_priority_stats_t</span></span></span><a class="headerlink" href="#_CPPv423mb_qos_priority_stats_t" title="Link to this definition"></a><br /></dt>
<dd><p>Per-priority QoS statistics. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv414mb_qos_stats_t">
<span id="_CPPv314mb_qos_stats_t"></span><span id="_CPPv214mb_qos_stats_t"></span><span id="mb_qos_stats_t"></span><span class="target" id="mb__qos_8h_1a62bbabd227f72a9d12133964971339e1"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_qos_stats" title="mb_qos_stats"><span class="n"><span class="pre">mb_qos_stats</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_stats_t</span></span></span><a class="headerlink" href="#_CPPv414mb_qos_stats_t" title="Link to this definition"></a><br /></dt>
<dd><p>Overall QoS statistics. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412mb_qos_ctx_t">
<span id="_CPPv312mb_qos_ctx_t"></span><span id="_CPPv212mb_qos_ctx_t"></span><span id="mb_qos_ctx_t"></span><span class="target" id="mb__qos_8h_1a1f463361f8bee2b260715ef0ae649868"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv410mb_qos_ctx" title="mb_qos_ctx"><span class="n"><span class="pre">mb_qos_ctx</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></span><a class="headerlink" href="#_CPPv412mb_qos_ctx_t" title="Link to this definition"></a><br /></dt>
<dd><p>QoS context structure. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv415mb_qos_config_t">
<span id="_CPPv315mb_qos_config_t"></span><span id="_CPPv215mb_qos_config_t"></span><span id="mb_qos_config_t"></span><span class="target" id="mb__qos_8h_1a5a24bd959408d201846474bf5fb3562e"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_qos_config" title="mb_qos_config"><span class="n"><span class="pre">mb_qos_config</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_config_t</span></span></span><a class="headerlink" href="#_CPPv415mb_qos_config_t" title="Link to this definition"></a><br /></dt>
<dd><p>QoS configuration. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv415mb_qos_priority">
<span id="_CPPv315mb_qos_priority"></span><span id="_CPPv215mb_qos_priority"></span><span class="target" id="mb__qos_8h_1a36cabf781b59e3f12094cb534f0e687a"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_priority</span></span></span><a class="headerlink" href="#_CPPv415mb_qos_priority" title="Link to this definition"></a><br /></dt>
<dd><p>Transaction priority levels. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_qos_priority20MB_QOS_PRIORITY_HIGHE">
<span id="_CPPv3N15mb_qos_priority20MB_QOS_PRIORITY_HIGHE"></span><span id="_CPPv2N15mb_qos_priority20MB_QOS_PRIORITY_HIGHE"></span><span class="target" id="mb__qos_8h_1a36cabf781b59e3f12094cb534f0e687aaebf48ca1cc56e383741d5391192eaff1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_QOS_PRIORITY_HIGH</span></span></span><a class="headerlink" href="#_CPPv4N15mb_qos_priority20MB_QOS_PRIORITY_HIGHE" title="Link to this definition"></a><br /></dt>
<dd><p>Critical, never dropped </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_qos_priority22MB_QOS_PRIORITY_NORMALE">
<span id="_CPPv3N15mb_qos_priority22MB_QOS_PRIORITY_NORMALE"></span><span id="_CPPv2N15mb_qos_priority22MB_QOS_PRIORITY_NORMALE"></span><span class="target" id="mb__qos_8h_1a36cabf781b59e3f12094cb534f0e687aaca754a4aed499f72c6c1568033c1ea06"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_QOS_PRIORITY_NORMAL</span></span></span><a class="headerlink" href="#_CPPv4N15mb_qos_priority22MB_QOS_PRIORITY_NORMALE" title="Link to this definition"></a><br /></dt>
<dd><p>Best-effort, may be rejected </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_qos_priority19MB_QOS_PRIORITY_MAXE">
<span id="_CPPv3N15mb_qos_priority19MB_QOS_PRIORITY_MAXE"></span><span id="_CPPv2N15mb_qos_priority19MB_QOS_PRIORITY_MAXE"></span><span class="target" id="mb__qos_8h_1a36cabf781b59e3f12094cb534f0e687aa1ddc2f8840aa1d57622bd4e054ec3361"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_QOS_PRIORITY_MAX</span></span></span><a class="headerlink" href="#_CPPv4N15mb_qos_priority19MB_QOS_PRIORITY_MAXE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv413mb_qos_policy">
<span id="_CPPv313mb_qos_policy"></span><span id="_CPPv213mb_qos_policy"></span><span class="target" id="mb__qos_8h_1a4efc414bfb7127fbd9ca6cdda028d15b"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_policy</span></span></span><a class="headerlink" href="#_CPPv413mb_qos_policy" title="Link to this definition"></a><br /></dt>
<dd><p>Policy for determining transaction priority. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_policy22MB_QOS_POLICY_FC_BASEDE">
<span id="_CPPv3N13mb_qos_policy22MB_QOS_POLICY_FC_BASEDE"></span><span id="_CPPv2N13mb_qos_policy22MB_QOS_POLICY_FC_BASEDE"></span><span class="target" id="mb__qos_8h_1a4efc414bfb7127fbd9ca6cdda028d15ba6231333d86b2d4739c4b4df65b13b44c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_QOS_POLICY_FC_BASED</span></span></span><a class="headerlink" href="#_CPPv4N13mb_qos_policy22MB_QOS_POLICY_FC_BASEDE" title="Link to this definition"></a><br /></dt>
<dd><p>Priority based on function code. </p>
<p>High priority FCs: 05, 06, 08 (write single, diagnostics) Normal priority FCs: 01, 02, 03, 04, 15, 16, 23 (reads, bulk writes) </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_policy28MB_QOS_POLICY_DEADLINE_BASEDE">
<span id="_CPPv3N13mb_qos_policy28MB_QOS_POLICY_DEADLINE_BASEDE"></span><span id="_CPPv2N13mb_qos_policy28MB_QOS_POLICY_DEADLINE_BASEDE"></span><span class="target" id="mb__qos_8h_1a4efc414bfb7127fbd9ca6cdda028d15baef4abe96cd8871c9b1c8e03ff14ed419"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_QOS_POLICY_DEADLINE_BASED</span></span></span><a class="headerlink" href="#_CPPv4N13mb_qos_policy28MB_QOS_POLICY_DEADLINE_BASEDE" title="Link to this definition"></a><br /></dt>
<dd><p>Priority based on deadline. </p>
<p>Transactions with deadlines &lt; threshold are high priority. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_policy25MB_QOS_POLICY_APPLICATIONE">
<span id="_CPPv3N13mb_qos_policy25MB_QOS_POLICY_APPLICATIONE"></span><span id="_CPPv2N13mb_qos_policy25MB_QOS_POLICY_APPLICATIONE"></span><span class="target" id="mb__qos_8h_1a4efc414bfb7127fbd9ca6cdda028d15bab24e7fd56610b41379bcd8480b9927d4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_QOS_POLICY_APPLICATION</span></span></span><a class="headerlink" href="#_CPPv4N13mb_qos_policy25MB_QOS_POLICY_APPLICATIONE" title="Link to this definition"></a><br /></dt>
<dd><p>Priority explicitly set by application. </p>
<p>Application sets <code class="docutils literal notranslate"><span class="pre">priority</span></code> field in transaction. </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13mb_qos_policy20MB_QOS_POLICY_HYBRIDE">
<span id="_CPPv3N13mb_qos_policy20MB_QOS_POLICY_HYBRIDE"></span><span id="_CPPv2N13mb_qos_policy20MB_QOS_POLICY_HYBRIDE"></span><span class="target" id="mb__qos_8h_1a4efc414bfb7127fbd9ca6cdda028d15bad2ac86572db1fffed69e03bee6390f5c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_QOS_POLICY_HYBRID</span></span></span><a class="headerlink" href="#_CPPv4N13mb_qos_policy20MB_QOS_POLICY_HYBRIDE" title="Link to this definition"></a><br /></dt>
<dd><p>Hybrid: FC-based with deadline override. </p>
<p>Default to FC-based, but promote to high if deadline is urgent. </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_qos_ctx_initP12mb_qos_ctx_tPK15mb_qos_config_t">
<span id="_CPPv315mb_qos_ctx_initP12mb_qos_ctx_tPK15mb_qos_config_t"></span><span id="_CPPv215mb_qos_ctx_initP12mb_qos_ctx_tPK15mb_qos_config_t"></span><span id="mb_qos_ctx_init__mb_qos_ctx_tP.mb_qos_config_tCP"></span><span class="target" id="mb__qos_8h_1ab21145f7a876f2cc9c46e2f44d3eb28b"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_ctx_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_qos_config_t" title="mb_qos_config_t"><span class="n"><span class="pre">mb_qos_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_qos_ctx_initP12mb_qos_ctx_tPK15mb_qos_config_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initializes QoS context with external storage. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[out]</strong> Context to initialize </p></li>
<li><p><strong>config</strong> – <strong>[in]</strong> Configuration with queue storage and policy</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Context initialized successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointers or invalid config </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_qos_ctx_deinitP12mb_qos_ctx_t">
<span id="_CPPv317mb_qos_ctx_deinitP12mb_qos_ctx_t"></span><span id="_CPPv217mb_qos_ctx_deinitP12mb_qos_ctx_t"></span><span id="mb_qos_ctx_deinit__mb_qos_ctx_tP"></span><span class="target" id="mb__qos_8h_1ac797b73dc38980641613f19a623aa03a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_ctx_deinit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_qos_ctx_deinitP12mb_qos_ctx_t" title="Link to this definition"></a><br /></dt>
<dd><p>Deinitializes QoS context. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context to deinitialize </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414mb_qos_enqueueP12mb_qos_ctx_tPv">
<span id="_CPPv314mb_qos_enqueueP12mb_qos_ctx_tPv"></span><span id="_CPPv214mb_qos_enqueueP12mb_qos_ctx_tPv"></span><span id="mb_qos_enqueue__mb_qos_ctx_tP.voidP"></span><span class="target" id="mb__qos_8h_1a5463299c213afcd524c8991b3e4fd619"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_enqueue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414mb_qos_enqueueP12mb_qos_ctx_tPv" title="Link to this definition"></a><br /></dt>
<dd><p>Enqueues transaction with priority-based backpressure. </p>
<p>Behavior:<ul class="simple">
<li><p>High priority: Always enqueued (unless high queue full, which is a system error)</p></li>
<li><p>Normal priority: Rejected if normal queue full (backpressure applied)</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context handle </p></li>
<li><p><strong>tx</strong> – <strong>[in]</strong> Transaction to enqueue (priority determined by policy)</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Transaction enqueued successfully </p></li>
<li><p><strong>MB_ERR_BUSY</strong> – Queue full, non-critical transaction rejected </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer or invalid transaction </p></li>
<li><p><strong>MB_ERR_NO_RESOURCES</strong> – High priority queue full (system overload) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414mb_qos_dequeueP12mb_qos_ctx_t">
<span id="_CPPv314mb_qos_dequeueP12mb_qos_ctx_t"></span><span id="_CPPv214mb_qos_dequeueP12mb_qos_ctx_t"></span><span id="mb_qos_dequeue__mb_qos_ctx_tP"></span><span class="target" id="mb__qos_8h_1ab10fd65414ce1aa37ac2d1b28346d8d3"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_dequeue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414mb_qos_dequeueP12mb_qos_ctx_t" title="Link to this definition"></a><br /></dt>
<dd><p>Dequeues highest priority transaction. </p>
<p>Priority order:<ol class="loweralpha simple">
<li><p>High priority queue (always checked first)</p></li>
<li><p>Normal priority queue (only if high queue empty)</p></li>
</ol>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context handle</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to transaction, or NULL if both queues empty </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_qos_completeP12mb_qos_ctx_tPv">
<span id="_CPPv315mb_qos_completeP12mb_qos_ctx_tPv"></span><span id="_CPPv215mb_qos_completeP12mb_qos_ctx_tPv"></span><span id="mb_qos_complete__mb_qos_ctx_tP.voidP"></span><span class="target" id="mb__qos_8h_1af7d38f825d384b999e52327dd5ca079b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_complete</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_qos_completeP12mb_qos_ctx_tPv" title="Link to this definition"></a><br /></dt>
<dd><p>Marks transaction as completed and updates statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context handle </p></li>
<li><p><strong>tx</strong> – <strong>[in]</strong> Completed transaction </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_qos_get_priorityPK12mb_qos_ctx_tPKv">
<span id="_CPPv319mb_qos_get_priorityPK12mb_qos_ctx_tPKv"></span><span id="_CPPv219mb_qos_get_priorityPK12mb_qos_ctx_tPKv"></span><span id="mb_qos_get_priority__mb_qos_ctx_tCP.voidCP"></span><span class="target" id="mb__qos_8h_1a54292cc709e1833caec0e008c631d4f5"></span><a class="reference internal" href="#_CPPv417mb_qos_priority_t" title="mb_qos_priority_t"><span class="n"><span class="pre">mb_qos_priority_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_get_priority</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_qos_get_priorityPK12mb_qos_ctx_tPKv" title="Link to this definition"></a><br /></dt>
<dd><p>Determines transaction priority based on configured policy. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context handle </p></li>
<li><p><strong>tx</strong> – <strong>[in]</strong> Transaction to evaluate</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Priority level (HIGH or NORMAL) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426mb_qos_is_high_priority_fc7uint8_t">
<span id="_CPPv326mb_qos_is_high_priority_fc7uint8_t"></span><span id="_CPPv226mb_qos_is_high_priority_fc7uint8_t"></span><span id="mb_qos_is_high_priority_fc__uint8_t"></span><span class="target" id="mb__qos_8h_1a45b2af17e2ef1ba9f240b6d287df4b4e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_is_high_priority_fc</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">function_code</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426mb_qos_is_high_priority_fc7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if function code is high priority (FC-based policy). </p>
<p>High priority FCs: 05, 06, 08</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function_code</strong> – <strong>[in]</strong> Modbus function code</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Function code is high priority </p></li>
<li><p><strong>false</strong> – Function code is normal priority </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416mb_qos_get_statsPK12mb_qos_ctx_tP14mb_qos_stats_t">
<span id="_CPPv316mb_qos_get_statsPK12mb_qos_ctx_tP14mb_qos_stats_t"></span><span id="_CPPv216mb_qos_get_statsPK12mb_qos_ctx_tP14mb_qos_stats_t"></span><span id="mb_qos_get_stats__mb_qos_ctx_tCP.mb_qos_stats_tP"></span><span class="target" id="mb__qos_8h_1a248c2b945db8b5762604e370183a8d2b"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_get_stats</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="#_CPPv414mb_qos_stats_t" title="mb_qos_stats_t"><span class="n"><span class="pre">mb_qos_stats_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">stats</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416mb_qos_get_statsPK12mb_qos_ctx_tP14mb_qos_stats_t" title="Link to this definition"></a><br /></dt>
<dd><p>Retrieves QoS statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context handle </p></li>
<li><p><strong>stats</strong> – <strong>[out]</strong> Structure to fill with statistics</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Statistics retrieved successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_qos_reset_statsP12mb_qos_ctx_t">
<span id="_CPPv318mb_qos_reset_statsP12mb_qos_ctx_t"></span><span id="_CPPv218mb_qos_reset_statsP12mb_qos_ctx_t"></span><span id="mb_qos_reset_stats__mb_qos_ctx_tP"></span><span class="target" id="mb__qos_8h_1a5a515e9389524098e5aa508cd7c03b59"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_reset_stats</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_qos_reset_statsP12mb_qos_ctx_t" title="Link to this definition"></a><br /></dt>
<dd><p>Resets QoS statistics counters. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context handle </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_queue.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mutex_8h"><span class="std std-ref">modbus/port/mutex.h</span></a>&gt;</em></div>
<p>Lock-free SPSC and MPSC queues for fixed-latency transaction management. </p>
<p>This module provides two queue variants optimized for embedded Modbus applications:</p>
<p><ul class="simple">
<li><p><strong>SPSC (Single-Producer/Single-Consumer)</strong>: Lock-free queue suitable for ISR → thread communication with zero blocking and predictable latency.</p></li>
<li><p><strong>MPSC (Multi-Producer/Single-Consumer)</strong>: Queue with minimal critical sections for multiple producers (e.g., multiple clients or tasks) with a single consumer thread.</p></li>
</ul>
</p>
<p>Both queues operate on fixed-size slots and work with external storage (no malloc). High-water-mark tracking helps detect queue pressure during development.</p>
<section id="mb__queue_8h_1Performance">
<h2>Characteristics<a class="headerlink" href="#mb__queue_8h_1Performance" title="Link to this heading"></a></h2>
<p id="mb__queue_8h_1Performance"><ul class="simple">
<li><p><strong>SPSC</strong>: O(1) enqueue/dequeue, zero locks, ISR-safe with C11 atomics</p></li>
<li><p><strong>MPSC</strong>: O(1) enqueue with short critical section (~10 CPU cycles), lock-free dequeue</p></li>
<li><p><strong>Memory</strong>: ~32 bytes overhead per queue + slot storage</p></li>
<li><p><strong>Latency</strong>: Deterministic, no allocation, no blocking in SPSC</p></li>
</ul>
</p>
</section>
<section id="mb__txpool_8h_1Usage">
<h2>Example - SPSC (ISR to Main Loop)<a class="headerlink" href="#mb__txpool_8h_1Usage" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate" id="mb__txpool_8h_1Usage"><div class="highlight"><pre><span></span>// Storage for transaction pointers (power-of-2 capacity required)
static void *tx_slots[16];
static mb_queue_spsc_t tx_queue;

void init() {
    mb_queue_spsc_init(&amp;tx_queue, tx_slots, 16);
}

void uart_rx_isr() {
    mb_transaction_t *tx = parse_incoming();
    if (!mb_queue_spsc_enqueue(&amp;tx_queue, tx)) {
        // Queue full - apply backpressure
    }
}

void main_loop() {
    mb_transaction_t *tx;
    while (mb_queue_spsc_dequeue(&amp;tx_queue, (void**)&amp;tx)) {
        process_transaction(tx);
    }
}
</pre></div>
</div>
</section>
<section id="mb__txpool_8h_1Usage">
<h2>Example - SPSC (ISR to Main Loop)<a class="headerlink" href="#mb__txpool_8h_1Usage" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate" id="mb__txpool_8h_1Usage"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="n">void</span> <span class="o">*</span><span class="n">request_slots</span><span class="p">[</span><span class="mi">32</span><span class="p">];</span>
<span class="n">static</span> <span class="n">mb_queue_mpsc_t</span> <span class="n">request_queue</span><span class="p">;</span>
<span class="n">static</span> <span class="n">mb_port_mutex_t</span> <span class="n">queue_mutex</span><span class="p">;</span>

<span class="n">void</span> <span class="n">init</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">mb_queue_mpsc_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">request_queue</span><span class="p">,</span> <span class="n">request_slots</span><span class="p">,</span> <span class="mi">32</span><span class="p">);</span>
    <span class="n">mb_port_mutex_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">queue_mutex</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">client_thread_a</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">mb_request_t</span> <span class="o">*</span><span class="n">req</span> <span class="o">=</span> <span class="n">build_request</span><span class="p">();</span>
    <span class="n">mb_queue_mpsc_enqueue</span><span class="p">(</span><span class="o">&amp;</span><span class="n">request_queue</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">queue_mutex</span><span class="p">,</span> <span class="n">req</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">dispatcher_thread</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">mb_request_t</span> <span class="o">*</span><span class="n">req</span><span class="p">;</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">mb_queue_mpsc_dequeue</span><span class="p">(</span><span class="o">&amp;</span><span class="n">request_queue</span><span class="p">,</span> <span class="p">(</span><span class="n">void</span><span class="o">**</span><span class="p">)</span><span class="o">&amp;</span><span class="n">req</span><span class="p">))</span> <span class="p">{</span>
        <span class="n">dispatch</span><span class="p">(</span><span class="n">req</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p></p>
</section>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For SPSC to be truly lock-free, compile with C11 atomics support. Fallback uses mutex for environments without stdatomic.h. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_QUEUE_HAS_ATOMICS">
<span class="target" id="mb__queue_8h_1a2b8f6b866b48b2e535cb6221c705d667"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_QUEUE_HAS_ATOMICS</span></span></span><a class="headerlink" href="#c.MB_QUEUE_HAS_ATOMICS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv416mb_atomic_size_t">
<span id="_CPPv316mb_atomic_size_t"></span><span id="_CPPv216mb_atomic_size_t"></span><span id="mb_atomic_size_t"></span><span class="target" id="mb__queue_8h_1a0dc503d845445b63852c453a2c6511ac"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_atomic_size_t</span></span></span><a class="headerlink" href="#_CPPv416mb_atomic_size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv415mb_queue_spsc_t">
<span id="_CPPv315mb_queue_spsc_t"></span><span id="_CPPv215mb_queue_spsc_t"></span><span id="mb_queue_spsc_t"></span><span class="target" id="mb__queue_8h_1aebde015ba226f2f4529de6a47f69df14"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_queue_spsc" title="mb_queue_spsc"><span class="n"><span class="pre">mb_queue_spsc</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></span><a class="headerlink" href="#_CPPv415mb_queue_spsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Lock-free SPSC queue for ISR-to-thread communication. </p>
<p>Uses C11 atomics when available for true lock-free operation. Falls back to mutex-based implementation on platforms without atomic support.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Capacity must be a power of 2 for efficient masking. </p>
</div>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv415mb_queue_mpsc_t">
<span id="_CPPv315mb_queue_mpsc_t"></span><span id="_CPPv215mb_queue_mpsc_t"></span><span id="mb_queue_mpsc_t"></span><span class="target" id="mb__queue_8h_1aca71c6be0662eb18bedc6069b72a8f29"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_queue_mpsc" title="mb_queue_mpsc"><span class="n"><span class="pre">mb_queue_mpsc</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></span><a class="headerlink" href="#_CPPv415mb_queue_mpsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>MPSC queue for multiple producers with single consumer. </p>
<p>Uses a mutex to protect enqueue operations. Dequeue is lock-free from consumer side. Optimized for scenarios where multiple threads need to submit work to a single dispatcher.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Capacity must be a power of 2. </p>
</div>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_queue_spsc_initP15mb_queue_spsc_tPPv6size_t">
<span id="_CPPv318mb_queue_spsc_initP15mb_queue_spsc_tPPv6size_t"></span><span id="_CPPv218mb_queue_spsc_initP15mb_queue_spsc_tPPv6size_t"></span><span id="mb_queue_spsc_init__mb_queue_spsc_tP.voidPP.s"></span><span class="target" id="mb__queue_8h_1aba2bb3bb7a5ad292a1b8f45dd0581e93"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">slots</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_queue_spsc_initP15mb_queue_spsc_tPPv6size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initializes an SPSC queue with external storage. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[out]</strong> Queue structure to initialize </p></li>
<li><p><strong>slots</strong> – <strong>[in]</strong> Storage for element pointers (must persist) </p></li>
<li><p><strong>capacity</strong> – <strong>[in]</strong> Number of slots (must be power of 2)</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Queue initialized successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer or capacity not power-of-2 </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_queue_spsc_deinitP15mb_queue_spsc_t">
<span id="_CPPv320mb_queue_spsc_deinitP15mb_queue_spsc_t"></span><span id="_CPPv220mb_queue_spsc_deinitP15mb_queue_spsc_t"></span><span id="mb_queue_spsc_deinit__mb_queue_spsc_tP"></span><span class="target" id="mb__queue_8h_1adb41d3ef75b89497896279413c03c861"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_deinit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_queue_spsc_deinitP15mb_queue_spsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Deinitializes SPSC queue and releases resources. </p>
<p>Only needed when using mutex fallback. No-op with true atomics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue to deinitialize </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_queue_spsc_enqueueP15mb_queue_spsc_tPv">
<span id="_CPPv321mb_queue_spsc_enqueueP15mb_queue_spsc_tPv"></span><span id="_CPPv221mb_queue_spsc_enqueueP15mb_queue_spsc_tPv"></span><span id="mb_queue_spsc_enqueue__mb_queue_spsc_tP.voidP"></span><span class="target" id="mb__queue_8h_1af3b21f1f65172ab8781a2f8c89c4aa05"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_enqueue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">elem</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_queue_spsc_enqueueP15mb_queue_spsc_tPv" title="Link to this definition"></a><br /></dt>
<dd><p>Enqueues an element (producer side). </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ISR-safe when compiled with C11 atomics. Use from producer only. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p></li>
<li><p><strong>elem</strong> – <strong>[in]</strong> Element pointer to enqueue (must not be NULL)</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Element enqueued successfully </p></li>
<li><p><strong>false</strong> – Queue is full (backpressure required)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_queue_spsc_dequeueP15mb_queue_spsc_tPPv">
<span id="_CPPv321mb_queue_spsc_dequeueP15mb_queue_spsc_tPPv"></span><span id="_CPPv221mb_queue_spsc_dequeueP15mb_queue_spsc_tPPv"></span><span id="mb_queue_spsc_dequeue__mb_queue_spsc_tP.voidPP"></span><span class="target" id="mb__queue_8h_1aa097f1c4f9720786f2bedbb3223ccd26"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_dequeue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_elem</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_queue_spsc_dequeueP15mb_queue_spsc_tPPv" title="Link to this definition"></a><br /></dt>
<dd><p>Dequeues an element (consumer side). </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use from consumer only. Non-blocking. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p></li>
<li><p><strong>out_elem</strong> – <strong>[out]</strong> Pointer to store dequeued element</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Element dequeued successfully </p></li>
<li><p><strong>false</strong> – Queue is empty</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_queue_spsc_sizePK15mb_queue_spsc_t">
<span id="_CPPv318mb_queue_spsc_sizePK15mb_queue_spsc_t"></span><span id="_CPPv218mb_queue_spsc_sizePK15mb_queue_spsc_t"></span><span id="mb_queue_spsc_size__mb_queue_spsc_tCP"></span><span class="target" id="mb__queue_8h_1aa4f293de893df2ce36cf3c2202bf4078"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_size</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_queue_spsc_sizePK15mb_queue_spsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns current queue occupancy. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Result is approximate in concurrent scenarios due to race conditions. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of elements currently in queue</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_queue_spsc_capacityPK15mb_queue_spsc_t">
<span id="_CPPv322mb_queue_spsc_capacityPK15mb_queue_spsc_t"></span><span id="_CPPv222mb_queue_spsc_capacityPK15mb_queue_spsc_t"></span><span id="mb_queue_spsc_capacity__mb_queue_spsc_tCP"></span><span class="target" id="mb__queue_8h_1a33ccf30423910473857806ed64c4e987"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_queue_spsc_capacityPK15mb_queue_spsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns queue capacity. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Total number of slots </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mb_queue_spsc_high_waterPK15mb_queue_spsc_t">
<span id="_CPPv324mb_queue_spsc_high_waterPK15mb_queue_spsc_t"></span><span id="_CPPv224mb_queue_spsc_high_waterPK15mb_queue_spsc_t"></span><span id="mb_queue_spsc_high_water__mb_queue_spsc_tCP"></span><span class="target" id="mb__queue_8h_1abe7a6f07d41f4c289e9d98dc4c0ee1f3"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_high_water</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mb_queue_spsc_high_waterPK15mb_queue_spsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns peak occupancy since initialization. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Highest number of elements ever present simultaneously </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_queue_spsc_is_emptyPK15mb_queue_spsc_t">
<span id="_CPPv322mb_queue_spsc_is_emptyPK15mb_queue_spsc_t"></span><span id="_CPPv222mb_queue_spsc_is_emptyPK15mb_queue_spsc_t"></span><span id="mb_queue_spsc_is_empty__mb_queue_spsc_tCP"></span><span class="target" id="mb__queue_8h_1aa5251ac0f094f23cdee3abc65f788484"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_is_empty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_queue_spsc_is_emptyPK15mb_queue_spsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if queue is empty. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Queue has no elements </p></li>
<li><p><strong>false</strong> – Queue has at least one element </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_queue_spsc_is_fullPK15mb_queue_spsc_t">
<span id="_CPPv321mb_queue_spsc_is_fullPK15mb_queue_spsc_t"></span><span id="_CPPv221mb_queue_spsc_is_fullPK15mb_queue_spsc_t"></span><span id="mb_queue_spsc_is_full__mb_queue_spsc_tCP"></span><span class="target" id="mb__queue_8h_1a4914a0f4b59539bb08e6edcea60093eb"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_is_full</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_queue_spsc_is_fullPK15mb_queue_spsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if queue is full. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Queue cannot accept more elements </p></li>
<li><p><strong>false</strong> – Queue has available space </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_queue_mpsc_initP15mb_queue_mpsc_tPPv6size_t">
<span id="_CPPv318mb_queue_mpsc_initP15mb_queue_mpsc_tPPv6size_t"></span><span id="_CPPv218mb_queue_mpsc_initP15mb_queue_mpsc_tPPv6size_t"></span><span id="mb_queue_mpsc_init__mb_queue_mpsc_tP.voidPP.s"></span><span class="target" id="mb__queue_8h_1a758c47d92d4117f10c4453bcf6dde046"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">slots</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_queue_mpsc_initP15mb_queue_mpsc_tPPv6size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initializes an MPSC queue with external storage. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[out]</strong> Queue structure to initialize </p></li>
<li><p><strong>slots</strong> – <strong>[in]</strong> Storage for element pointers (must persist) </p></li>
<li><p><strong>capacity</strong> – <strong>[in]</strong> Number of slots (must be power of 2)</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Queue initialized successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer or capacity not power-of-2 </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_queue_mpsc_deinitP15mb_queue_mpsc_t">
<span id="_CPPv320mb_queue_mpsc_deinitP15mb_queue_mpsc_t"></span><span id="_CPPv220mb_queue_mpsc_deinitP15mb_queue_mpsc_t"></span><span id="mb_queue_mpsc_deinit__mb_queue_mpsc_tP"></span><span class="target" id="mb__queue_8h_1aa9a79d1498615b5dcabd8a9dddccd346"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_deinit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_queue_mpsc_deinitP15mb_queue_mpsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Deinitializes MPSC queue and releases mutex. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue to deinitialize </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_queue_mpsc_enqueueP15mb_queue_mpsc_tPv">
<span id="_CPPv321mb_queue_mpsc_enqueueP15mb_queue_mpsc_tPv"></span><span id="_CPPv221mb_queue_mpsc_enqueueP15mb_queue_mpsc_tPv"></span><span id="mb_queue_mpsc_enqueue__mb_queue_mpsc_tP.voidP"></span><span class="target" id="mb__queue_8h_1af4ed52fba6c176a6c25d94f572863da3"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_enqueue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">elem</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_queue_mpsc_enqueueP15mb_queue_mpsc_tPv" title="Link to this definition"></a><br /></dt>
<dd><p>Enqueues an element from any producer thread. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Thread-safe for multiple producers. Short critical section (~10 cycles). </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p></li>
<li><p><strong>elem</strong> – <strong>[in]</strong> Element pointer to enqueue (must not be NULL)</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Element enqueued successfully </p></li>
<li><p><strong>false</strong> – Queue is full</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_queue_mpsc_dequeueP15mb_queue_mpsc_tPPv">
<span id="_CPPv321mb_queue_mpsc_dequeueP15mb_queue_mpsc_tPPv"></span><span id="_CPPv221mb_queue_mpsc_dequeueP15mb_queue_mpsc_tPPv"></span><span id="mb_queue_mpsc_dequeue__mb_queue_mpsc_tP.voidPP"></span><span class="target" id="mb__queue_8h_1aa7d041c4e6a240fc265aed924d34740e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_dequeue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_elem</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_queue_mpsc_dequeueP15mb_queue_mpsc_tPPv" title="Link to this definition"></a><br /></dt>
<dd><p>Dequeues an element (consumer side). </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Lock-free from consumer side. Use from single consumer only. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p></li>
<li><p><strong>out_elem</strong> – <strong>[out]</strong> Pointer to store dequeued element</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Element dequeued successfully </p></li>
<li><p><strong>false</strong> – Queue is empty</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_queue_mpsc_sizePK15mb_queue_mpsc_t">
<span id="_CPPv318mb_queue_mpsc_sizePK15mb_queue_mpsc_t"></span><span id="_CPPv218mb_queue_mpsc_sizePK15mb_queue_mpsc_t"></span><span id="mb_queue_mpsc_size__mb_queue_mpsc_tCP"></span><span class="target" id="mb__queue_8h_1a3c492bca6f6ed0cb0ab9a59828705baa"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_size</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_queue_mpsc_sizePK15mb_queue_mpsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns current queue occupancy. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of elements currently in queue (approximate) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_queue_mpsc_capacityPK15mb_queue_mpsc_t">
<span id="_CPPv322mb_queue_mpsc_capacityPK15mb_queue_mpsc_t"></span><span id="_CPPv222mb_queue_mpsc_capacityPK15mb_queue_mpsc_t"></span><span id="mb_queue_mpsc_capacity__mb_queue_mpsc_tCP"></span><span class="target" id="mb__queue_8h_1ac2870d8daa15f05807131ba5d4b7dc02"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_queue_mpsc_capacityPK15mb_queue_mpsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns queue capacity. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Total number of slots </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mb_queue_mpsc_high_waterPK15mb_queue_mpsc_t">
<span id="_CPPv324mb_queue_mpsc_high_waterPK15mb_queue_mpsc_t"></span><span id="_CPPv224mb_queue_mpsc_high_waterPK15mb_queue_mpsc_t"></span><span id="mb_queue_mpsc_high_water__mb_queue_mpsc_tCP"></span><span class="target" id="mb__queue_8h_1aa7c2a9e007e8c17d33aaf35c508607ce"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_high_water</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mb_queue_mpsc_high_waterPK15mb_queue_mpsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns peak occupancy since initialization. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Highest number of elements ever present simultaneously </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_queue_mpsc_is_emptyPK15mb_queue_mpsc_t">
<span id="_CPPv322mb_queue_mpsc_is_emptyPK15mb_queue_mpsc_t"></span><span id="_CPPv222mb_queue_mpsc_is_emptyPK15mb_queue_mpsc_t"></span><span id="mb_queue_mpsc_is_empty__mb_queue_mpsc_tCP"></span><span class="target" id="mb__queue_8h_1a2963e7496e7031bc13b4a3abc985a8e3"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_is_empty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_queue_mpsc_is_emptyPK15mb_queue_mpsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if queue is empty. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Queue has no elements </p></li>
<li><p><strong>false</strong> – Queue has at least one element </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_queue_mpsc_is_fullPK15mb_queue_mpsc_t">
<span id="_CPPv321mb_queue_mpsc_is_fullPK15mb_queue_mpsc_t"></span><span id="_CPPv221mb_queue_mpsc_is_fullPK15mb_queue_mpsc_t"></span><span id="mb_queue_mpsc_is_full__mb_queue_mpsc_tCP"></span><span class="target" id="mb__queue_8h_1a242471552a1c185c0bfe373fd1016376"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_is_full</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_queue_mpsc_is_fullPK15mb_queue_mpsc_t" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if queue is full. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Queue cannot accept more elements </p></li>
<li><p><strong>false</strong> – Queue has available space </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__server__convenience_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_server_convenience.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<p>Convenience helpers for setting up Modbus servers quickly. </p>
<p>This module provides simplified server setup and data registration functions. Unlike the client convenience API (which wraps individual transactions), the server convenience API focuses on:</p>
<p><ol class="arabic simple">
<li><p>Simplified initialization (transport + mapping in one call)</p></li>
<li><p>Easy data region registration</p></li>
<li><p>Standard configurations for common use cases</p></li>
</ol>
</p>
<p>The event loop (mb_server_poll) must still be called by the application, as servers are inherently event-driven.</p>
<p>Example usage: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="mf">1.</span> <span class="n">Allocate</span> <span class="n">data</span> <span class="n">arrays</span>
<span class="n">uint16_t</span> <span class="n">holding_regs</span><span class="p">[</span><span class="mi">100</span><span class="p">];</span>
<span class="n">uint16_t</span> <span class="n">input_regs</span><span class="p">[</span><span class="mi">50</span><span class="p">];</span>

<span class="o">//</span> <span class="mf">2.</span> <span class="n">Create</span> <span class="n">server</span> <span class="k">with</span> <span class="n">convenience</span> <span class="n">API</span>
<span class="n">mb_server_t</span> <span class="n">server</span><span class="p">;</span>
<span class="n">mb_err_t</span> <span class="n">err</span> <span class="o">=</span> <span class="n">mb_server_create_tcp</span><span class="p">(</span><span class="o">&amp;</span><span class="n">server</span><span class="p">,</span> <span class="mi">502</span><span class="p">,</span> <span class="mh">0x01</span><span class="p">);</span>

<span class="o">//</span> <span class="mf">3.</span> <span class="n">Register</span> <span class="n">data</span> <span class="n">regions</span>
<span class="n">mb_server_add_holding</span><span class="p">(</span><span class="o">&amp;</span><span class="n">server</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">holding_regs</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="n">mb_server_add_input</span><span class="p">(</span><span class="o">&amp;</span><span class="n">server</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">input_regs</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>

<span class="o">//</span> <span class="mf">4.</span> <span class="n">Run</span> <span class="n">event</span> <span class="n">loop</span> <span class="p">(</span><span class="n">application</span><span class="s1">&#39;s responsibility)</span>
<span class="k">while</span> <span class="p">(</span><span class="n">running</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">mb_server_poll</span><span class="p">(</span><span class="o">&amp;</span><span class="n">server</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_txpool.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mempool_8h"><span class="std std-ref">modbus/mempool.h</span></a>&gt;</em></div>
<p>Fixed-latency transaction pool with freelist for zero-malloc Modbus operation. </p>
<p>This module provides a static memory pool for managing Modbus transaction objects without dynamic allocation. Transactions are pre-allocated at initialization and recycled through a freelist, ensuring:</p>
<p><ul class="simple">
<li><p><strong>Fixed latency</strong>: O(1) acquire/release operations</p></li>
<li><p><strong>Zero malloc</strong>: All memory provided upfront by the application</p></li>
<li><p><strong>Leak detection</strong>: High-water-mark tracking and statistics</p></li>
<li><p><strong>Thread-safe</strong>: Optional mutex protection for concurrent access</p></li>
</ul>
</p>
<p>The pool is built on top of the generic <code class="docutils literal notranslate"><span class="pre">mb_mempool_t</span></code> but adds transaction-specific semantics and diagnostics optimized for Modbus use cases.</p>
<section id="mb__txpool_8h_1Usage">
<h2>Example - SPSC (ISR to Main Loop)<a class="headerlink" href="#mb__txpool_8h_1Usage" title="Link to this heading"></a></h2>
<div class="highlight-default notranslate" id="mb__txpool_8h_1Usage"><div class="highlight"><pre><span></span>// Define transaction structure (application-specific)
typedef struct {
    uint8_t  slave_addr;
    uint16_t reg_addr;
    uint16_t reg_count;
    uint8_t  fc;
    uint32_t timestamp;
} my_transaction_t;

// Static storage for 16 transactions
static uint8_t tx_storage[16 * sizeof(my_transaction_t)];
static mb_txpool_t tx_pool;

void init() {
    mb_txpool_init(&amp;tx_pool, tx_storage, sizeof(my_transaction_t), 16);
}

void send_request() {
    my_transaction_t *tx = mb_txpool_acquire(&amp;tx_pool);
    if (!tx) {
        // Pool exhausted - apply backpressure
        return;
    }

    tx-&gt;slave_addr = 1;
    tx-&gt;reg_addr = 100;
    tx-&gt;reg_count = 10;
    tx-&gt;fc = 0x03;
    tx-&gt;timestamp = get_time_ms();

    enqueue_for_transmission(tx);
}

void on_response_complete(my_transaction_t *tx) {
    mb_txpool_release(&amp;tx_pool, tx);
}

void diagnostics() {
    mb_txpool_stats_t stats;
    mb_txpool_get_stats(&amp;tx_pool, &amp;stats);
    printf(&quot;Capacity: %zu, In-use: %zu, High-water: %zu, Total acquired: %llu\n&quot;,
           stats.capacity, stats.in_use, stats.high_water, stats.total_acquired);
}
</pre></div>
</div>
</section>
<section id="ringbuf_8h_1Thread">
<h2>Safety<a class="headerlink" href="#ringbuf_8h_1Thread" title="Link to this heading"></a></h2>
<p id="ringbuf_8h_1Thread">The pool itself is <strong>not thread-safe</strong> by default. For concurrent access:<ul class="simple">
<li><p>Wrap acquire/release calls with external mutex</p></li>
<li><p>Or use separate pools per thread</p></li>
<li><p>Statistics counters are not atomic (diagnostic use only) </p></li>
</ul>
</p>
</section>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv417mb_txpool_stats_t">
<span id="_CPPv317mb_txpool_stats_t"></span><span id="_CPPv217mb_txpool_stats_t"></span><span id="mb_txpool_stats_t"></span><span class="target" id="mb__txpool_8h_1a0fa6e632883617f6f7b2ec0ca65809d7"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_txpool_stats" title="mb_txpool_stats"><span class="n"><span class="pre">mb_txpool_stats</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_stats_t</span></span></span><a class="headerlink" href="#_CPPv417mb_txpool_stats_t" title="Link to this definition"></a><br /></dt>
<dd><p>Transaction pool statistics for diagnostics and leak detection. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv411mb_txpool_t">
<span id="_CPPv311mb_txpool_t"></span><span id="_CPPv211mb_txpool_t"></span><span id="mb_txpool_t"></span><span class="target" id="mb__txpool_8h_1a74c479ed5997ef279d002c9c215e3f45"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_txpool" title="mb_txpool"><span class="n"><span class="pre">mb_txpool</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_t</span></span></span><a class="headerlink" href="#_CPPv411mb_txpool_t" title="Link to this definition"></a><br /></dt>
<dd><p>Transaction pool instance. </p>
<p>Wraps a generic memory pool with transaction-specific tracking and statistics. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414mb_txpool_initP11mb_txpool_tPv6size_t6size_t">
<span id="_CPPv314mb_txpool_initP11mb_txpool_tPv6size_t6size_t"></span><span id="_CPPv214mb_txpool_initP11mb_txpool_tPv6size_t6size_t"></span><span id="mb_txpool_init__mb_txpool_tP.voidP.s.s"></span><span class="target" id="mb__txpool_8h_1a61efb741b087a319fc5feff666945825"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">storage</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tx_size</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tx_count</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414mb_txpool_initP11mb_txpool_tPv6size_t6size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initializes a transaction pool with external storage. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">storage</span></code> must remain valid for the pool’s lifetime. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">tx_size</span></code> should be aligned (typically sizeof(your_transaction_t)). </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txpool</strong> – <strong>[out]</strong> Pool instance to initialize </p></li>
<li><p><strong>storage</strong> – <strong>[in]</strong> Backing memory (must persist, properly aligned) </p></li>
<li><p><strong>tx_size</strong> – <strong>[in]</strong> Size of each transaction structure in bytes </p></li>
<li><p><strong>tx_count</strong> – <strong>[in]</strong> Number of transactions to allocate</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Pool initialized successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer, zero size, or misalignment</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_txpool_resetP11mb_txpool_t">
<span id="_CPPv315mb_txpool_resetP11mb_txpool_t"></span><span id="_CPPv215mb_txpool_resetP11mb_txpool_t"></span><span id="mb_txpool_reset__mb_txpool_tP"></span><span class="target" id="mb__txpool_8h_1a02de2dd9a3c173a03b3923a1711f578a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_txpool_resetP11mb_txpool_t" title="Link to this definition"></a><br /></dt>
<dd><p>Resets the pool to initial state (all transactions free). </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Only call when no transactions are in use! Does not track leaks. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance to reset</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_txpool_acquireP11mb_txpool_t">
<span id="_CPPv317mb_txpool_acquireP11mb_txpool_t"></span><span id="_CPPv217mb_txpool_acquireP11mb_txpool_t"></span><span id="mb_txpool_acquire__mb_txpool_tP"></span><span class="target" id="mb__txpool_8h_1a8ab520315e4bff2500c45ae525a5d8b1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_acquire</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_txpool_acquireP11mb_txpool_t" title="Link to this definition"></a><br /></dt>
<dd><p>Acquires a transaction from the pool. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Caller must cast to the appropriate transaction type. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Returns uninitialized memory - caller must initialize fields. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to transaction memory, or NULL if pool is exhausted</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_txpool_releaseP11mb_txpool_tPv">
<span id="_CPPv317mb_txpool_releaseP11mb_txpool_tPv"></span><span id="_CPPv217mb_txpool_releaseP11mb_txpool_tPv"></span><span id="mb_txpool_release__mb_txpool_tP.voidP"></span><span class="target" id="mb__txpool_8h_1ad60246135a2a0880a89372269f3be1ab"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_release</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_txpool_releaseP11mb_txpool_tPv" title="Link to this definition"></a><br /></dt>
<dd><p>Releases a transaction back to the pool. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Releasing the same transaction twice is undefined behavior. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>No validation is performed on the transaction contents. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p></li>
<li><p><strong>tx</strong> – <strong>[in]</strong> Transaction pointer previously returned by acquire()</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Transaction released successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer or tx not from this pool</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_txpool_get_statsPK11mb_txpool_tP17mb_txpool_stats_t">
<span id="_CPPv319mb_txpool_get_statsPK11mb_txpool_tP17mb_txpool_stats_t"></span><span id="_CPPv219mb_txpool_get_statsPK11mb_txpool_tP17mb_txpool_stats_t"></span><span id="mb_txpool_get_stats__mb_txpool_tCP.mb_txpool_stats_tP"></span><span class="target" id="mb__txpool_8h_1a7c55d2f4b7eea5b582854f5cd575d6b3"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_get_stats</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span>, <a class="reference internal" href="#_CPPv417mb_txpool_stats_t" title="mb_txpool_stats_t"><span class="n"><span class="pre">mb_txpool_stats_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">stats</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_txpool_get_statsPK11mb_txpool_tP17mb_txpool_stats_t" title="Link to this definition"></a><br /></dt>
<dd><p>Retrieves current pool statistics. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Statistics are not atomic - for diagnostic use only. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p></li>
<li><p><strong>stats</strong> – <strong>[out]</strong> Structure to fill with current statistics</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Statistics retrieved successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_txpool_capacityPK11mb_txpool_t">
<span id="_CPPv318mb_txpool_capacityPK11mb_txpool_t"></span><span id="_CPPv218mb_txpool_capacityPK11mb_txpool_t"></span><span id="mb_txpool_capacity__mb_txpool_tCP"></span><span class="target" id="mb__txpool_8h_1a48076faa15f909a987c38a84bbb9ca17"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_txpool_capacityPK11mb_txpool_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns total pool capacity. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of transactions (0 if NULL) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_txpool_availablePK11mb_txpool_t">
<span id="_CPPv319mb_txpool_availablePK11mb_txpool_t"></span><span id="_CPPv219mb_txpool_availablePK11mb_txpool_t"></span><span id="mb_txpool_available__mb_txpool_tCP"></span><span class="target" id="mb__txpool_8h_1a4dfeb54337438fce51b9224eee16ec8a"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_available</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_txpool_availablePK11mb_txpool_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns number of available (free) transactions. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Free transaction count </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416mb_txpool_in_usePK11mb_txpool_t">
<span id="_CPPv316mb_txpool_in_usePK11mb_txpool_t"></span><span id="_CPPv216mb_txpool_in_usePK11mb_txpool_t"></span><span id="mb_txpool_in_use__mb_txpool_tCP"></span><span class="target" id="mb__txpool_8h_1a2477443e7ccf7271e97171b91ead525a"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_in_use</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416mb_txpool_in_usePK11mb_txpool_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns number of currently allocated transactions. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>In-use transaction count </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_txpool_high_waterPK11mb_txpool_t">
<span id="_CPPv320mb_txpool_high_waterPK11mb_txpool_t"></span><span id="_CPPv220mb_txpool_high_waterPK11mb_txpool_t"></span><span id="mb_txpool_high_water__mb_txpool_tCP"></span><span class="target" id="mb__txpool_8h_1ac34abc5ca5208edbad3b49361f4d98f1"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_high_water</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_txpool_high_waterPK11mb_txpool_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns peak concurrent allocations. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Highest in-use count ever reached </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_txpool_is_emptyPK11mb_txpool_t">
<span id="_CPPv318mb_txpool_is_emptyPK11mb_txpool_t"></span><span id="_CPPv218mb_txpool_is_emptyPK11mb_txpool_t"></span><span id="mb_txpool_is_empty__mb_txpool_tCP"></span><span class="target" id="mb__txpool_8h_1acc1b1ed1c777a372d6e90bf6ba00c6bf"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_is_empty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_txpool_is_emptyPK11mb_txpool_t" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if pool is exhausted. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – No transactions available </p></li>
<li><p><strong>false</strong> – At least one transaction available </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_txpool_has_leaksPK11mb_txpool_t">
<span id="_CPPv319mb_txpool_has_leaksPK11mb_txpool_t"></span><span id="_CPPv219mb_txpool_has_leaksPK11mb_txpool_t"></span><span id="mb_txpool_has_leaks__mb_txpool_tCP"></span><span class="target" id="mb__txpool_8h_1a758aad9d53cfde4f5a9cb17eaa68484b"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_has_leaks</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_txpool_has_leaksPK11mb_txpool_t" title="Link to this definition"></a><br /></dt>
<dd><p>Checks if pool has potential leaks (diagnostic). </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a heuristic - full pool might be legitimate under heavy load. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Pool likely has leaked transactions (all allocated) </p></li>
<li><p><strong>false</strong> – Pool has available transactions</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__types_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_types.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;limits.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<p>Common fixed-width and utility types for the Modbus library. </p>
<p>This header centralises the type aliases and lightweight macros we rely on across the codebase. Keeping them in a single translation unit makes it easier to reason about ABI constraints and freestanding targets that may not ship with the full C library. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_STATIC_ASSERT">
<span class="target" id="mb__types_8h_1abe8eac4fbaedc52a57442d4c03b2895b"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_STATIC_ASSERT</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">expr</span></span>, <span class="n"><span class="pre">msg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_STATIC_ASSERT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_COUNTOF">
<span class="target" id="mb__types_8h_1a0c12483ea56ecd35acc9cb1bd7ce07ef"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_COUNTOF</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">arr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_COUNTOF" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PACKED">
<span class="target" id="mb__types_8h_1a2c54f0cdc3fc8a8176492acf8e0e92f6"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PACKED</span></span></span><a class="headerlink" href="#c.MB_PACKED" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_LIKELY">
<span class="target" id="mb__types_8h_1addba0cd7b070218d6dc5a3b096c26a49"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_LIKELY</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_LIKELY" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_UNLIKELY">
<span class="target" id="mb__types_8h_1ac8bb1bd3e88a961303464dd7a064af89"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_UNLIKELY</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">x</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_UNLIKELY" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_IS_POWER_OF_TWO">
<span class="target" id="mb__types_8h_1a8de50db5c092190822b9812139dcadcd"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_IS_POWER_OF_TWO</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_IS_POWER_OF_TWO" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_ALIGN_UP">
<span class="target" id="mb__types_8h_1a473ca1a89f2c0ba87f8f97e69124c8eb"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_ALIGN_UP</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">value</span></span>, <span class="n"><span class="pre">align</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_ALIGN_UP" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv45mb_i8">
<span id="_CPPv35mb_i8"></span><span id="_CPPv25mb_i8"></span><span id="mb_i8"></span><span class="target" id="mb__types_8h_1aa0ae61dfd7f86930b506e199ce6367fb"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">int8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_i8</span></span></span><a class="headerlink" href="#_CPPv45mb_i8" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv45mb_u8">
<span id="_CPPv35mb_u8"></span><span id="_CPPv25mb_u8"></span><span id="mb_u8"></span><span class="target" id="mb__types_8h_1a9d3b3f63382fe1854e69e9dfa5931478"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_u8</span></span></span><a class="headerlink" href="#_CPPv45mb_u8" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv46mb_i16">
<span id="_CPPv36mb_i16"></span><span id="_CPPv26mb_i16"></span><span id="mb_i16"></span><span class="target" id="mb__types_8h_1a3413be2424c19f1aa6cb6b6ba6cddb69"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">int16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_i16</span></span></span><a class="headerlink" href="#_CPPv46mb_i16" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv46mb_u16">
<span id="_CPPv36mb_u16"></span><span id="_CPPv26mb_u16"></span><span id="mb_u16"></span><span class="target" id="mb__types_8h_1a1448d67a5468d73799a75a12a8743ddc"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_u16</span></span></span><a class="headerlink" href="#_CPPv46mb_u16" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv46mb_i32">
<span id="_CPPv36mb_i32"></span><span id="_CPPv26mb_i32"></span><span id="mb_i32"></span><span class="target" id="mb__types_8h_1a9bc8acc333389aaacf584971db23fd15"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">int32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_i32</span></span></span><a class="headerlink" href="#_CPPv46mb_i32" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv46mb_u32">
<span id="_CPPv36mb_u32"></span><span id="_CPPv26mb_u32"></span><span id="mb_u32"></span><span class="target" id="mb__types_8h_1ab7b6a6ca00b96c7179a7a8173abc3058"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_u32</span></span></span><a class="headerlink" href="#_CPPv46mb_u32" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv46mb_i64">
<span id="_CPPv36mb_i64"></span><span id="_CPPv26mb_i64"></span><span id="mb_i64"></span><span class="target" id="mb__types_8h_1a85ed86f33911e35a8e182d3235fbaa92"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_i64</span></span></span><a class="headerlink" href="#_CPPv46mb_i64" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv46mb_u64">
<span id="_CPPv36mb_u64"></span><span id="_CPPv26mb_u64"></span><span id="mb_u64"></span><span class="target" id="mb__types_8h_1aab27dba64284c5ef35dda3bd28b1666f"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_u64</span></span></span><a class="headerlink" href="#_CPPv46mb_u64" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv49mb_size_t">
<span id="_CPPv39mb_size_t"></span><span id="_CPPv29mb_size_t"></span><span id="mb_size_t"></span><span class="target" id="mb__types_8h_1a73f786c637515cfc4fdace21efeffeef"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_size_t</span></span></span><a class="headerlink" href="#_CPPv49mb_size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412mb_ptrdiff_t">
<span id="_CPPv312mb_ptrdiff_t"></span><span id="_CPPv212mb_ptrdiff_t"></span><span id="mb_ptrdiff_t"></span><span class="target" id="mb__types_8h_1a938d6afafcc70b3f4d5ca12d90b2ea99"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">ptrdiff_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ptrdiff_t</span></span></span><a class="headerlink" href="#_CPPv412mb_ptrdiff_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412mb_uintptr_t">
<span id="_CPPv312mb_uintptr_t"></span><span id="_CPPv212mb_uintptr_t"></span><span id="mb_uintptr_t"></span><span class="target" id="mb__types_8h_1afbc680ae593be7ae54427bb6f5efde1a"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uintptr_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_uintptr_t</span></span></span><a class="headerlink" href="#_CPPv412mb_uintptr_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv411mb_intptr_t">
<span id="_CPPv311mb_intptr_t"></span><span id="_CPPv211mb_intptr_t"></span><span id="mb_intptr_t"></span><span class="target" id="mb__types_8h_1ae13c8d3d7e4d2e5fb2043dd4ed2f2247"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">intptr_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_intptr_t</span></span></span><a class="headerlink" href="#_CPPv411mb_intptr_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412mb_time_ms_t">
<span id="_CPPv312mb_time_ms_t"></span><span id="_CPPv212mb_time_ms_t"></span><span id="mb_time_ms_t"></span><span class="target" id="mb__types_8h_1ae5763c8ebf25a2b45bc2718b54a89f55"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u64" title="mb_u64"><span class="n"><span class="pre">mb_u64</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_time_ms_t</span></span></span><a class="headerlink" href="#_CPPv412mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv418mb_poll_rx_phase_t">
<span id="_CPPv318mb_poll_rx_phase_t"></span><span id="_CPPv218mb_poll_rx_phase_t"></span><span class="target" id="mb__types_8h_1abd7df3f7b9b4f5550825537f1363437a"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_poll_rx_phase_t</span></span></span><a class="headerlink" href="#_CPPv418mb_poll_rx_phase_t" title="Link to this definition"></a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_poll_rx_phase_t21MB_POLL_RX_PHASE_IDLEE">
<span id="_CPPv3N18mb_poll_rx_phase_t21MB_POLL_RX_PHASE_IDLEE"></span><span id="_CPPv2N18mb_poll_rx_phase_t21MB_POLL_RX_PHASE_IDLEE"></span><span class="target" id="mb__types_8h_1abd7df3f7b9b4f5550825537f1363437aa27022561126da3f7f96e451b98f47fb2"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_POLL_RX_PHASE_IDLE</span></span></span><a class="headerlink" href="#_CPPv4N18mb_poll_rx_phase_t21MB_POLL_RX_PHASE_IDLEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_poll_rx_phase_t23MB_POLL_RX_PHASE_HEADERE">
<span id="_CPPv3N18mb_poll_rx_phase_t23MB_POLL_RX_PHASE_HEADERE"></span><span id="_CPPv2N18mb_poll_rx_phase_t23MB_POLL_RX_PHASE_HEADERE"></span><span class="target" id="mb__types_8h_1abd7df3f7b9b4f5550825537f1363437aab70298b89f3e7d70a355af58a877e3c0"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_POLL_RX_PHASE_HEADER</span></span></span><a class="headerlink" href="#_CPPv4N18mb_poll_rx_phase_t23MB_POLL_RX_PHASE_HEADERE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_poll_rx_phase_t21MB_POLL_RX_PHASE_BODYE">
<span id="_CPPv3N18mb_poll_rx_phase_t21MB_POLL_RX_PHASE_BODYE"></span><span id="_CPPv2N18mb_poll_rx_phase_t21MB_POLL_RX_PHASE_BODYE"></span><span class="target" id="mb__types_8h_1abd7df3f7b9b4f5550825537f1363437aad4bbca9ac229262d0005c956ac3f3f08"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_POLL_RX_PHASE_BODY</span></span></span><a class="headerlink" href="#_CPPv4N18mb_poll_rx_phase_t21MB_POLL_RX_PHASE_BODYE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_poll_rx_phase_t25MB_POLL_RX_PHASE_VALIDATEE">
<span id="_CPPv3N18mb_poll_rx_phase_t25MB_POLL_RX_PHASE_VALIDATEE"></span><span id="_CPPv2N18mb_poll_rx_phase_t25MB_POLL_RX_PHASE_VALIDATEE"></span><span class="target" id="mb__types_8h_1abd7df3f7b9b4f5550825537f1363437aa5480ef00c64b32c0320a5edadacc8c7b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_POLL_RX_PHASE_VALIDATE</span></span></span><a class="headerlink" href="#_CPPv4N18mb_poll_rx_phase_t25MB_POLL_RX_PHASE_VALIDATEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_poll_rx_phase_t25MB_POLL_RX_PHASE_DISPATCHE">
<span id="_CPPv3N18mb_poll_rx_phase_t25MB_POLL_RX_PHASE_DISPATCHE"></span><span id="_CPPv2N18mb_poll_rx_phase_t25MB_POLL_RX_PHASE_DISPATCHE"></span><span class="target" id="mb__types_8h_1abd7df3f7b9b4f5550825537f1363437aaa0c509696bbad8ab2de6aed051ec5494"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_POLL_RX_PHASE_DISPATCH</span></span></span><a class="headerlink" href="#_CPPv4N18mb_poll_rx_phase_t25MB_POLL_RX_PHASE_DISPATCHE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv418mb_poll_tx_phase_t">
<span id="_CPPv318mb_poll_tx_phase_t"></span><span id="_CPPv218mb_poll_tx_phase_t"></span><span class="target" id="mb__types_8h_1a4e61b24b8999a49f89c07bc977710b50"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_poll_tx_phase_t</span></span></span><a class="headerlink" href="#_CPPv418mb_poll_tx_phase_t" title="Link to this definition"></a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_poll_tx_phase_t21MB_POLL_TX_PHASE_IDLEE">
<span id="_CPPv3N18mb_poll_tx_phase_t21MB_POLL_TX_PHASE_IDLEE"></span><span id="_CPPv2N18mb_poll_tx_phase_t21MB_POLL_TX_PHASE_IDLEE"></span><span class="target" id="mb__types_8h_1a4e61b24b8999a49f89c07bc977710b50a5ca1d06055e6254a2e7f88218b16fb74"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_POLL_TX_PHASE_IDLE</span></span></span><a class="headerlink" href="#_CPPv4N18mb_poll_tx_phase_t21MB_POLL_TX_PHASE_IDLEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_poll_tx_phase_t22MB_POLL_TX_PHASE_BUILDE">
<span id="_CPPv3N18mb_poll_tx_phase_t22MB_POLL_TX_PHASE_BUILDE"></span><span id="_CPPv2N18mb_poll_tx_phase_t22MB_POLL_TX_PHASE_BUILDE"></span><span class="target" id="mb__types_8h_1a4e61b24b8999a49f89c07bc977710b50a7dc933451afc24de345376d96f8b1544"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_POLL_TX_PHASE_BUILD</span></span></span><a class="headerlink" href="#_CPPv4N18mb_poll_tx_phase_t22MB_POLL_TX_PHASE_BUILDE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_poll_tx_phase_t21MB_POLL_TX_PHASE_SENDE">
<span id="_CPPv3N18mb_poll_tx_phase_t21MB_POLL_TX_PHASE_SENDE"></span><span id="_CPPv2N18mb_poll_tx_phase_t21MB_POLL_TX_PHASE_SENDE"></span><span class="target" id="mb__types_8h_1a4e61b24b8999a49f89c07bc977710b50a968a75612eaa43e70adb083f6e5e66d4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_POLL_TX_PHASE_SEND</span></span></span><a class="headerlink" href="#_CPPv4N18mb_poll_tx_phase_t21MB_POLL_TX_PHASE_SENDE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_poll_tx_phase_t22MB_POLL_TX_PHASE_DRAINE">
<span id="_CPPv3N18mb_poll_tx_phase_t22MB_POLL_TX_PHASE_DRAINE"></span><span id="_CPPv2N18mb_poll_tx_phase_t22MB_POLL_TX_PHASE_DRAINE"></span><span class="target" id="mb__types_8h_1a4e61b24b8999a49f89c07bc977710b50a32223b8754841663b0d832c2a8b65d04"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_POLL_TX_PHASE_DRAIN</span></span></span><a class="headerlink" href="#_CPPv4N18mb_poll_tx_phase_t22MB_POLL_TX_PHASE_DRAINE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__types_8h_1a7fa1c41cae0ac7eb4066f7190d932c09"></span><span class="sig-name descname"><span class="pre">MB_STATIC_ASSERT</span> <span class="pre">(sizeof(mb_u8)==1,</span> <span class="pre">&quot;mb_u8</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">8</span> <span class="pre">bits&quot;)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__types_8h_1a1d4aab9abf005bebb7a503716fcb1d10"></span><span class="sig-name descname"><span class="pre">MB_STATIC_ASSERT</span> <span class="pre">(sizeof(mb_u16)==2,</span> <span class="pre">&quot;mb_u16</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">16</span> <span class="pre">bits&quot;)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__types_8h_1a2ddb9d58304276c47c451a9c7e563c02"></span><span class="sig-name descname"><span class="pre">MB_STATIC_ASSERT</span> <span class="pre">(sizeof(mb_u32)==4,</span> <span class="pre">&quot;mb_u32</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">32</span> <span class="pre">bits&quot;)</span></span></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__types_8h_1aaa39ba1baf44b3431e4896b1c6a0c22c"></span><span class="sig-name descname"><span class="pre">MB_STATIC_ASSERT</span> <span class="pre">(sizeof(mb_u64)==8,</span> <span class="pre">&quot;mb_u64</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">64</span> <span class="pre">bits&quot;)</span></span></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mempool_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mempool.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<p>Fixed-size block memory pool (no malloc required). </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412mb_mempool_t">
<span id="_CPPv312mb_mempool_t"></span><span id="_CPPv212mb_mempool_t"></span><span id="mb_mempool_t"></span><span class="target" id="mempool_8h_1ab735aaf11bca88ba6d10117473499fbe"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv410mb_mempool" title="mb_mempool"><span class="n"><span class="pre">mb_mempool</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_t</span></span></span><a class="headerlink" href="#_CPPv412mb_mempool_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_mempool_initP12mb_mempool_tPv9mb_size_t9mb_size_t">
<span id="_CPPv315mb_mempool_initP12mb_mempool_tPv9mb_size_t9mb_size_t"></span><span id="_CPPv215mb_mempool_initP12mb_mempool_tPv9mb_size_t9mb_size_t"></span><span id="mb_mempool_init__mb_mempool_tP.voidP.mb_size_t.mb_size_t"></span><span class="target" id="mempool_8h_1a99d732c8a87fa49872aaa5eb632f58be"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buffer</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">block_size</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">block_count</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_mempool_initP12mb_mempool_tPv9mb_size_t9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416mb_mempool_resetP12mb_mempool_t">
<span id="_CPPv316mb_mempool_resetP12mb_mempool_t"></span><span id="_CPPv216mb_mempool_resetP12mb_mempool_t"></span><span id="mb_mempool_reset__mb_mempool_tP"></span><span class="target" id="mempool_8h_1a4f6c6d80726c1c97ca209acd092d3f0f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416mb_mempool_resetP12mb_mempool_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_mempool_acquireP12mb_mempool_t">
<span id="_CPPv318mb_mempool_acquireP12mb_mempool_t"></span><span id="_CPPv218mb_mempool_acquireP12mb_mempool_t"></span><span id="mb_mempool_acquire__mb_mempool_tP"></span><span class="target" id="mempool_8h_1a8c0fb200897fd8998bdcd85ae40dcd49"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_acquire</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_mempool_acquireP12mb_mempool_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_mempool_releaseP12mb_mempool_tPv">
<span id="_CPPv318mb_mempool_releaseP12mb_mempool_tPv"></span><span id="_CPPv218mb_mempool_releaseP12mb_mempool_tPv"></span><span id="mb_mempool_release__mb_mempool_tP.voidP"></span><span class="target" id="mempool_8h_1a1d350537adebc7f2a6723fa1bc9bdd92"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_release</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">block</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_mempool_releaseP12mb_mempool_tPv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_mempool_capacityPK12mb_mempool_t">
<span id="_CPPv319mb_mempool_capacityPK12mb_mempool_t"></span><span id="_CPPv219mb_mempool_capacityPK12mb_mempool_t"></span><span id="mb_mempool_capacity__mb_mempool_tCP"></span><span class="target" id="mempool_8h_1ad61ac493d1f9dfb3c165aa12e6f78916"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_mempool_capacityPK12mb_mempool_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_mempool_free_countPK12mb_mempool_t">
<span id="_CPPv321mb_mempool_free_countPK12mb_mempool_t"></span><span id="_CPPv221mb_mempool_free_countPK12mb_mempool_t"></span><span id="mb_mempool_free_count__mb_mempool_tCP"></span><span class="target" id="mempool_8h_1ac5431112c3553871ecd82a57e0ed6c8e"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_free_count</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_mempool_free_countPK12mb_mempool_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_mempool_containsPK12mb_mempool_tPKv">
<span id="_CPPv319mb_mempool_containsPK12mb_mempool_tPKv"></span><span id="_CPPv219mb_mempool_containsPK12mb_mempool_tPKv"></span><span id="mb_mempool_contains__mb_mempool_tCP.voidCP"></span><span class="target" id="mempool_8h_1aad1ce069a928ac827b24d5c4779985bd"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_contains</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">block</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_mempool_containsPK12mb_mempool_tPKv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="modbus_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">modbus.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__log_8h"><span class="std std-ref">modbus/mb_log.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#version_8h"><span class="std std-ref">modbus/version.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#observe_8h"><span class="std std-ref">modbus/observe.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#base_8h"><span class="std std-ref">modbus/base.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport_8h"><span class="std std-ref">modbus/transport.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport__if_8h"><span class="std std-ref">modbus/transport_if.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#features_8h"><span class="std std-ref">modbus/features.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#frame_8h"><span class="std std-ref">modbus/frame.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#utils_8h"><span class="std std-ref">modbus/utils.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#fsm_8h"><span class="std std-ref">modbus/fsm.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#core_8h"><span class="std std-ref">modbus/core.h</span></a>&gt;</em></div>
<p>Single public header for the Modbus library. </p>
<p>This header consolidates all the necessary includes for using the Modbus library. Users only need to include this file in their application.</p>
<p>Internally, it includes:<ul class="simple">
<li><p>modbus_conf.h: configuration and macros</p></li>
<li><p><a class="reference internal" href="#fsm_8h"><span class="std std-ref">fsm.h</span></a>: finite state machine framework</p></li>
<li><p>modbus_crc.h: CRC calculation</p></li>
<li><p>modbus_utils.h: utility functions (sorting, safe reads, etc.)</p></li>
<li><p>modbus_transport.h: transport abstraction interface</p></li>
<li><p>modbus_core.h: core functions for Modbus RTU frames and parsing</p></li>
<li><p>modbus_master.h: Master (Client) API</p></li>
<li><p>modbus_server.h: Server (Slave) API</p></li>
</ul>
</p>
<p>Author: Date: 2024-12-20 </p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">observe.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#frame_8h"><span class="std std-ref">modbus/frame.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<p>Observability primitives (events, diagnostics and tracing controls). </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv410mb_event_t">
<span id="_CPPv310mb_event_t"></span><span id="_CPPv210mb_event_t"></span><span id="mb_event_t"></span><span class="target" id="observe_8h_1ac99d6e2a40f0c0e317cf8e2ad0dc83dd"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_event" title="mb_event"><span class="n"><span class="pre">mb_event</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_event_t</span></span></span><a class="headerlink" href="#_CPPv410mb_event_t" title="Link to this definition"></a><br /></dt>
<dd><p>Payload carried by an observability event. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv419mb_event_callback_t">
<span id="_CPPv319mb_event_callback_t"></span><span id="_CPPv219mb_event_callback_t"></span><span id="mb_event_callback_t"></span><span class="target" id="observe_8h_1abf97f6a1f3d449bf905317d6ebdcb1b6"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_event_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv410mb_event_t" title="mb_event_t"><span class="n"><span class="pre">mb_event_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv419mb_event_callback_t" title="Link to this definition"></a><br /></dt>
<dd><p>Callback signature used to surface observability events. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv417mb_event_source_t">
<span id="_CPPv317mb_event_source_t"></span><span id="_CPPv217mb_event_source_t"></span><span class="target" id="observe_8h_1ac18a8256f9b92a1f80e602fafb724be5"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_event_source_t</span></span></span><a class="headerlink" href="#_CPPv417mb_event_source_t" title="Link to this definition"></a><br /></dt>
<dd><p>Identifies the component emitting an observability event. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_event_source_t22MB_EVENT_SOURCE_CLIENTE">
<span id="_CPPv3N17mb_event_source_t22MB_EVENT_SOURCE_CLIENTE"></span><span id="_CPPv2N17mb_event_source_t22MB_EVENT_SOURCE_CLIENTE"></span><span class="target" id="observe_8h_1ac18a8256f9b92a1f80e602fafb724be5a9d3e9076aa48fb46dfbef8ae2c1d405a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SOURCE_CLIENT</span></span></span><a class="headerlink" href="#_CPPv4N17mb_event_source_t22MB_EVENT_SOURCE_CLIENTE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_event_source_t22MB_EVENT_SOURCE_SERVERE">
<span id="_CPPv3N17mb_event_source_t22MB_EVENT_SOURCE_SERVERE"></span><span id="_CPPv2N17mb_event_source_t22MB_EVENT_SOURCE_SERVERE"></span><span class="target" id="observe_8h_1ac18a8256f9b92a1f80e602fafb724be5adc8e591fa269545adba3cc540bb51dec"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SOURCE_SERVER</span></span></span><a class="headerlink" href="#_CPPv4N17mb_event_source_t22MB_EVENT_SOURCE_SERVERE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv415mb_event_type_t">
<span id="_CPPv315mb_event_type_t"></span><span id="_CPPv215mb_event_type_t"></span><span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_event_type_t</span></span></span><a class="headerlink" href="#_CPPv415mb_event_type_t" title="Link to this definition"></a><br /></dt>
<dd><p>Event categories surfaced through the observability callback. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_event_type_t27MB_EVENT_CLIENT_STATE_ENTERE">
<span id="_CPPv3N15mb_event_type_t27MB_EVENT_CLIENT_STATE_ENTERE"></span><span id="_CPPv2N15mb_event_type_t27MB_EVENT_CLIENT_STATE_ENTERE"></span><span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a1921845e024f1970d49e8ab42af6f19d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_CLIENT_STATE_ENTER</span></span></span><a class="headerlink" href="#_CPPv4N15mb_event_type_t27MB_EVENT_CLIENT_STATE_ENTERE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_event_type_t26MB_EVENT_CLIENT_STATE_EXITE">
<span id="_CPPv3N15mb_event_type_t26MB_EVENT_CLIENT_STATE_EXITE"></span><span id="_CPPv2N15mb_event_type_t26MB_EVENT_CLIENT_STATE_EXITE"></span><span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a751b4c16f216a685d8b569d2472657b7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_CLIENT_STATE_EXIT</span></span></span><a class="headerlink" href="#_CPPv4N15mb_event_type_t26MB_EVENT_CLIENT_STATE_EXITE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_event_type_t25MB_EVENT_CLIENT_TX_SUBMITE">
<span id="_CPPv3N15mb_event_type_t25MB_EVENT_CLIENT_TX_SUBMITE"></span><span id="_CPPv2N15mb_event_type_t25MB_EVENT_CLIENT_TX_SUBMITE"></span><span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a320fe707abcf816f7a1d33a75ac285ed"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_CLIENT_TX_SUBMIT</span></span></span><a class="headerlink" href="#_CPPv4N15mb_event_type_t25MB_EVENT_CLIENT_TX_SUBMITE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_event_type_t27MB_EVENT_CLIENT_TX_COMPLETEE">
<span id="_CPPv3N15mb_event_type_t27MB_EVENT_CLIENT_TX_COMPLETEE"></span><span id="_CPPv2N15mb_event_type_t27MB_EVENT_CLIENT_TX_COMPLETEE"></span><span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a5e78a2a754d3900ac61772c8ab7833bd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_CLIENT_TX_COMPLETE</span></span></span><a class="headerlink" href="#_CPPv4N15mb_event_type_t27MB_EVENT_CLIENT_TX_COMPLETEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_event_type_t27MB_EVENT_SERVER_STATE_ENTERE">
<span id="_CPPv3N15mb_event_type_t27MB_EVENT_SERVER_STATE_ENTERE"></span><span id="_CPPv2N15mb_event_type_t27MB_EVENT_SERVER_STATE_ENTERE"></span><span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06ae7666cb8044e36b58159b509e224f1af"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SERVER_STATE_ENTER</span></span></span><a class="headerlink" href="#_CPPv4N15mb_event_type_t27MB_EVENT_SERVER_STATE_ENTERE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_event_type_t26MB_EVENT_SERVER_STATE_EXITE">
<span id="_CPPv3N15mb_event_type_t26MB_EVENT_SERVER_STATE_EXITE"></span><span id="_CPPv2N15mb_event_type_t26MB_EVENT_SERVER_STATE_EXITE"></span><span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a3d4e62e679128180fdde8a3da2eae9fe"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SERVER_STATE_EXIT</span></span></span><a class="headerlink" href="#_CPPv4N15mb_event_type_t26MB_EVENT_SERVER_STATE_EXITE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_event_type_t30MB_EVENT_SERVER_REQUEST_ACCEPTE">
<span id="_CPPv3N15mb_event_type_t30MB_EVENT_SERVER_REQUEST_ACCEPTE"></span><span id="_CPPv2N15mb_event_type_t30MB_EVENT_SERVER_REQUEST_ACCEPTE"></span><span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a98e4131b77ea1d80fd82be54e9e91101"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SERVER_REQUEST_ACCEPT</span></span></span><a class="headerlink" href="#_CPPv4N15mb_event_type_t30MB_EVENT_SERVER_REQUEST_ACCEPTE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N15mb_event_type_t32MB_EVENT_SERVER_REQUEST_COMPLETEE">
<span id="_CPPv3N15mb_event_type_t32MB_EVENT_SERVER_REQUEST_COMPLETEE"></span><span id="_CPPv2N15mb_event_type_t32MB_EVENT_SERVER_REQUEST_COMPLETEE"></span><span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a089d55d698e88ddaa2e95805e1c9cc41"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SERVER_REQUEST_COMPLETE</span></span></span><a class="headerlink" href="#_CPPv4N15mb_event_type_t32MB_EVENT_SERVER_REQUEST_COMPLETEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv418mb_diag_err_slot_t">
<span id="_CPPv318mb_diag_err_slot_t"></span><span id="_CPPv218mb_diag_err_slot_t"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_err_slot_t</span></span></span><a class="headerlink" href="#_CPPv418mb_diag_err_slot_t" title="Link to this definition"></a><br /></dt>
<dd><p>Canonical buckets used for error diagnostics counters. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t19MB_DIAG_ERR_SLOT_OKE">
<span id="_CPPv3N18mb_diag_err_slot_t19MB_DIAG_ERR_SLOT_OKE"></span><span id="_CPPv2N18mb_diag_err_slot_t19MB_DIAG_ERR_SLOT_OKE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8aabdbc24a4ecf6fa7180a48cea324994d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_OK</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t19MB_DIAG_ERR_SLOT_OKE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t33MB_DIAG_ERR_SLOT_INVALID_ARGUMENTE">
<span id="_CPPv3N18mb_diag_err_slot_t33MB_DIAG_ERR_SLOT_INVALID_ARGUMENTE"></span><span id="_CPPv2N18mb_diag_err_slot_t33MB_DIAG_ERR_SLOT_INVALID_ARGUMENTE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a43ceb2cac3df9f1a029e5b61d8aa8e69"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_INVALID_ARGUMENT</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t33MB_DIAG_ERR_SLOT_INVALID_ARGUMENTE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t24MB_DIAG_ERR_SLOT_TIMEOUTE">
<span id="_CPPv3N18mb_diag_err_slot_t24MB_DIAG_ERR_SLOT_TIMEOUTE"></span><span id="_CPPv2N18mb_diag_err_slot_t24MB_DIAG_ERR_SLOT_TIMEOUTE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a8b7ad32d95f5526e8da5fc83ecfcfce3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_TIMEOUT</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t24MB_DIAG_ERR_SLOT_TIMEOUTE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t26MB_DIAG_ERR_SLOT_TRANSPORTE">
<span id="_CPPv3N18mb_diag_err_slot_t26MB_DIAG_ERR_SLOT_TRANSPORTE"></span><span id="_CPPv2N18mb_diag_err_slot_t26MB_DIAG_ERR_SLOT_TRANSPORTE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a59e1a9d6bb017e8693885bd08611b5b5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_TRANSPORT</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t26MB_DIAG_ERR_SLOT_TRANSPORTE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t20MB_DIAG_ERR_SLOT_CRCE">
<span id="_CPPv3N18mb_diag_err_slot_t20MB_DIAG_ERR_SLOT_CRCE"></span><span id="_CPPv2N18mb_diag_err_slot_t20MB_DIAG_ERR_SLOT_CRCE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a3b53e420bbad8a644176ccfc450f581b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_CRC</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t20MB_DIAG_ERR_SLOT_CRCE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t32MB_DIAG_ERR_SLOT_INVALID_REQUESTE">
<span id="_CPPv3N18mb_diag_err_slot_t32MB_DIAG_ERR_SLOT_INVALID_REQUESTE"></span><span id="_CPPv2N18mb_diag_err_slot_t32MB_DIAG_ERR_SLOT_INVALID_REQUESTE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8ac591cc5446695e72532fef1785e043ae"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_INVALID_REQUEST</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t32MB_DIAG_ERR_SLOT_INVALID_REQUESTE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t31MB_DIAG_ERR_SLOT_OTHER_REQUESTSE">
<span id="_CPPv3N18mb_diag_err_slot_t31MB_DIAG_ERR_SLOT_OTHER_REQUESTSE"></span><span id="_CPPv2N18mb_diag_err_slot_t31MB_DIAG_ERR_SLOT_OTHER_REQUESTSE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8aa19ead720945afcfd055d28eea177747"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_OTHER_REQUESTS</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t31MB_DIAG_ERR_SLOT_OTHER_REQUESTSE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t22MB_DIAG_ERR_SLOT_OTHERE">
<span id="_CPPv3N18mb_diag_err_slot_t22MB_DIAG_ERR_SLOT_OTHERE"></span><span id="_CPPv2N18mb_diag_err_slot_t22MB_DIAG_ERR_SLOT_OTHERE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a2c9ffa3f1c34b262dceb5004330c2a4e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_OTHER</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t22MB_DIAG_ERR_SLOT_OTHERE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t26MB_DIAG_ERR_SLOT_CANCELLEDE">
<span id="_CPPv3N18mb_diag_err_slot_t26MB_DIAG_ERR_SLOT_CANCELLEDE"></span><span id="_CPPv2N18mb_diag_err_slot_t26MB_DIAG_ERR_SLOT_CANCELLEDE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a249bad96b91b5ea550ad7128f3ea5e1c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_CANCELLED</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t26MB_DIAG_ERR_SLOT_CANCELLEDE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t29MB_DIAG_ERR_SLOT_NO_RESOURCESE">
<span id="_CPPv3N18mb_diag_err_slot_t29MB_DIAG_ERR_SLOT_NO_RESOURCESE"></span><span id="_CPPv2N18mb_diag_err_slot_t29MB_DIAG_ERR_SLOT_NO_RESOURCESE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a486d78071fc0da19c44a45a967edd4a7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_NO_RESOURCES</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t29MB_DIAG_ERR_SLOT_NO_RESOURCESE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t43MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_FUNCTIONE">
<span id="_CPPv3N18mb_diag_err_slot_t43MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_FUNCTIONE"></span><span id="_CPPv2N18mb_diag_err_slot_t43MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_FUNCTIONE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a4f133574e39f8a778fbce396c61dbc4b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_FUNCTION</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t43MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_FUNCTIONE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t47MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_ADDRESSE">
<span id="_CPPv3N18mb_diag_err_slot_t47MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_ADDRESSE"></span><span id="_CPPv2N18mb_diag_err_slot_t47MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_ADDRESSE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a04afef893267e237d9e92eaef1472972"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_ADDRESS</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t47MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_ADDRESSE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t45MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_VALUEE">
<span id="_CPPv3N18mb_diag_err_slot_t45MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_VALUEE"></span><span id="_CPPv2N18mb_diag_err_slot_t45MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_VALUEE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a0ac018b244ee0b6e2db6ba6c40403e6d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_VALUE</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t45MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_VALUEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t48MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_FAILUREE">
<span id="_CPPv3N18mb_diag_err_slot_t48MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_FAILUREE"></span><span id="_CPPv2N18mb_diag_err_slot_t48MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_FAILUREE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a475b46306f0f8f9f213fbfe5cef5979e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_FAILURE</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t48MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_FAILUREE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t38MB_DIAG_ERR_SLOT_EXCEPTION_ACKNOWLEDGEE">
<span id="_CPPv3N18mb_diag_err_slot_t38MB_DIAG_ERR_SLOT_EXCEPTION_ACKNOWLEDGEE"></span><span id="_CPPv2N18mb_diag_err_slot_t38MB_DIAG_ERR_SLOT_EXCEPTION_ACKNOWLEDGEE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a79a0d3d0908aa9b500c4f890f2e013ab"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ACKNOWLEDGE</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t38MB_DIAG_ERR_SLOT_EXCEPTION_ACKNOWLEDGEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t45MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_BUSYE">
<span id="_CPPv3N18mb_diag_err_slot_t45MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_BUSYE"></span><span id="_CPPv2N18mb_diag_err_slot_t45MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_BUSYE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a740797fe3e9d94006b2d637a93e57ddb"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_BUSY</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t45MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_BUSYE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t47MB_DIAG_ERR_SLOT_EXCEPTION_NEGATIVE_ACKNOWLEDGEE">
<span id="_CPPv3N18mb_diag_err_slot_t47MB_DIAG_ERR_SLOT_EXCEPTION_NEGATIVE_ACKNOWLEDGEE"></span><span id="_CPPv2N18mb_diag_err_slot_t47MB_DIAG_ERR_SLOT_EXCEPTION_NEGATIVE_ACKNOWLEDGEE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a03dd09f3d143051686a647d192daf57d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_NEGATIVE_ACKNOWLEDGE</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t47MB_DIAG_ERR_SLOT_EXCEPTION_NEGATIVE_ACKNOWLEDGEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t46MB_DIAG_ERR_SLOT_EXCEPTION_MEMORY_PARITY_ERRORE">
<span id="_CPPv3N18mb_diag_err_slot_t46MB_DIAG_ERR_SLOT_EXCEPTION_MEMORY_PARITY_ERRORE"></span><span id="_CPPv2N18mb_diag_err_slot_t46MB_DIAG_ERR_SLOT_EXCEPTION_MEMORY_PARITY_ERRORE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a9ecf80b823776a31f940e97b899f37f1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_MEMORY_PARITY_ERROR</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t46MB_DIAG_ERR_SLOT_EXCEPTION_MEMORY_PARITY_ERRORE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t51MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_PATH_UNAVAILABLEE">
<span id="_CPPv3N18mb_diag_err_slot_t51MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_PATH_UNAVAILABLEE"></span><span id="_CPPv2N18mb_diag_err_slot_t51MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_PATH_UNAVAILABLEE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a1436cd7d2dfc0e6f54e7077d14e482b6"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_PATH_UNAVAILABLE</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t51MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_PATH_UNAVAILABLEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t55MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILEDE">
<span id="_CPPv3N18mb_diag_err_slot_t55MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILEDE"></span><span id="_CPPv2N18mb_diag_err_slot_t55MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILEDE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a2537a76ea03c4fe7df4f5d138b0b6f59"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILED</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t55MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILEDE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N18mb_diag_err_slot_t20MB_DIAG_ERR_SLOT_MAXE">
<span id="_CPPv3N18mb_diag_err_slot_t20MB_DIAG_ERR_SLOT_MAXE"></span><span id="_CPPv2N18mb_diag_err_slot_t20MB_DIAG_ERR_SLOT_MAXE"></span><span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8ac04d008606822cf411e3e9165a941f7e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_MAX</span></span></span><a class="headerlink" href="#_CPPv4N18mb_diag_err_slot_t20MB_DIAG_ERR_SLOT_MAXE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv413mb_diag_resetP18mb_diag_counters_t">
<span id="_CPPv313mb_diag_resetP18mb_diag_counters_t"></span><span id="_CPPv213mb_diag_resetP18mb_diag_counters_t"></span><span id="mb_diag_reset__mb_diag_counters_tP"></span><span class="target" id="observe_8h_1a4f282a61695c7148d76413916465f9c9"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">diag</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413mb_diag_resetP18mb_diag_counters_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_diag_record_fcP18mb_diag_counters_t5mb_u8">
<span id="_CPPv317mb_diag_record_fcP18mb_diag_counters_t5mb_u8"></span><span id="_CPPv217mb_diag_record_fcP18mb_diag_counters_t5mb_u8"></span><span id="mb_diag_record_fc__mb_diag_counters_tP.mb_u8"></span><span class="target" id="observe_8h_1aa367e5b5c40368644090fbf0677a9298"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_record_fc</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">diag</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_diag_record_fcP18mb_diag_counters_t5mb_u8" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_diag_record_errorP18mb_diag_counters_t8mb_err_t">
<span id="_CPPv320mb_diag_record_errorP18mb_diag_counters_t8mb_err_t"></span><span id="_CPPv220mb_diag_record_errorP18mb_diag_counters_t8mb_err_t"></span><span id="mb_diag_record_error__mb_diag_counters_tP.mb_err_t"></span><span class="target" id="observe_8h_1a3a1d96777d345c0f178f34aaab63041b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_record_error</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">diag</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_diag_record_errorP18mb_diag_counters_t8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_diag_slot_from_error8mb_err_t">
<span id="_CPPv323mb_diag_slot_from_error8mb_err_t"></span><span id="_CPPv223mb_diag_slot_from_error8mb_err_t"></span><span id="mb_diag_slot_from_error__mb_err_t"></span><span class="target" id="observe_8h_1aed2ee76e2f1a7ffa6c3636d6c6afb3e7"></span><a class="reference internal" href="#_CPPv418mb_diag_err_slot_t" title="mb_diag_err_slot_t"><span class="n"><span class="pre">mb_diag_err_slot_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_slot_from_error</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_diag_slot_from_error8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_diag_err_slot_str18mb_diag_err_slot_t">
<span id="_CPPv320mb_diag_err_slot_str18mb_diag_err_slot_t"></span><span id="_CPPv220mb_diag_err_slot_str18mb_diag_err_slot_t"></span><span id="mb_diag_err_slot_str__mb_diag_err_slot_t"></span><span class="target" id="observe_8h_1a320d9b60aee0566573098f48b075df52"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_err_slot_str</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_err_slot_t" title="mb_diag_err_slot_t"><span class="n"><span class="pre">mb_diag_err_slot_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">slot</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_diag_err_slot_str18mb_diag_err_slot_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_diag_state_initP15mb_diag_state_t">
<span id="_CPPv318mb_diag_state_initP15mb_diag_state_t"></span><span id="_CPPv218mb_diag_state_initP15mb_diag_state_t"></span><span id="mb_diag_state_init__mb_diag_state_tP"></span><span class="target" id="observe_8h_1ae140e8e54bb756fe39f29447b3001490"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_state_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_diag_state_initP15mb_diag_state_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_diag_state_resetP15mb_diag_state_t">
<span id="_CPPv319mb_diag_state_resetP15mb_diag_state_t"></span><span id="_CPPv219mb_diag_state_resetP15mb_diag_state_t"></span><span id="mb_diag_state_reset__mb_diag_state_tP"></span><span class="target" id="observe_8h_1a71322220b3e217520cd2cd7650f97412"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_state_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_diag_state_resetP15mb_diag_state_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_diag_state_record_fcP15mb_diag_state_t5mb_u8">
<span id="_CPPv323mb_diag_state_record_fcP15mb_diag_state_t5mb_u8"></span><span id="_CPPv223mb_diag_state_record_fcP15mb_diag_state_t5mb_u8"></span><span id="mb_diag_state_record_fc__mb_diag_state_tP.mb_u8"></span><span class="target" id="observe_8h_1a0f43029ebdcb42ee693cf887c869ad5d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_state_record_fc</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_diag_state_record_fcP15mb_diag_state_t5mb_u8" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426mb_diag_state_record_errorP15mb_diag_state_t8mb_err_t">
<span id="_CPPv326mb_diag_state_record_errorP15mb_diag_state_t8mb_err_t"></span><span id="_CPPv226mb_diag_state_record_errorP15mb_diag_state_t8mb_err_t"></span><span id="mb_diag_state_record_error__mb_diag_state_tP.mb_err_t"></span><span class="target" id="observe_8h_1a66b6afe9dd67379473f30cd998696409"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_state_record_error</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426mb_diag_state_record_errorP15mb_diag_state_t8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427mb_diag_state_capture_eventP15mb_diag_state_tPK10mb_event_t">
<span id="_CPPv327mb_diag_state_capture_eventP15mb_diag_state_tPK10mb_event_t"></span><span id="_CPPv227mb_diag_state_capture_eventP15mb_diag_state_tPK10mb_event_t"></span><span id="mb_diag_state_capture_event__mb_diag_state_tP.mb_event_tCP"></span><span class="target" id="observe_8h_1a7fdf12b9ff6f167f34665efc18e8e3fc"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_state_capture_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv410mb_event_t" title="mb_event_t"><span class="n"><span class="pre">mb_event_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">event</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427mb_diag_state_capture_eventP15mb_diag_state_tPK10mb_event_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416mb_diag_snapshotPK15mb_diag_state_tP18mb_diag_snapshot_t">
<span id="_CPPv316mb_diag_snapshotPK15mb_diag_state_tP18mb_diag_snapshot_t"></span><span id="_CPPv216mb_diag_snapshotPK15mb_diag_state_tP18mb_diag_snapshot_t"></span><span id="mb_diag_snapshot__mb_diag_state_tCP.mb_diag_snapshot_tP"></span><span class="target" id="observe_8h_1a42999f99f40df18acfc826c060668c01"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_snapshot</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_snapshot_t" title="mb_diag_snapshot_t"><span class="n"><span class="pre">mb_diag_snapshot_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_snapshot</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416mb_diag_snapshotPK15mb_diag_state_tP18mb_diag_snapshot_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="pdu_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">pdu.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<p>Helpers to encode and decode Modbus Protocol Data Units. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_MAX">
<span class="target" id="pdu_8h_1a39d8f0bb73f4a38dfb518fa175b5597f"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_MAX</span></span></span><a class="headerlink" href="#c.MB_PDU_MAX" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_READ_COILS">
<span class="target" id="pdu_8h_1a17da0960696dd3b7db29d0403c228a0e"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_READ_COILS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_READ_COILS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_READ_DISCRETE_INPUTS">
<span class="target" id="pdu_8h_1af1e1f148f1be3820da7f8fd4de5bb673"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_READ_DISCRETE_INPUTS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_READ_DISCRETE_INPUTS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_READ_HOLDING_REGISTERS">
<span class="target" id="pdu_8h_1ae1005e55b386d9065d2640d413d16010"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_READ_HOLDING_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_READ_HOLDING_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_READ_INPUT_REGISTERS">
<span class="target" id="pdu_8h_1a451e470f4ecec7af1f6a7fd32b65d6ef"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_READ_INPUT_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_READ_INPUT_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_WRITE_SINGLE_COIL">
<span class="target" id="pdu_8h_1aba483e3f6ad55b8974ec43f03d61b054"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_WRITE_SINGLE_COIL</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_WRITE_SINGLE_COIL" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_WRITE_SINGLE_REGISTER">
<span class="target" id="pdu_8h_1af831e1592ca32a70fa49aa27ddffd35d"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_WRITE_SINGLE_REGISTER</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_WRITE_SINGLE_REGISTER" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_READ_EXCEPTION_STATUS">
<span class="target" id="pdu_8h_1a8ed8ccbb5c737289bfba2547a563df65"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_READ_EXCEPTION_STATUS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_READ_EXCEPTION_STATUS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_WRITE_MULTIPLE_COILS">
<span class="target" id="pdu_8h_1a958dfb3797b4295f61cb719bf2038037"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_WRITE_MULTIPLE_COILS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_WRITE_MULTIPLE_COILS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_WRITE_MULTIPLE_REGISTERS">
<span class="target" id="pdu_8h_1ae74161972c6de0b790159b6f8a038c39"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_WRITE_MULTIPLE_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_WRITE_MULTIPLE_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_REPORT_SERVER_ID">
<span class="target" id="pdu_8h_1a6cf38efe86a43b650fc5459fedcf9809"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_REPORT_SERVER_ID</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_REPORT_SERVER_ID" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_MASK_WRITE_REGISTER">
<span class="target" id="pdu_8h_1a36ec594e2f27770ac82f00cc8dde332a"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_MASK_WRITE_REGISTER</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_MASK_WRITE_REGISTER" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC_READ_WRITE_MULTIPLE_REGISTERS">
<span class="target" id="pdu_8h_1ae2c444cbe1bf18d0e7b2bff603590b26"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC_READ_WRITE_MULTIPLE_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC_READ_WRITE_MULTIPLE_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_EXCEPTION_BIT">
<span class="target" id="pdu_8h_1aa158a0aa4d3546cdfd64b5e1ecc237de"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_EXCEPTION_BIT</span></span></span><a class="headerlink" href="#c.MB_PDU_EXCEPTION_BIT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_COIL_OFF_VALUE">
<span class="target" id="pdu_8h_1a66e63e18b1c1ad46de0b472fede5f611"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_COIL_OFF_VALUE</span></span></span><a class="headerlink" href="#c.MB_PDU_COIL_OFF_VALUE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_COIL_ON_VALUE">
<span class="target" id="pdu_8h_1a8d9f6ce648e42dcd4f5e51905acd173e"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_COIL_ON_VALUE</span></span></span><a class="headerlink" href="#c.MB_PDU_COIL_ON_VALUE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC01_MIN_COILS">
<span class="target" id="pdu_8h_1aaa7347dc26a71d55937bec36b0c76c0f"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC01_MIN_COILS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC01_MIN_COILS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC01_MAX_COILS">
<span class="target" id="pdu_8h_1a05edc4fa48579314f71e92a29e14d969"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC01_MAX_COILS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC01_MAX_COILS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC02_MIN_INPUTS">
<span class="target" id="pdu_8h_1a6f2e221a998299510997fa848bf30022"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC02_MIN_INPUTS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC02_MIN_INPUTS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC02_MAX_INPUTS">
<span class="target" id="pdu_8h_1af9b4db1cdcd1611963e8614de1ea9b11"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC02_MAX_INPUTS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC02_MAX_INPUTS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC03_MIN_REGISTERS">
<span class="target" id="pdu_8h_1a305185f70ead36d5157b71cb4544b6ab"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC03_MIN_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC03_MIN_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC03_MAX_REGISTERS">
<span class="target" id="pdu_8h_1af7228769a53699acb80e315b59352af3"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC03_MAX_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC03_MAX_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC04_MIN_REGISTERS">
<span class="target" id="pdu_8h_1a4c4c4b9c38cd95deae5878836e77b8e7"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC04_MIN_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC04_MIN_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC04_MAX_REGISTERS">
<span class="target" id="pdu_8h_1abe4406e0ba2998f5665757a0d73844a8"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC04_MAX_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC04_MAX_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC16_MIN_REGISTERS">
<span class="target" id="pdu_8h_1a1a457758532a4bfdedebced6ebc452dd"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC16_MIN_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC16_MIN_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC16_MAX_REGISTERS">
<span class="target" id="pdu_8h_1a9325f3aeb78d80641e862b62163e7a77"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC16_MAX_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC16_MAX_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC0F_MIN_COILS">
<span class="target" id="pdu_8h_1ae3c5d4e5cbcd8de063393a31b9b1fcdb"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC0F_MIN_COILS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC0F_MIN_COILS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC0F_MAX_COILS">
<span class="target" id="pdu_8h_1a5bfe5567be0e288ab5476d661c7289fb"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC0F_MAX_COILS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC0F_MAX_COILS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC17_MIN_READ_REGISTERS">
<span class="target" id="pdu_8h_1ae4add90170784c1e5fa498856f84a34e"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC17_MIN_READ_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC17_MIN_READ_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC17_MAX_READ_REGISTERS">
<span class="target" id="pdu_8h_1a5ca93303af2871421a3b5c1a028398cb"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC17_MAX_READ_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC17_MAX_READ_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC17_MIN_WRITE_REGISTERS">
<span class="target" id="pdu_8h_1aa5eca71165e8a647f9fd944429129473"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC17_MIN_WRITE_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC17_MIN_WRITE_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC17_MAX_WRITE_REGISTERS">
<span class="target" id="pdu_8h_1a38afe0cb356d9946d962a9f491c972ae"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC17_MAX_WRITE_REGISTERS</span></span></span><a class="headerlink" href="#c.MB_PDU_FC17_MAX_WRITE_REGISTERS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PDU_FC11_MAX_PAYLOAD">
<span class="target" id="pdu_8h_1a26a1ae49f39294b9df74f6ca756beaa0"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PDU_FC11_MAX_PAYLOAD</span></span></span><a class="headerlink" href="#c.MB_PDU_FC11_MAX_PAYLOAD" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_pdu_build_exceptionP5mb_u89mb_size_t5mb_u85mb_u8">
<span id="_CPPv322mb_pdu_build_exceptionP5mb_u89mb_size_t5mb_u85mb_u8"></span><span id="_CPPv222mb_pdu_build_exceptionP5mb_u89mb_size_t5mb_u85mb_u8"></span><span id="mb_pdu_build_exception__mb_u8P.mb_size_t.mb_u8.mb_u8"></span><span class="target" id="pdu_8h_1a37e8f44ccfd947fc7f3dc17afaa80cde"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_pdu_build_exception</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">out_cap</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">exception_code</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_pdu_build_exceptionP5mb_u89mb_size_t5mb_u85mb_u8" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_pdu_parse_exceptionPK5mb_u89mb_size_tP5mb_u8P5mb_u8">
<span id="_CPPv322mb_pdu_parse_exceptionPK5mb_u89mb_size_tP5mb_u8P5mb_u8"></span><span id="_CPPv222mb_pdu_parse_exceptionPK5mb_u89mb_size_tP5mb_u8P5mb_u8"></span><span id="mb_pdu_parse_exception__mb_u8CP.mb_size_t.mb_u8P.mb_u8P"></span><span class="target" id="pdu_8h_1adc2807145120cee7b05bbcf07cd4a1ed"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_pdu_parse_exception</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pdu</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_function</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_exception</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_pdu_parse_exceptionPK5mb_u89mb_size_tP5mb_u8P5mb_u8" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="bare_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">bare.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport__if_8h"><span class="std std-ref">modbus/transport_if.h</span></a>&gt;</em></div>
<p>Bare-metal friendly transport helpers for Modbus integrations. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420mb_port_bare_send_fn">
<span id="_CPPv320mb_port_bare_send_fn"></span><span id="_CPPv220mb_port_bare_send_fn"></span><span id="mb_port_bare_send_fn"></span><span class="target" id="bare_8h_1a34e698e9fddfc8a68799ae6990fc1502"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_send_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">len</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv420mb_port_bare_send_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Function pointer type for sending bytes over a bare-metal transport. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420mb_port_bare_recv_fn">
<span id="_CPPv320mb_port_bare_recv_fn"></span><span id="_CPPv220mb_port_bare_recv_fn"></span><span id="mb_port_bare_recv_fn"></span><span class="target" id="bare_8h_1aaf8eef32398f946200e4e1341c0db0c3"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_recv_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">cap</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv420mb_port_bare_recv_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Function pointer type for receiving bytes from a bare-metal transport. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv424mb_port_bare_tick_now_fn">
<span id="_CPPv324mb_port_bare_tick_now_fn"></span><span id="_CPPv224mb_port_bare_tick_now_fn"></span><span id="mb_port_bare_tick_now_fn"></span><span class="target" id="bare_8h_1aa91e734c45ea835ad78a0bb6d8f6e3b1"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_tick_now_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv424mb_port_bare_tick_now_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Function pointer returning the current scheduler ticks. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv421mb_port_bare_yield_fn">
<span id="_CPPv321mb_port_bare_yield_fn"></span><span id="_CPPv221mb_port_bare_yield_fn"></span><span id="mb_port_bare_yield_fn"></span><span class="target" id="bare_8h_1abb9a8afd93e06cafe2140979b436aa35"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_yield_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv421mb_port_bare_yield_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Optional cooperative-yield hook for MCUs that provide it. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv424mb_port_bare_transport_t">
<span id="_CPPv324mb_port_bare_transport_t"></span><span id="_CPPv224mb_port_bare_transport_t"></span><span id="mb_port_bare_transport_t"></span><span class="target" id="bare_8h_1ab5116b9807b6ab62919beb99eb99b82f"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv422mb_port_bare_transport" title="mb_port_bare_transport"><span class="n"><span class="pre">mb_port_bare_transport</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_transport_t</span></span></span><a class="headerlink" href="#_CPPv424mb_port_bare_transport_t" title="Link to this definition"></a><br /></dt>
<dd><p>Helper structure that binds user callbacks to an <code class="docutils literal notranslate"><a class="reference internal" href="#structmb__transport__if__t"><span class="std std-ref"><span class="pre">mb_transport_if_t</span></span></a></code>. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427mb_port_bare_transport_initP24mb_port_bare_transport_tPv20mb_port_bare_send_fn20mb_port_bare_recv_fn24mb_port_bare_tick_now_fn8uint32_t21mb_port_bare_yield_fnPv">
<span id="_CPPv327mb_port_bare_transport_initP24mb_port_bare_transport_tPv20mb_port_bare_send_fn20mb_port_bare_recv_fn24mb_port_bare_tick_now_fn8uint32_t21mb_port_bare_yield_fnPv"></span><span id="_CPPv227mb_port_bare_transport_initP24mb_port_bare_transport_tPv20mb_port_bare_send_fn20mb_port_bare_recv_fn24mb_port_bare_tick_now_fn8uint32_t21mb_port_bare_yield_fnPv"></span><span id="mb_port_bare_transport_init__mb_port_bare_transport_tP.voidP.mb_port_bare_send_fn.mb_port_bare_recv_fn.mb_port_bare_tick_now_fn.uint32_t.mb_port_bare_yield_fn.voidP"></span><span class="target" id="bare_8h_1ab8ab387c70f556c5aea6904c4e77e9b3"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_transport_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mb_port_bare_transport_t" title="mb_port_bare_transport_t"><span class="n"><span class="pre">mb_port_bare_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span>, <a class="reference internal" href="#_CPPv420mb_port_bare_send_fn" title="mb_port_bare_send_fn"><span class="n"><span class="pre">mb_port_bare_send_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">send_fn</span></span>, <a class="reference internal" href="#_CPPv420mb_port_bare_recv_fn" title="mb_port_bare_recv_fn"><span class="n"><span class="pre">mb_port_bare_recv_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">recv_fn</span></span>, <a class="reference internal" href="#_CPPv424mb_port_bare_tick_now_fn" title="mb_port_bare_tick_now_fn"><span class="n"><span class="pre">mb_port_bare_tick_now_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">tick_now_fn</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tick_rate_hz</span></span>, <a class="reference internal" href="#_CPPv421mb_port_bare_yield_fn" title="mb_port_bare_yield_fn"><span class="n"><span class="pre">mb_port_bare_yield_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">yield_fn</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">clock_ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427mb_port_bare_transport_initP24mb_port_bare_transport_tPv20mb_port_bare_send_fn20mb_port_bare_recv_fn24mb_port_bare_tick_now_fn8uint32_t21mb_port_bare_yield_fnPv" title="Link to this definition"></a><br /></dt>
<dd><p>Initialises a bare-metal transport adapter. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Storage for the adapter. </p></li>
<li><p><strong>user_ctx</strong> – Handle forwarded to <code class="docutils literal notranslate"><span class="pre">send</span></code>/<code class="docutils literal notranslate"><span class="pre">recv</span></code> callbacks. </p></li>
<li><p><strong>send_fn</strong> – Non-blocking send primitive. </p></li>
<li><p><strong>recv_fn</strong> – Non-blocking receive primitive. </p></li>
<li><p><strong>tick_now_fn</strong> – Returns the current scheduler tick count. </p></li>
<li><p><strong>tick_rate_hz</strong> – Tick frequency used to derive milliseconds. </p></li>
<li><p><strong>yield_fn</strong> – Optional CPU-yield hook (may be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>). </p></li>
<li><p><strong>clock_ctx</strong> – Optional clock handle (defaults to <code class="docutils literal notranslate"><span class="pre">user_ctx</span></code> when <code class="docutils literal notranslate"><span class="pre">NULL</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Adapter initialised successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Missing callbacks or invalid tick parameters. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv439mb_port_bare_transport_update_tick_rateP24mb_port_bare_transport_t8uint32_t">
<span id="_CPPv339mb_port_bare_transport_update_tick_rateP24mb_port_bare_transport_t8uint32_t"></span><span id="_CPPv239mb_port_bare_transport_update_tick_rateP24mb_port_bare_transport_t8uint32_t"></span><span id="mb_port_bare_transport_update_tick_rate__mb_port_bare_transport_tP.uint32_t"></span><span class="target" id="bare_8h_1a2287f84eeebabbb9c26818147d076e85"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_transport_update_tick_rate</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mb_port_bare_transport_t" title="mb_port_bare_transport_t"><span class="n"><span class="pre">mb_port_bare_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tick_rate_hz</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv439mb_port_bare_transport_update_tick_rateP24mb_port_bare_transport_t8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Updates the tick rate used for millisecond conversion. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Adapter instance. </p></li>
<li><p><strong>tick_rate_hz</strong> – New tick rate (Hz); ignored when zero. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv436mb_port_bare_transport_set_clock_ctxP24mb_port_bare_transport_tPv">
<span id="_CPPv336mb_port_bare_transport_set_clock_ctxP24mb_port_bare_transport_tPv"></span><span id="_CPPv236mb_port_bare_transport_set_clock_ctxP24mb_port_bare_transport_tPv"></span><span id="mb_port_bare_transport_set_clock_ctx__mb_port_bare_transport_tP.voidP"></span><span class="target" id="bare_8h_1a44026759f73f233236f3910e4ee24f40"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_transport_set_clock_ctx</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mb_port_bare_transport_t" title="mb_port_bare_transport_t"><span class="n"><span class="pre">mb_port_bare_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">clock_ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv436mb_port_bare_transport_set_clock_ctxP24mb_port_bare_transport_tPv" title="Link to this definition"></a><br /></dt>
<dd><p>Allows using a dedicated clock context separate from <code class="docutils literal notranslate"><span class="pre">user_ctx</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Adapter instance. </p></li>
<li><p><strong>clock_ctx</strong> – Context forwarded to the tick callback. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428mb_port_bare_transport_ifaceP24mb_port_bare_transport_t">
<span id="_CPPv328mb_port_bare_transport_ifaceP24mb_port_bare_transport_t"></span><span id="_CPPv228mb_port_bare_transport_ifaceP24mb_port_bare_transport_t"></span><span id="mb_port_bare_transport_iface__mb_port_bare_transport_tP"></span><span class="target" id="bare_8h_1a7e6aa8b9a8f9444f490016ce62165228"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_transport_iface</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mb_port_bare_transport_t" title="mb_port_bare_transport_t"><span class="n"><span class="pre">mb_port_bare_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428mb_port_bare_transport_ifaceP24mb_port_bare_transport_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the configured transport interface. </p>
<p>The pointer remains valid for as long as <code class="docutils literal notranslate"><span class="pre">port</span></code> is alive. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="freertos_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">freertos.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport__if_8h"><span class="std std-ref">modbus/transport_if.h</span></a>&gt;</em></div>
<p>FreeRTOS-friendly transport adapters for Modbus targets. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv431mb_port_freertos_stream_send_fn">
<span id="_CPPv331mb_port_freertos_stream_send_fn"></span><span id="_CPPv231mb_port_freertos_stream_send_fn"></span><span id="mb_port_freertos_stream_send_fn"></span><span class="target" id="freertos_8h_1a57a85913a47dd7f6583e5649b355de3e"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_stream_send_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">length</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">ticks_to_wait</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv431mb_port_freertos_stream_send_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Prototype matching <code class="docutils literal notranslate"><span class="pre">xStreamBufferSend</span></code> / <code class="docutils literal notranslate"><span class="pre">xQueueSend</span></code> style helpers. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv431mb_port_freertos_stream_recv_fn">
<span id="_CPPv331mb_port_freertos_stream_recv_fn"></span><span id="_CPPv231mb_port_freertos_stream_recv_fn"></span><span id="mb_port_freertos_stream_recv_fn"></span><span class="target" id="freertos_8h_1a6cf81e5b061c9152ecc780d0c766f246"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_stream_recv_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buffer</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n"><span class="pre">capacity</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n"><span class="pre">ticks_to_wait</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv431mb_port_freertos_stream_recv_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Prototype matching <code class="docutils literal notranslate"><span class="pre">xStreamBufferReceive</span></code> / <code class="docutils literal notranslate"><span class="pre">xQueueReceive</span></code> style helpers. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv429mb_port_freertos_tick_hook_fn">
<span id="_CPPv329mb_port_freertos_tick_hook_fn"></span><span id="_CPPv229mb_port_freertos_tick_hook_fn"></span><span id="mb_port_freertos_tick_hook_fn"></span><span class="target" id="freertos_8h_1a7ebc20080bae7d8c6b87e2732951bf61"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_tick_hook_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv429mb_port_freertos_tick_hook_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Prototype returning the scheduler tick count (e.g. <code class="docutils literal notranslate"><span class="pre">xTaskGetTickCount</span></code>). </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv430mb_port_freertos_yield_hook_fn">
<span id="_CPPv330mb_port_freertos_yield_hook_fn"></span><span id="_CPPv230mb_port_freertos_yield_hook_fn"></span><span id="mb_port_freertos_yield_hook_fn"></span><span class="target" id="freertos_8h_1ab7492de03e5c5b0f381f34b7e161aafc"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_yield_hook_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv430mb_port_freertos_yield_hook_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Optional yield hook (typically <code class="docutils literal notranslate"><span class="pre">taskYIELD</span></code>). </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv428mb_port_freertos_transport_t">
<span id="_CPPv328mb_port_freertos_transport_t"></span><span id="_CPPv228mb_port_freertos_transport_t"></span><span id="mb_port_freertos_transport_t"></span><span class="target" id="freertos_8h_1a09530d3d6846d9b7e58ffe1ca085d79a"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv426mb_port_freertos_transport" title="mb_port_freertos_transport"><span class="n"><span class="pre">mb_port_freertos_transport</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_transport_t</span></span></span><a class="headerlink" href="#_CPPv428mb_port_freertos_transport_t" title="Link to this definition"></a><br /></dt>
<dd><p>FreeRTOS transport wrapper leveraging stream buffers or queues. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv431mb_port_freertos_transport_initP28mb_port_freertos_transport_tPvPv31mb_port_freertos_stream_send_fn31mb_port_freertos_stream_recv_fn29mb_port_freertos_tick_hook_fn30mb_port_freertos_yield_hook_fn8uint32_t8uint32_t">
<span id="_CPPv331mb_port_freertos_transport_initP28mb_port_freertos_transport_tPvPv31mb_port_freertos_stream_send_fn31mb_port_freertos_stream_recv_fn29mb_port_freertos_tick_hook_fn30mb_port_freertos_yield_hook_fn8uint32_t8uint32_t"></span><span id="_CPPv231mb_port_freertos_transport_initP28mb_port_freertos_transport_tPvPv31mb_port_freertos_stream_send_fn31mb_port_freertos_stream_recv_fn29mb_port_freertos_tick_hook_fn30mb_port_freertos_yield_hook_fn8uint32_t8uint32_t"></span><span id="mb_port_freertos_transport_init__mb_port_freertos_transport_tP.voidP.voidP.mb_port_freertos_stream_send_fn.mb_port_freertos_stream_recv_fn.mb_port_freertos_tick_hook_fn.mb_port_freertos_yield_hook_fn.uint32_t.uint32_t"></span><span class="target" id="freertos_8h_1a2dc296ca52f820f4cbdb67a0421eeae4"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_transport_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv428mb_port_freertos_transport_t" title="mb_port_freertos_transport_t"><span class="n"><span class="pre">mb_port_freertos_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tx_stream</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rx_stream</span></span>, <a class="reference internal" href="#_CPPv431mb_port_freertos_stream_send_fn" title="mb_port_freertos_stream_send_fn"><span class="n"><span class="pre">mb_port_freertos_stream_send_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">send_fn</span></span>, <a class="reference internal" href="#_CPPv431mb_port_freertos_stream_recv_fn" title="mb_port_freertos_stream_recv_fn"><span class="n"><span class="pre">mb_port_freertos_stream_recv_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">recv_fn</span></span>, <a class="reference internal" href="#_CPPv429mb_port_freertos_tick_hook_fn" title="mb_port_freertos_tick_hook_fn"><span class="n"><span class="pre">mb_port_freertos_tick_hook_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">tick_fn</span></span>, <a class="reference internal" href="#_CPPv430mb_port_freertos_yield_hook_fn" title="mb_port_freertos_yield_hook_fn"><span class="n"><span class="pre">mb_port_freertos_yield_hook_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">yield_fn</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tick_rate_hz</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">max_block_ticks</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv431mb_port_freertos_transport_initP28mb_port_freertos_transport_tPvPv31mb_port_freertos_stream_send_fn31mb_port_freertos_stream_recv_fn29mb_port_freertos_tick_hook_fn30mb_port_freertos_yield_hook_fn8uint32_t8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initialises a FreeRTOS-backed transport adapter. </p>
<p>All parameters mirror the FreeRTOS stream/queue APIs, allowing the adapter to forward I/O to stream buffers, queues, or custom shims.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Adapter storage to initialise. </p></li>
<li><p><strong>tx_stream</strong> – Stream/queue used to transmit bytes. </p></li>
<li><p><strong>rx_stream</strong> – Stream/queue used to receive bytes. </p></li>
<li><p><strong>send_fn</strong> – Function that pushes bytes into <code class="docutils literal notranslate"><span class="pre">tx_stream</span></code>. </p></li>
<li><p><strong>recv_fn</strong> – Function that pulls bytes from <code class="docutils literal notranslate"><span class="pre">rx_stream</span></code>. </p></li>
<li><p><strong>tick_fn</strong> – Hook returning the current scheduler tick count. </p></li>
<li><p><strong>yield_fn</strong> – Optional cooperative-yield hook (<code class="docutils literal notranslate"><span class="pre">taskYIELD</span></code>). </p></li>
<li><p><strong>tick_rate_hz</strong> – Scheduler tick rate expressed in hertz. </p></li>
<li><p><strong>max_block_ticks</strong> – Maximum number of ticks each I/O call may block.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Adapter initialised successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Missing stream handles or callbacks. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv442mb_port_freertos_transport_set_block_ticksP28mb_port_freertos_transport_t8uint32_t">
<span id="_CPPv342mb_port_freertos_transport_set_block_ticksP28mb_port_freertos_transport_t8uint32_t"></span><span id="_CPPv242mb_port_freertos_transport_set_block_ticksP28mb_port_freertos_transport_t8uint32_t"></span><span id="mb_port_freertos_transport_set_block_ticks__mb_port_freertos_transport_tP.uint32_t"></span><span class="target" id="freertos_8h_1aa1a9819916922c8e174830234b9bb073"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_transport_set_block_ticks</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv428mb_port_freertos_transport_t" title="mb_port_freertos_transport_t"><span class="n"><span class="pre">mb_port_freertos_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ticks</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv442mb_port_freertos_transport_set_block_ticksP28mb_port_freertos_transport_t8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Updates the maximum number of ticks each I/O call may block. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Adapter instance. </p></li>
<li><p><strong>ticks</strong> – Maximum block duration expressed in scheduler ticks. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv440mb_port_freertos_transport_set_tick_rateP28mb_port_freertos_transport_t8uint32_t">
<span id="_CPPv340mb_port_freertos_transport_set_tick_rateP28mb_port_freertos_transport_t8uint32_t"></span><span id="_CPPv240mb_port_freertos_transport_set_tick_rateP28mb_port_freertos_transport_t8uint32_t"></span><span id="mb_port_freertos_transport_set_tick_rate__mb_port_freertos_transport_tP.uint32_t"></span><span class="target" id="freertos_8h_1ac4abe5f909ce6b8aa2a0d65df753ca21"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_transport_set_tick_rate</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv428mb_port_freertos_transport_t" title="mb_port_freertos_transport_t"><span class="n"><span class="pre">mb_port_freertos_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tick_rate_hz</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv440mb_port_freertos_transport_set_tick_rateP28mb_port_freertos_transport_t8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Updates the tick frequency (Hz) used for ms conversion. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Adapter instance. </p></li>
<li><p><strong>tick_rate_hz</strong> – New tick rate; ignored when zero. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv432mb_port_freertos_transport_ifaceP28mb_port_freertos_transport_t">
<span id="_CPPv332mb_port_freertos_transport_ifaceP28mb_port_freertos_transport_t"></span><span id="_CPPv232mb_port_freertos_transport_ifaceP28mb_port_freertos_transport_t"></span><span id="mb_port_freertos_transport_iface__mb_port_freertos_transport_tP"></span><span class="target" id="freertos_8h_1a32934b6027907bdb97f05f68edf8fec3"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_transport_iface</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv428mb_port_freertos_transport_t" title="mb_port_freertos_transport_t"><span class="n"><span class="pre">mb_port_freertos_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv432mb_port_freertos_transport_ifaceP28mb_port_freertos_transport_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the transport interface managed by the adapter. </p>
<p>The pointer remains valid while the adapter structure stays in scope. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mutex_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mutex.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;threads.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<p>Optional synchronisation primitives for Modbus ports. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_PORT_HAS_C11_THREADS">
<span class="target" id="mutex_8h_1a9ae4ef671bacfdb844b7679ea6052774"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_PORT_HAS_C11_THREADS</span></span></span><a class="headerlink" href="#c.MB_PORT_HAS_C11_THREADS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv415mb_port_mutex_t">
<span id="_CPPv315mb_port_mutex_t"></span><span id="_CPPv215mb_port_mutex_t"></span><span id="mb_port_mutex_t"></span><span class="target" id="mutex_8h_1a00456dd08d7e52aafc0610bede222f50"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_port_mutex" title="mb_port_mutex"><span class="n"><span class="pre">mb_port_mutex</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_mutex_t</span></span></span><a class="headerlink" href="#_CPPv415mb_port_mutex_t" title="Link to this definition"></a><br /></dt>
<dd><p>Opaque mutex structure with C11 threads fallback. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_port_mutex_initP15mb_port_mutex_t">
<span id="_CPPv318mb_port_mutex_initP15mb_port_mutex_t"></span><span id="_CPPv218mb_port_mutex_initP15mb_port_mutex_t"></span><span id="mb_port_mutex_init__mb_port_mutex_tP"></span><span class="target" id="mutex_8h_1a1f6d8c1e35e8eb7446c02c91cd531b31"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_mutex_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_port_mutex_t" title="mb_port_mutex_t"><span class="n"><span class="pre">mb_port_mutex_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">mutex</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_port_mutex_initP15mb_port_mutex_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initialises a mutex object. </p>
<dl class="field-list simple">
<dt class="field-odd">Return values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>MB_OK</strong> – Mutex initialised successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">mutex</span></code> was NULL. </p></li>
<li><p><strong>MB_ERR_OTHER</strong> – Underlying platform call failed. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_port_mutex_deinitP15mb_port_mutex_t">
<span id="_CPPv320mb_port_mutex_deinitP15mb_port_mutex_t"></span><span id="_CPPv220mb_port_mutex_deinitP15mb_port_mutex_t"></span><span id="mb_port_mutex_deinit__mb_port_mutex_tP"></span><span class="target" id="mutex_8h_1a7d49150709518ec020ab0ec5a3b3b307"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_mutex_deinit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_port_mutex_t" title="mb_port_mutex_t"><span class="n"><span class="pre">mb_port_mutex_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">mutex</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_port_mutex_deinitP15mb_port_mutex_t" title="Link to this definition"></a><br /></dt>
<dd><p>Releases resources held by the mutex. </p>
<p>No-op when the mutex has not been initialised. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_port_mutex_lockP15mb_port_mutex_t">
<span id="_CPPv318mb_port_mutex_lockP15mb_port_mutex_t"></span><span id="_CPPv218mb_port_mutex_lockP15mb_port_mutex_t"></span><span id="mb_port_mutex_lock__mb_port_mutex_tP"></span><span class="target" id="mutex_8h_1a7be5325cf4a1abcf92cb5df248f25012"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_mutex_lock</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_port_mutex_t" title="mb_port_mutex_t"><span class="n"><span class="pre">mb_port_mutex_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">mutex</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_port_mutex_lockP15mb_port_mutex_t" title="Link to this definition"></a><br /></dt>
<dd><p>Attempts to acquire the mutex, blocking/spinning until success. </p>
<dl class="field-list simple">
<dt class="field-odd">Return values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>MB_OK</strong> – Mutex acquired successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">mutex</span></code> was NULL. </p></li>
<li><p><strong>MB_ERR_OTHER</strong> – Mutex not initialised or platform error. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_port_mutex_unlockP15mb_port_mutex_t">
<span id="_CPPv320mb_port_mutex_unlockP15mb_port_mutex_t"></span><span id="_CPPv220mb_port_mutex_unlockP15mb_port_mutex_t"></span><span id="mb_port_mutex_unlock__mb_port_mutex_tP"></span><span class="target" id="mutex_8h_1a7ba2b1d34b0c47c0eb3888e422384c6b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_mutex_unlock</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_port_mutex_t" title="mb_port_mutex_t"><span class="n"><span class="pre">mb_port_mutex_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">mutex</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_port_mutex_unlockP15mb_port_mutex_t" title="Link to this definition"></a><br /></dt>
<dd><p>Releases the mutex. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="posix_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">posix.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport__if_8h"><span class="std std-ref">modbus/transport_if.h</span></a>&gt;</em></div>
<p>POSIX-backed transport helpers for Modbus clients and servers. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv422mb_port_posix_socket_t">
<span id="_CPPv322mb_port_posix_socket_t"></span><span id="_CPPv222mb_port_posix_socket_t"></span><span id="mb_port_posix_socket_t"></span><span class="target" id="posix_8h_1a2b3125bc6d2d5a14e6cbfc1856f2a727"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv420mb_port_posix_socket" title="mb_port_posix_socket"><span class="n"><span class="pre">mb_port_posix_socket</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></span><a class="headerlink" href="#_CPPv422mb_port_posix_socket_t" title="Link to this definition"></a><br /></dt>
<dd><p>POSIX socket wrapper that exposes an <code class="docutils literal notranslate"><a class="reference internal" href="#structmb__transport__if__t"><span class="std std-ref"><span class="pre">mb_transport_if_t</span></span></a></code>. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv411mb_parity_t">
<span id="_CPPv311mb_parity_t"></span><span id="_CPPv211mb_parity_t"></span><span class="target" id="posix_8h_1acda9e12d7ff309ce29107570b7f2011e"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_parity_t</span></span></span><a class="headerlink" href="#_CPPv411mb_parity_t" title="Link to this definition"></a><br /></dt>
<dd><p>Serial port parity modes for RTU configuration. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_parity_t14MB_PARITY_NONEE">
<span id="_CPPv3N11mb_parity_t14MB_PARITY_NONEE"></span><span id="_CPPv2N11mb_parity_t14MB_PARITY_NONEE"></span><span class="target" id="posix_8h_1acda9e12d7ff309ce29107570b7f2011ea0e6db6cf5c85bf77e5a99fd99b37dcef"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_PARITY_NONE</span></span></span><a class="headerlink" href="#_CPPv4N11mb_parity_t14MB_PARITY_NONEE" title="Link to this definition"></a><br /></dt>
<dd><p>No parity bit </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_parity_t14MB_PARITY_EVENE">
<span id="_CPPv3N11mb_parity_t14MB_PARITY_EVENE"></span><span id="_CPPv2N11mb_parity_t14MB_PARITY_EVENE"></span><span class="target" id="posix_8h_1acda9e12d7ff309ce29107570b7f2011ea87ddaf646f22d63e8e543b5caba17f1d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_PARITY_EVEN</span></span></span><a class="headerlink" href="#_CPPv4N11mb_parity_t14MB_PARITY_EVENE" title="Link to this definition"></a><br /></dt>
<dd><p>Even parity </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N11mb_parity_t13MB_PARITY_ODDE">
<span id="_CPPv3N11mb_parity_t13MB_PARITY_ODDE"></span><span id="_CPPv2N11mb_parity_t13MB_PARITY_ODDE"></span><span class="target" id="posix_8h_1acda9e12d7ff309ce29107570b7f2011ea1b4061c412e329182ef8540b3e1507a9"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_PARITY_ODD</span></span></span><a class="headerlink" href="#_CPPv4N11mb_parity_t13MB_PARITY_ODDE" title="Link to this definition"></a><br /></dt>
<dd><p>Odd parity </p>
</dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mb_port_posix_socket_initP22mb_port_posix_socket_tib">
<span id="_CPPv325mb_port_posix_socket_initP22mb_port_posix_socket_tib"></span><span id="_CPPv225mb_port_posix_socket_initP22mb_port_posix_socket_tib"></span><span id="mb_port_posix_socket_init__mb_port_posix_socket_tP.i.b"></span><span class="target" id="posix_8h_1a6c777f005762c273b39b7ed4556dafb3"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_socket_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sock</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">fd</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">owns_fd</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mb_port_posix_socket_initP22mb_port_posix_socket_tib" title="Link to this definition"></a><br /></dt>
<dd><p>Initialises a POSIX socket wrapper around an existing file descriptor. </p>
<p>The descriptor is switched to non-blocking mode. When <code class="docutils literal notranslate"><span class="pre">owns_fd</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code> the wrapper becomes responsible for closing it during <a class="reference internal" href="#posix_8h_1a901f20dc4643abc30794eacc6ec93093"><span class="std std-ref">mb_port_posix_socket_close</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sock</strong> – Wrapper to initialise. </p></li>
<li><p><strong>fd</strong> – Socket/file descriptor already opened by the caller. </p></li>
<li><p><strong>owns_fd</strong> – Set to <code class="docutils literal notranslate"><span class="pre">true</span></code> if the wrapper should close the descriptor.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Wrapper initialised successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid pointer or descriptor. </p></li>
<li><p><strong>MB_ERR_TRANSPORT</strong> – ioctl/fcntl configuration failed. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426mb_port_posix_socket_closeP22mb_port_posix_socket_t">
<span id="_CPPv326mb_port_posix_socket_closeP22mb_port_posix_socket_t"></span><span id="_CPPv226mb_port_posix_socket_closeP22mb_port_posix_socket_t"></span><span id="mb_port_posix_socket_close__mb_port_posix_socket_tP"></span><span class="target" id="posix_8h_1a901f20dc4643abc30794eacc6ec93093"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_socket_close</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426mb_port_posix_socket_closeP22mb_port_posix_socket_t" title="Link to this definition"></a><br /></dt>
<dd><p>Closes the underlying descriptor when owned and resets the wrapper. </p>
<p>Safe to call multiple times; subsequent invocations become no-ops.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sock</strong> – Wrapper previously initialised with <a class="reference internal" href="#posix_8h_1a6c777f005762c273b39b7ed4556dafb3"><span class="std std-ref">mb_port_posix_socket_init</span></a>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426mb_port_posix_socket_ifaceP22mb_port_posix_socket_t">
<span id="_CPPv326mb_port_posix_socket_ifaceP22mb_port_posix_socket_t"></span><span id="_CPPv226mb_port_posix_socket_ifaceP22mb_port_posix_socket_t"></span><span id="mb_port_posix_socket_iface__mb_port_posix_socket_tP"></span><span class="target" id="posix_8h_1a1e0770cd31bd7709dc12ccb93b19ea3b"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_socket_iface</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426mb_port_posix_socket_ifaceP22mb_port_posix_socket_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the transport interface bound to <code class="docutils literal notranslate"><span class="pre">sock</span></code>. </p>
<p>The returned pointer remains valid until <a class="reference internal" href="#posix_8h_1a901f20dc4643abc30794eacc6ec93093"><span class="std std-ref">mb_port_posix_socket_close</span></a> is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sock</strong> – Wrapper initialised with <a class="reference internal" href="#posix_8h_1a6c777f005762c273b39b7ed4556dafb3"><span class="std std-ref">mb_port_posix_socket_init</span></a>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mb_port_posix_tcp_clientP22mb_port_posix_socket_tPKc8uint16_t12mb_time_ms_t">
<span id="_CPPv324mb_port_posix_tcp_clientP22mb_port_posix_socket_tPKc8uint16_t12mb_time_ms_t"></span><span id="_CPPv224mb_port_posix_tcp_clientP22mb_port_posix_socket_tPKc8uint16_t12mb_time_ms_t"></span><span id="mb_port_posix_tcp_client__mb_port_posix_socket_tP.cCP.uint16_t.mb_time_ms_t"></span><span class="target" id="posix_8h_1a86a2ba3d57f7b802241d8fba469019ee"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_tcp_client</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sock</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">host</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">port</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mb_port_posix_tcp_clientP22mb_port_posix_socket_tPKc8uint16_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd><p>Connects to a Modbus TCP server using POSIX sockets. </p>
<p>Creates a new client socket, connects to <code class="docutils literal notranslate"><span class="pre">host:port</span></code> with the provided timeout, and populates <code class="docutils literal notranslate"><span class="pre">sock</span></code> on success (owning the descriptor).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sock</strong> – Wrapper that receives the connected socket. </p></li>
<li><p><strong>host</strong> – Remote hostname or IP string. </p></li>
<li><p><strong>port</strong> – Remote TCP port. </p></li>
<li><p><strong>timeout_ms</strong> – Connection timeout in milliseconds.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Connection established successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid parameter. </p></li>
<li><p><strong>MB_ERR_TRANSPORT</strong> – Connect failed or timed out. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mb_port_posix_serial_openP22mb_port_posix_socket_tPKc8uint32_t11mb_parity_t7uint8_t7uint8_t">
<span id="_CPPv325mb_port_posix_serial_openP22mb_port_posix_socket_tPKc8uint32_t11mb_parity_t7uint8_t7uint8_t"></span><span id="_CPPv225mb_port_posix_serial_openP22mb_port_posix_socket_tPKc8uint32_t11mb_parity_t7uint8_t7uint8_t"></span><span id="mb_port_posix_serial_open__mb_port_posix_socket_tP.cCP.uint32_t.mb_parity_t.uint8_t.uint8_t"></span><span class="target" id="posix_8h_1ab81d357508140b7f8ec9ecf7a6130450"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_serial_open</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sock</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">device</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">baudrate</span></span>, <a class="reference internal" href="#_CPPv411mb_parity_t" title="mb_parity_t"><span class="n"><span class="pre">mb_parity_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">parity</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">data_bits</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">stop_bits</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mb_port_posix_serial_openP22mb_port_posix_socket_tPKc8uint32_t11mb_parity_t7uint8_t7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Opens a serial port for Modbus RTU communication. </p>
<p>Creates a new serial connection with the specified parameters and populates <code class="docutils literal notranslate"><span class="pre">sock</span></code> on success (owning the file descriptor). The port is configured for raw, non-blocking I/O suitable for RTU framing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not available on Windows. Use Windows-specific serial APIs instead. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sock</strong> – Wrapper that receives the opened serial port. </p></li>
<li><p><strong>device</strong> – Serial device path (e.g., “/dev/ttyUSB0”, “/dev/ttyS1”). </p></li>
<li><p><strong>baudrate</strong> – Baud rate (9600, 19200, 38400, 57600, 115200, etc.). </p></li>
<li><p><strong>parity</strong> – Parity mode (MB_PARITY_NONE, MB_PARITY_EVEN, MB_PARITY_ODD). </p></li>
<li><p><strong>data_bits</strong> – Number of data bits (5, 6, 7, or 8). </p></li>
<li><p><strong>stop_bits</strong> – Number of stop bits (1 or 2).</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Serial port opened successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid parameter. </p></li>
<li><p><strong>MB_ERR_TRANSPORT</strong> – Failed to open or configure device.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="win_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">win.h</span></span></dt>
<dd><p>Windows Winsock helper utilities that expose an <code class="docutils literal notranslate"><a class="reference internal" href="#structmb__transport__if__t"><span class="std std-ref"><span class="pre">mb_transport_if_t</span></span></a></code>. </p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">ringbuf.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<p>Single-producer / single-consumer ring buffer utilities. </p>
<p>The ring buffer offers a simple queue for moving bytes between a producer and a consumer running in different scheduling contexts (for example ISR ↔ main loop). The implementation keeps monotonically increasing write/read cursors so wrap-around is handled via masking.</p>
<p>The API is intentionally small: initialise the buffer with external storage, push or pop bytes (optionally in bulk), and query the occupancy.</p>
<section id="ringbuf_8h_1Thread">
<h2>Safety<a class="headerlink" href="#ringbuf_8h_1Thread" title="Link to this heading"></a></h2>
<p id="ringbuf_8h_1Thread"><strong>IMPORTANT:</strong> This ring buffer is <strong>NOT thread-safe</strong> without external synchronization. The internal fields (<code class="docutils literal notranslate"><span class="pre">head</span></code>, <code class="docutils literal notranslate"><span class="pre">tail</span></code>, <code class="docutils literal notranslate"><span class="pre">count</span></code>) are <strong>NOT atomic</strong> and concurrent access will cause data races detectable by ThreadSanitizer.</p>
<section id="ringbuf_8h_1Safe">
<h3>Usage Patterns<a class="headerlink" href="#ringbuf_8h_1Safe" title="Link to this heading"></a></h3>
<p id="ringbuf_8h_1Safe"><strong>Single-threaded:</strong> Direct calls from one execution context: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">main_loop</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">mb_ringbuf_write</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rb</span><span class="p">,</span> <span class="n">tx_data</span><span class="p">,</span> <span class="nb">len</span><span class="p">);</span>
    <span class="n">mb_ringbuf_read</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rb</span><span class="p">,</span> <span class="n">rx_buf</span><span class="p">,</span> <span class="n">cap</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<p><strong>Multi-threaded with mutex:</strong> Wrap all ring buffer operations: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pthread_mutex_t</span> <span class="n">rb_mutex</span> <span class="o">=</span> <span class="n">PTHREAD_MUTEX_INITIALIZER</span><span class="p">;</span>

<span class="n">void</span> <span class="n">producer_thread</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rb_mutex</span><span class="p">);</span>
    <span class="n">mb_ringbuf_write</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rb</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="nb">len</span><span class="p">);</span>
    <span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rb_mutex</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">consumer_thread</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">pthread_mutex_lock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rb_mutex</span><span class="p">);</span>
    <span class="n">mb_ringbuf_read</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rb</span><span class="p">,</span> <span class="n">buffer</span><span class="p">,</span> <span class="n">cap</span><span class="p">);</span>
    <span class="n">pthread_mutex_unlock</span><span class="p">(</span><span class="o">&amp;</span><span class="n">rb_mutex</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<p><strong>ISR-safe with deferred operations:</strong> Use flags to defer ring buffer operations to main loop: <div class="highlight-default notranslate"><div class="highlight"><pre><span></span>volatile bool data_pending = false;
uint8_t isr_cache[64];
size_t isr_cache_len = 0;

void uart_rx_isr() {
    // Cache data in ISR, don&#39;t touch ring buffer yet
    isr_cache_len = uart_dma_read(isr_cache, sizeof(isr_cache));
    data_pending = true;
}

void main_loop() {
    if (data_pending) {
        data_pending = false;
        // Single-threaded write, safe!
        mb_ringbuf_write(&amp;rb, isr_cache, isr_cache_len);
    }
    mb_ringbuf_read(&amp;rb, buffer, cap);
}
</pre></div>
</div>
</p>
</section>
<section id="ringbuf_8h_1Future">
<h3>Lock-Free Variant<a class="headerlink" href="#ringbuf_8h_1Future" title="Link to this heading"></a></h3>
<p id="ringbuf_8h_1Future">Gate 22 roadmap includes <code class="docutils literal notranslate"><span class="pre">mb_ringbuf_atomic_t</span></code> with C11 atomics for true lock-free SPSC. The current implementation prioritizes embedded portability (no C11 requirement) and low overhead in single-threaded scenarios.</p>
<p></p>
</section>
</section>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ThreadSanitizer (<code class="docutils literal notranslate"><span class="pre">-fsanitize=thread</span></code>) will report data races if you use this ring buffer concurrently without proper synchronization. This is expected behavior. </p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412mb_ringbuf_t">
<span id="_CPPv312mb_ringbuf_t"></span><span id="_CPPv212mb_ringbuf_t"></span><span id="mb_ringbuf_t"></span><span class="target" id="ringbuf_8h_1a6f66a3808ca92becadec91147dedc187"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv410mb_ringbuf" title="mb_ringbuf"><span class="n"><span class="pre">mb_ringbuf</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_t</span></span></span><a class="headerlink" href="#_CPPv412mb_ringbuf_t" title="Link to this definition"></a><br /></dt>
<dd><p>Ring buffer descriptor. </p>
<p>The structure keeps explicit cursors and the current occupancy. The <code class="docutils literal notranslate"><span class="pre">mask</span></code> is derived from <code class="docutils literal notranslate"><span class="pre">capacity</span></code> and is used to wrap the physical index into the provided storage. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_ringbuf_initP12mb_ringbuf_tP7uint8_t6size_t">
<span id="_CPPv315mb_ringbuf_initP12mb_ringbuf_tP7uint8_t6size_t"></span><span id="_CPPv215mb_ringbuf_initP12mb_ringbuf_tP7uint8_t6size_t"></span><span id="mb_ringbuf_init__mb_ringbuf_tP.uint8_tP.s"></span><span class="target" id="ringbuf_8h_1a3ccebc25a54978676882620fbf11598a"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">storage</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_ringbuf_initP12mb_ringbuf_tP7uint8_t6size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416mb_ringbuf_resetP12mb_ringbuf_t">
<span id="_CPPv316mb_ringbuf_resetP12mb_ringbuf_t"></span><span id="_CPPv216mb_ringbuf_resetP12mb_ringbuf_t"></span><span id="mb_ringbuf_reset__mb_ringbuf_tP"></span><span class="target" id="ringbuf_8h_1acdea82d69343c66a008ffb87373d5d0c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416mb_ringbuf_resetP12mb_ringbuf_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_ringbuf_capacityPK12mb_ringbuf_t">
<span id="_CPPv319mb_ringbuf_capacityPK12mb_ringbuf_t"></span><span id="_CPPv219mb_ringbuf_capacityPK12mb_ringbuf_t"></span><span id="mb_ringbuf_capacity__mb_ringbuf_tCP"></span><span class="target" id="ringbuf_8h_1a0b9391fb5a63678098c9867004bffba8"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_ringbuf_capacityPK12mb_ringbuf_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_ringbuf_sizePK12mb_ringbuf_t">
<span id="_CPPv315mb_ringbuf_sizePK12mb_ringbuf_t"></span><span id="_CPPv215mb_ringbuf_sizePK12mb_ringbuf_t"></span><span id="mb_ringbuf_size__mb_ringbuf_tCP"></span><span class="target" id="ringbuf_8h_1aac315e0c35dd5bbe3828d03864c98549"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_size</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_ringbuf_sizePK12mb_ringbuf_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_ringbuf_freePK12mb_ringbuf_t">
<span id="_CPPv315mb_ringbuf_freePK12mb_ringbuf_t"></span><span id="_CPPv215mb_ringbuf_freePK12mb_ringbuf_t"></span><span id="mb_ringbuf_free__mb_ringbuf_tCP"></span><span class="target" id="ringbuf_8h_1a5ef950a1e58549f6cb628a4e7e31c72e"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_free</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_ringbuf_freePK12mb_ringbuf_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_ringbuf_is_emptyPK12mb_ringbuf_t">
<span id="_CPPv319mb_ringbuf_is_emptyPK12mb_ringbuf_t"></span><span id="_CPPv219mb_ringbuf_is_emptyPK12mb_ringbuf_t"></span><span id="mb_ringbuf_is_empty__mb_ringbuf_tCP"></span><span class="target" id="ringbuf_8h_1a17189e6fc433658cf6b5e64b03cf9755"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_is_empty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_ringbuf_is_emptyPK12mb_ringbuf_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_ringbuf_is_fullPK12mb_ringbuf_t">
<span id="_CPPv318mb_ringbuf_is_fullPK12mb_ringbuf_t"></span><span id="_CPPv218mb_ringbuf_is_fullPK12mb_ringbuf_t"></span><span id="mb_ringbuf_is_full__mb_ringbuf_tCP"></span><span class="target" id="ringbuf_8h_1aa782c6ac27bcc583bd488457f9698272"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_is_full</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_ringbuf_is_fullPK12mb_ringbuf_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416mb_ringbuf_writeP12mb_ringbuf_tPK7uint8_t6size_t">
<span id="_CPPv316mb_ringbuf_writeP12mb_ringbuf_tPK7uint8_t6size_t"></span><span id="_CPPv216mb_ringbuf_writeP12mb_ringbuf_tPK7uint8_t6size_t"></span><span id="mb_ringbuf_write__mb_ringbuf_tP.uint8_tCP.s"></span><span class="target" id="ringbuf_8h_1a63907fbbc72b4209f15f029f38e156bc"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_write</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416mb_ringbuf_writeP12mb_ringbuf_tPK7uint8_t6size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_ringbuf_readP12mb_ringbuf_tP7uint8_t6size_t">
<span id="_CPPv315mb_ringbuf_readP12mb_ringbuf_tP7uint8_t6size_t"></span><span id="_CPPv215mb_ringbuf_readP12mb_ringbuf_tP7uint8_t6size_t"></span><span id="mb_ringbuf_read__mb_ringbuf_tP.uint8_tP.s"></span><span class="target" id="ringbuf_8h_1af915fb6d959a0ac106326aef8e1af3b5"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_read</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_ringbuf_readP12mb_ringbuf_tP7uint8_t6size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_ringbuf_pushP12mb_ringbuf_t7uint8_t">
<span id="_CPPv315mb_ringbuf_pushP12mb_ringbuf_t7uint8_t"></span><span id="_CPPv215mb_ringbuf_pushP12mb_ringbuf_t7uint8_t"></span><span id="mb_ringbuf_push__mb_ringbuf_tP.uint8_t"></span><span class="target" id="ringbuf_8h_1a1b955147acc7d85d51d8fc66a8493427"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_push</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">byte</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_ringbuf_pushP12mb_ringbuf_t7uint8_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414mb_ringbuf_popP12mb_ringbuf_tP7uint8_t">
<span id="_CPPv314mb_ringbuf_popP12mb_ringbuf_tP7uint8_t"></span><span id="_CPPv214mb_ringbuf_popP12mb_ringbuf_tP7uint8_t"></span><span id="mb_ringbuf_pop__mb_ringbuf_tP.uint8_tP"></span><span class="target" id="ringbuf_8h_1a0e52e62e6a3d8e6c9af1552139ed5b32"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_pop</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_byte</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414mb_ringbuf_popP12mb_ringbuf_tP7uint8_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="rtu__resync_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">rtu_resync.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<p>Fast resynchronization mechanism for RTU transport. </p>
<p>Provides fast frame boundary detection and resynchronization after corruption or noise on RTU links. Uses address field scanning and CRC prechecking to quickly identify valid frame starts.</p>
<p>Copyright (c) 2025 ModbusCore SPDX-License-Identifier: MIT </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_RESYNC_BUFFER_SIZE">
<span class="target" id="rtu__resync_8h_1a62317852eb5a636978d8a2bf92a47580"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_RESYNC_BUFFER_SIZE</span></span></span><a class="headerlink" href="#c.MB_RESYNC_BUFFER_SIZE" title="Link to this definition"></a><br /></dt>
<dd><p>Resync buffer size. </p>
<p>Size of circular buffer for resynchronization scanning. Larger values provide more tolerance for long noise bursts. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_SLAVE_ADDR_MIN">
<span class="target" id="rtu__resync_8h_1a7651c58bafbe683b1a07cb770adbf1fe"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_SLAVE_ADDR_MIN</span></span></span><a class="headerlink" href="#c.MB_SLAVE_ADDR_MIN" title="Link to this definition"></a><br /></dt>
<dd><p>Valid slave address range. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_SLAVE_ADDR_MAX">
<span class="target" id="rtu__resync_8h_1a5120dd2339ffb77c1da8ff235c87b34c"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_SLAVE_ADDR_MAX</span></span></span><a class="headerlink" href="#c.MB_SLAVE_ADDR_MAX" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_rtu_resync_initP15mb_rtu_resync_t">
<span id="_CPPv318mb_rtu_resync_initP15mb_rtu_resync_t"></span><span id="_CPPv218mb_rtu_resync_initP15mb_rtu_resync_t"></span><span id="mb_rtu_resync_init__mb_rtu_resync_tP"></span><span class="target" id="rtu__resync_8h_1aeb3098040831221fbf92517f3434a941"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_rtu_resync_initP15mb_rtu_resync_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initialize resync context. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rs</strong> – Resync context to initialize </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_rtu_resync_add_dataP15mb_rtu_resync_tPK7uint8_t6size_t">
<span id="_CPPv322mb_rtu_resync_add_dataP15mb_rtu_resync_tPK7uint8_t6size_t"></span><span id="_CPPv222mb_rtu_resync_add_dataP15mb_rtu_resync_tPK7uint8_t6size_t"></span><span id="mb_rtu_resync_add_data__mb_rtu_resync_tP.uint8_tCP.s"></span><span class="target" id="rtu__resync_8h_1a0ed4361363a8aaee20d07153dcf89b1d"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_add_data</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_rtu_resync_add_dataP15mb_rtu_resync_tPK7uint8_t6size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Add received bytes to resync buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rs</strong> – Resync context </p></li>
<li><p><strong>data</strong> – Received data </p></li>
<li><p><strong>len</strong> – Length of data </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes added </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_rtu_find_frame_startP15mb_rtu_resync_t">
<span id="_CPPv323mb_rtu_find_frame_startP15mb_rtu_resync_t"></span><span id="_CPPv223mb_rtu_find_frame_startP15mb_rtu_resync_t"></span><span id="mb_rtu_find_frame_start__mb_rtu_resync_tP"></span><span class="target" id="rtu__resync_8h_1a83909b9478817823cd2d4fa8a55348ae"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_find_frame_start</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_rtu_find_frame_startP15mb_rtu_resync_t" title="Link to this definition"></a><br /></dt>
<dd><p>Find potential frame start in buffer. </p>
<p>Scans buffer for valid slave address (1-247) that could indicate the start of a frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rs</strong> – Resync context </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Offset to candidate frame start, or -1 if none found </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_rtu_quick_crc_checkPK7uint8_t6size_t">
<span id="_CPPv322mb_rtu_quick_crc_checkPK7uint8_t6size_t"></span><span id="_CPPv222mb_rtu_quick_crc_checkPK7uint8_t6size_t"></span><span id="mb_rtu_quick_crc_check__uint8_tCP.s"></span><span class="target" id="rtu__resync_8h_1aefd213ee4f1bdffcccf214b6d0efa94a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_quick_crc_check</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_rtu_quick_crc_checkPK7uint8_t6size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Quick CRC validation without full parse. </p>
<p>Performs fast CRC check on data to validate frame integrity before attempting full parsing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – Frame data </p></li>
<li><p><strong>len</strong> – Frame length (must include 2-byte CRC) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if CRC is valid, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426mb_rtu_is_valid_slave_addr7uint8_t">
<span id="_CPPv326mb_rtu_is_valid_slave_addr7uint8_t"></span><span id="_CPPv226mb_rtu_is_valid_slave_addr7uint8_t"></span><span id="mb_rtu_is_valid_slave_addr__uint8_t"></span><span class="target" id="rtu__resync_8h_1a604c5f3eaf554b3ea87bb08f81b540ba"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_is_valid_slave_addr</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">addr</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426mb_rtu_is_valid_slave_addr7uint8_t" title="Link to this definition"></a><br /></dt>
<dd><p>Validate slave address. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>addr</strong> – Address to validate </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if address is in valid range (1-247) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_rtu_resync_discardP15mb_rtu_resync_t6size_t">
<span id="_CPPv321mb_rtu_resync_discardP15mb_rtu_resync_t6size_t"></span><span id="_CPPv221mb_rtu_resync_discardP15mb_rtu_resync_t6size_t"></span><span id="mb_rtu_resync_discard__mb_rtu_resync_tP.s"></span><span class="target" id="rtu__resync_8h_1a13d44b2fb3aef9d605bb74544ab5dd90"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_discard</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_rtu_resync_discardP15mb_rtu_resync_t6size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Discard bytes from resync buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rs</strong> – Resync context </p></li>
<li><p><strong>count</strong> – Number of bytes to discard </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_rtu_resync_availablePK15mb_rtu_resync_t">
<span id="_CPPv323mb_rtu_resync_availablePK15mb_rtu_resync_t"></span><span id="_CPPv223mb_rtu_resync_availablePK15mb_rtu_resync_t"></span><span id="mb_rtu_resync_available__mb_rtu_resync_tCP"></span><span class="target" id="rtu__resync_8h_1a7f16a214a31bc351758f1d3022ca2b51"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_available</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_rtu_resync_availablePK15mb_rtu_resync_t" title="Link to this definition"></a><br /></dt>
<dd><p>Get number of bytes available in resync buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rs</strong> – Resync context </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes available </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_rtu_resync_copyP15mb_rtu_resync_tP7uint8_t6size_t">
<span id="_CPPv318mb_rtu_resync_copyP15mb_rtu_resync_tP7uint8_t6size_t"></span><span id="_CPPv218mb_rtu_resync_copyP15mb_rtu_resync_tP7uint8_t6size_t"></span><span id="mb_rtu_resync_copy__mb_rtu_resync_tP.uint8_tP.s"></span><span class="target" id="rtu__resync_8h_1afa4cb776f14479ccb094c49aa46f4561"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_copy</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dest</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_rtu_resync_copyP15mb_rtu_resync_tP7uint8_t6size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Copy data from resync buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rs</strong> – Resync context </p></li>
<li><p><strong>dest</strong> – Destination buffer </p></li>
<li><p><strong>count</strong> – Number of bytes to copy </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes copied </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_rtu_resync_get_statsPK15mb_rtu_resync_tP8uint32_tP8uint32_tP8uint32_t">
<span id="_CPPv323mb_rtu_resync_get_statsPK15mb_rtu_resync_tP8uint32_tP8uint32_tP8uint32_t"></span><span id="_CPPv223mb_rtu_resync_get_statsPK15mb_rtu_resync_tP8uint32_tP8uint32_tP8uint32_t"></span><span id="mb_rtu_resync_get_stats__mb_rtu_resync_tCP.uint32_tP.uint32_tP.uint32_tP"></span><span class="target" id="rtu__resync_8h_1ab62f877d08c6252038fe3c696b9d543c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_get_stats</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">attempts</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">discarded</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">recovered</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_rtu_resync_get_statsPK15mb_rtu_resync_tP8uint32_tP8uint32_tP8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Get resync statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rs</strong> – Resync context </p></li>
<li><p><strong>attempts</strong> – Output: number of resync attempts </p></li>
<li><p><strong>discarded</strong> – Output: total bytes discarded </p></li>
<li><p><strong>recovered</strong> – Output: frames recovered via resync </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425mb_rtu_resync_reset_statsP15mb_rtu_resync_t">
<span id="_CPPv325mb_rtu_resync_reset_statsP15mb_rtu_resync_t"></span><span id="_CPPv225mb_rtu_resync_reset_statsP15mb_rtu_resync_t"></span><span id="mb_rtu_resync_reset_stats__mb_rtu_resync_tP"></span><span class="target" id="rtu__resync_8h_1ad07f01e4a680a171a0d49cca5465128a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_reset_stats</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425mb_rtu_resync_reset_statsP15mb_rtu_resync_t" title="Link to this definition"></a><br /></dt>
<dd><p>Reset resync statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rs</strong> – Resync context </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="server_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">server.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#observe_8h"><span class="std std-ref">modbus/observe.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#pdu_8h"><span class="std std-ref">modbus/pdu.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport__if_8h"><span class="std std-ref">modbus/transport_if.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#rtu_8h"><span class="std std-ref">modbus/transport/rtu.h</span></a>&gt;</em></div>
<p>Public API for the cooperative Modbus server runtime. </p>
<p>The server exposes helpers to register register regions, manage prioritised request queues, and feed Modbus RTU transports while delivering diagnostics and observability hooks to the application layer. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_SERVER_DEFAULT_TIMEOUT_MS">
<span class="target" id="server_8h_1a62ddf9a8c6930c5d832dca43fe63dac6"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_SERVER_DEFAULT_TIMEOUT_MS</span></span></span><a class="headerlink" href="#c.MB_SERVER_DEFAULT_TIMEOUT_MS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_SERVER_MAX_TIMEOUT_MS">
<span class="target" id="server_8h_1a8d7b64c4af85d9781ddbfb43b94518c2"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_SERVER_MAX_TIMEOUT_MS</span></span></span><a class="headerlink" href="#c.MB_SERVER_MAX_TIMEOUT_MS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_SERVER_REQUEST_HIGH_PRIORITY">
<span class="target" id="server_8h_1a92a8d73584331a056b5350de4141147b"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_SERVER_REQUEST_HIGH_PRIORITY</span></span></span><a class="headerlink" href="#c.MB_SERVER_REQUEST_HIGH_PRIORITY" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_SERVER_REQUEST_POISON">
<span class="target" id="server_8h_1afa18993713333819542ccf656ea50543"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_SERVER_REQUEST_POISON</span></span></span><a class="headerlink" href="#c.MB_SERVER_REQUEST_POISON" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a5c93eb97c2895976a765b979378f72c2"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv414mb_idle_config" title="mb_idle_config"><span class="n"><span class="pre">mb_idle_config</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_idle_config_t</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv417mb_server_read_fn">
<span id="_CPPv317mb_server_read_fn"></span><span id="_CPPv217mb_server_read_fn"></span><span id="mb_server_read_fn"></span><span class="target" id="server_8h_1a6ef4f813749d2a786dd94481d5800f5b"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_read_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n"><span class="pre">start_addr</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n"><span class="pre">quantity</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out_values</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">out_cap</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv417mb_server_read_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Callback prototype used to serve read requests. </p>
<p>Implementations must write <code class="docutils literal notranslate"><span class="pre">quantity</span></code> values into <code class="docutils literal notranslate"><span class="pre">out_values</span></code>. The buffer is guaranteed to hold at least <code class="docutils literal notranslate"><span class="pre">quantity</span></code> entries. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv418mb_server_write_fn">
<span id="_CPPv318mb_server_write_fn"></span><span id="_CPPv218mb_server_write_fn"></span><span id="mb_server_write_fn"></span><span class="target" id="server_8h_1a6b4926477d08d850b798b1aaf00c5016"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_write_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n"><span class="pre">start_addr</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">values</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n"><span class="pre">quantity</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">user_ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv418mb_server_write_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Callback prototype used to serve write requests. </p>
<p>Implementations receive <code class="docutils literal notranslate"><span class="pre">quantity</span></code> register values captured in <code class="docutils literal notranslate"><span class="pre">values</span></code>. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv418mb_server_region_t">
<span id="_CPPv318mb_server_region_t"></span><span id="_CPPv218mb_server_region_t"></span><span id="mb_server_region_t"></span><span class="target" id="server_8h_1a0594dfef1a50353e2b526271ba912907"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv416mb_server_region" title="mb_server_region"><span class="n"><span class="pre">mb_server_region</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_region_t</span></span></span><a class="headerlink" href="#_CPPv418mb_server_region_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv419mb_server_request_t">
<span id="_CPPv319mb_server_request_t"></span><span id="_CPPv219mb_server_request_t"></span><span id="mb_server_request_t"></span><span class="target" id="server_8h_1a3613e5304913ca71b54dc69d41c2b988"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_server_request" title="mb_server_request"><span class="n"><span class="pre">mb_server_request</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_request_t</span></span></span><a class="headerlink" href="#_CPPv419mb_server_request_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv417mb_server_state_t">
<span id="_CPPv317mb_server_state_t"></span><span id="_CPPv217mb_server_state_t"></span><span class="target" id="server_8h_1a7a218e7a3fb97d17f268961eda0f8cc0"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_state_t</span></span></span><a class="headerlink" href="#_CPPv417mb_server_state_t" title="Link to this definition"></a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_state_t20MB_SERVER_STATE_IDLEE">
<span id="_CPPv3N17mb_server_state_t20MB_SERVER_STATE_IDLEE"></span><span id="_CPPv2N17mb_server_state_t20MB_SERVER_STATE_IDLEE"></span><span class="target" id="server_8h_1a7a218e7a3fb97d17f268961eda0f8cc0a8373e09524e9f907a3f727c946833e4e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_SERVER_STATE_IDLE</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_state_t20MB_SERVER_STATE_IDLEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_state_t26MB_SERVER_STATE_PROCESSINGE">
<span id="_CPPv3N17mb_server_state_t26MB_SERVER_STATE_PROCESSINGE"></span><span id="_CPPv2N17mb_server_state_t26MB_SERVER_STATE_PROCESSINGE"></span><span class="target" id="server_8h_1a7a218e7a3fb97d17f268961eda0f8cc0a19bd48318f64c650f31f61b28e88a9e7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_SERVER_STATE_PROCESSING</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_state_t26MB_SERVER_STATE_PROCESSINGE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N17mb_server_state_t24MB_SERVER_STATE_DRAININGE">
<span id="_CPPv3N17mb_server_state_t24MB_SERVER_STATE_DRAININGE"></span><span id="_CPPv2N17mb_server_state_t24MB_SERVER_STATE_DRAININGE"></span><span class="target" id="server_8h_1a7a218e7a3fb97d17f268961eda0f8cc0a784b5444c5761bd0afa69f40bcc44083"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_SERVER_STATE_DRAINING</span></span></span><a class="headerlink" href="#_CPPv4N17mb_server_state_t24MB_SERVER_STATE_DRAININGE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414mb_server_initP11mb_server_tPK17mb_transport_if_t5mb_u8P18mb_server_region_t9mb_size_tP19mb_server_request_t9mb_size_t">
<span id="_CPPv314mb_server_initP11mb_server_tPK17mb_transport_if_t5mb_u8P18mb_server_region_t9mb_size_tP19mb_server_request_t9mb_size_t"></span><span id="_CPPv214mb_server_initP11mb_server_tPK17mb_transport_if_t5mb_u8P18mb_server_region_t9mb_size_tP19mb_server_request_t9mb_size_t"></span><span id="mb_server_init__mb_server_tP.mb_transport_if_tCP.mb_u8.mb_server_region_tP.mb_size_t.mb_server_request_tP.mb_size_t"></span><span class="target" id="server_8h_1a6bc380aa0da1913fb9f77b6093b5ffc8"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iface</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <a class="reference internal" href="#_CPPv418mb_server_region_t" title="mb_server_region_t"><span class="n"><span class="pre">mb_server_region_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">regions</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">region_capacity</span></span>, <a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">request_pool</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">request_pool_len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414mb_server_initP11mb_server_tPK17mb_transport_if_t5mb_u8P18mb_server_region_t9mb_size_tP19mb_server_request_t9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Initialises a server object bound to a transport interface. </p>
<p>All memory backing regions and request slots is supplied by the caller so the server can operate without dynamic allocations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance to initialise. </p></li>
<li><p><strong>iface</strong> – Transport implementing <a class="reference internal" href="#structmb__transport__if__t"><span class="std std-ref">mb_transport_if_t</span></a>. </p></li>
<li><p><strong>unit_id</strong> – Modbus unit identifier served by this instance. </p></li>
<li><p><strong>regions</strong> – Array used to store region descriptors. </p></li>
<li><p><strong>region_capacity</strong> – Number of entries available in <code class="docutils literal notranslate"><span class="pre">regions</span></code>. </p></li>
<li><p><strong>request_pool</strong> – Array of request descriptors used as queue storage. </p></li>
<li><p><strong>request_pool_len</strong> – Number of entries in <code class="docutils literal notranslate"><span class="pre">request_pool</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Initialisation succeeded. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid argument or missing storage. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_server_resetP11mb_server_t">
<span id="_CPPv315mb_server_resetP11mb_server_t"></span><span id="_CPPv215mb_server_resetP11mb_server_t"></span><span id="mb_server_reset__mb_server_tP"></span><span class="target" id="server_8h_1a5ee70ffc8f4961e3090ac02a98b93cd1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_server_resetP11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd><p>Clears all registered register regions and pending requests. </p>
<p>Pending requests are not cancelled; call mb_server_submit_poison first if a graceful drain is required. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_server_add_regionP11mb_server_t6mb_u166mb_u16b17mb_server_read_fn18mb_server_write_fnPv">
<span id="_CPPv320mb_server_add_regionP11mb_server_t6mb_u166mb_u16b17mb_server_read_fn18mb_server_write_fnPv"></span><span id="_CPPv220mb_server_add_regionP11mb_server_t6mb_u166mb_u16b17mb_server_read_fn18mb_server_write_fnPv"></span><span id="mb_server_add_region__mb_server_tP.mb_u16.mb_u16.b.mb_server_read_fn.mb_server_write_fn.voidP"></span><span class="target" id="server_8h_1a03ae8ec410d595bb4b6af834080c055a"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_add_region</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">start</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">read_only</span></span>, <a class="reference internal" href="#_CPPv417mb_server_read_fn" title="mb_server_read_fn"><span class="n"><span class="pre">mb_server_read_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">read_cb</span></span>, <a class="reference internal" href="#_CPPv418mb_server_write_fn" title="mb_server_write_fn"><span class="n"><span class="pre">mb_server_write_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">write_cb</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_server_add_regionP11mb_server_t6mb_u166mb_u16b17mb_server_read_fn18mb_server_write_fnPv" title="Link to this definition"></a><br /></dt>
<dd><p>Registers a region served exclusively through callbacks. </p>
<p>Use this overload when registers are virtual or when backing storage lives outside the server instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>start</strong> – First register address handled by the region. </p></li>
<li><p><strong>count</strong> – Number of registers exposed by the region. </p></li>
<li><p><strong>read_only</strong> – Reject write requests when true. </p></li>
<li><p><strong>read_cb</strong> – Callback invoked for read operations. </p></li>
<li><p><strong>write_cb</strong> – Callback invoked for write operations (ignored when <code class="docutils literal notranslate"><span class="pre">read_only</span></code> is true). </p></li>
<li><p><strong>user_ctx</strong> – Pointer forwarded to callbacks.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Region added successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid range or overlaps existing regions. </p></li>
<li><p><strong>MB_ERR_OTHER</strong> – Region capacity exhausted. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_server_add_storageP11mb_server_t6mb_u166mb_u16bP6mb_u16">
<span id="_CPPv321mb_server_add_storageP11mb_server_t6mb_u166mb_u16bP6mb_u16"></span><span id="_CPPv221mb_server_add_storageP11mb_server_t6mb_u166mb_u16bP6mb_u16"></span><span id="mb_server_add_storage__mb_server_tP.mb_u16.mb_u16.b.mb_u16P"></span><span class="target" id="server_8h_1a00f274e9718b81e217ada5eb29d5d8c4"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_add_storage</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">start</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">read_only</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">storage</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_server_add_storageP11mb_server_t6mb_u166mb_u16bP6mb_u16" title="Link to this definition"></a><br /></dt>
<dd><p>Registers a region backed by caller-provided storage. </p>
<p>The buffer provided in <code class="docutils literal notranslate"><span class="pre">storage</span></code> must contain at least <code class="docutils literal notranslate"><span class="pre">count</span></code> elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>start</strong> – First register address handled by the region. </p></li>
<li><p><strong>count</strong> – Number of registers backed by <code class="docutils literal notranslate"><span class="pre">storage</span></code>. </p></li>
<li><p><strong>read_only</strong> – Reject write requests when true. </p></li>
<li><p><strong>storage</strong> – Caller-owned register array.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Region added successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid storage pointer or range. </p></li>
<li><p><strong>MB_ERR_OTHER</strong> – Region capacity exhausted. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414mb_server_pollP11mb_server_t">
<span id="_CPPv314mb_server_pollP11mb_server_t"></span><span id="_CPPv214mb_server_pollP11mb_server_t"></span><span id="mb_server_poll__mb_server_tP"></span><span class="target" id="server_8h_1aa9f6c189ff6fdee018c60a1b6328c1fa"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_poll</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414mb_server_pollP11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd><p>Advances the server finite-state machine. </p>
<p>Poll this function frequently to accept new Modbus requests and service the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Operation succeeded or no work was pending. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">server</span></code> was NULL. </p></li>
<li><p><strong>other</strong> – Error codes bubbled up from the active transport. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426mb_server_poll_with_budgetP11mb_server_t9mb_size_t">
<span id="_CPPv326mb_server_poll_with_budgetP11mb_server_t9mb_size_t"></span><span id="_CPPv226mb_server_poll_with_budgetP11mb_server_t9mb_size_t"></span><span id="mb_server_poll_with_budget__mb_server_tP.mb_size_t"></span><span class="target" id="server_8h_1a96b5a1250c3d4230e7d9ae72b7fbe0c7"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_poll_with_budget</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">steps</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426mb_server_poll_with_budgetP11mb_server_t9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Advances the server FSM with a bounded micro-step budget. </p>
<p>Behaviour mirrors mb_server_poll while co-operating with the caller’s scheduler. Supplying <code class="docutils literal notranslate"><span class="pre">0</span></code> preserves the legacy behaviour (unbounded).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>steps</strong> – Maximum micro-steps to execute (0 means unbounded).</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Operation succeeded or no work was pending. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">server</span></code> was NULL. </p></li>
<li><p><strong>other</strong> – Transport error bubbled up from the active transport. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_server_pendingPK11mb_server_t">
<span id="_CPPv317mb_server_pendingPK11mb_server_t"></span><span id="_CPPv217mb_server_pendingPK11mb_server_t"></span><span id="mb_server_pending__mb_server_tCP"></span><span class="target" id="server_8h_1a3eb509c52701e0ec07de10399e80ab32"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_pending</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_server_pendingPK11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd><p>Returns the number of requests currently pending in the queue. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of pending requests (0 when <code class="docutils literal notranslate"><span class="pre">server</span></code> is NULL). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_server_is_idlePK11mb_server_t">
<span id="_CPPv317mb_server_is_idlePK11mb_server_t"></span><span id="_CPPv217mb_server_is_idlePK11mb_server_t"></span><span id="mb_server_is_idle__mb_server_tCP"></span><span class="target" id="server_8h_1aa3b7f7cfedc21030f9b964022abe5786"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_is_idle</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_server_is_idlePK11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd><p>Reports whether the server has no active or queued requests. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – No requests are in-flight or queued. </p></li>
<li><p><strong>false</strong> – There is active or pending work. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428mb_server_set_queue_capacityP11mb_server_t9mb_size_t">
<span id="_CPPv328mb_server_set_queue_capacityP11mb_server_t9mb_size_t"></span><span id="_CPPv228mb_server_set_queue_capacityP11mb_server_t9mb_size_t"></span><span id="mb_server_set_queue_capacity__mb_server_tP.mb_size_t"></span><span class="target" id="server_8h_1a91ab7ab8e2354c0aca5ef3165eb0ea47"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_queue_capacity</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428mb_server_set_queue_capacityP11mb_server_t9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd><p>Limits how many requests can be staged at once. </p>
<p>Setting <code class="docutils literal notranslate"><span class="pre">capacity</span></code> to zero enables an unbounded queue capped only by the size of the request pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>capacity</strong> – Maximum number of queued requests. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mb_server_queue_capacityPK11mb_server_t">
<span id="_CPPv324mb_server_queue_capacityPK11mb_server_t"></span><span id="_CPPv224mb_server_queue_capacityPK11mb_server_t"></span><span id="mb_server_queue_capacity__mb_server_tCP"></span><span class="target" id="server_8h_1a7729d7ac922e7a7e72b1e0c33c54a753"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_queue_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mb_server_queue_capacityPK11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd><p>Retrieves the current queue capacity limit. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Queue capacity (0 when <code class="docutils literal notranslate"><span class="pre">server</span></code> is NULL). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mb_server_set_fc_timeoutP11mb_server_t5mb_u812mb_time_ms_t">
<span id="_CPPv324mb_server_set_fc_timeoutP11mb_server_t5mb_u812mb_time_ms_t"></span><span id="_CPPv224mb_server_set_fc_timeoutP11mb_server_t5mb_u812mb_time_ms_t"></span><span id="mb_server_set_fc_timeout__mb_server_tP.mb_u8.mb_time_ms_t"></span><span class="target" id="server_8h_1a26ee057e4c67605b53de1d59238e02da"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_fc_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mb_server_set_fc_timeoutP11mb_server_t5mb_u812mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd><p>Overrides the timeout used for a specific function code. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>function</strong> – Function code whose timeout should be updated. </p></li>
<li><p><strong>timeout_ms</strong> – Timeout in milliseconds (0 reverts to default). </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_server_submit_poisonP11mb_server_t">
<span id="_CPPv323mb_server_submit_poisonP11mb_server_t"></span><span id="_CPPv223mb_server_submit_poisonP11mb_server_t"></span><span id="mb_server_submit_poison__mb_server_tP"></span><span class="target" id="server_8h_1a42a6d0e4cd47912279229b955b5f13d0"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_submit_poison</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_server_submit_poisonP11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd><p>Enqueues a poison pill that flushes outstanding requests. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Poison request queued successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">server</span></code> was NULL. </p></li>
<li><p><strong>MB_ERR_NO_RESOURCES</strong> – No spare request slot was available. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_server_get_metricsPK11mb_server_tP19mb_server_metrics_t">
<span id="_CPPv321mb_server_get_metricsPK11mb_server_tP19mb_server_metrics_t"></span><span id="_CPPv221mb_server_get_metricsPK11mb_server_tP19mb_server_metrics_t"></span><span id="mb_server_get_metrics__mb_server_tCP.mb_server_metrics_tP"></span><span class="target" id="server_8h_1ae0e50d61a54e470987647b6962e942eb"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_get_metrics</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_server_metrics_t" title="mb_server_metrics_t"><span class="n"><span class="pre">mb_server_metrics_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_metrics</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_server_get_metricsPK11mb_server_tP19mb_server_metrics_t" title="Link to this definition"></a><br /></dt>
<dd><p>Copies accumulated metrics into <code class="docutils literal notranslate"><span class="pre">out_metrics</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>out_metrics</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_server_reset_metricsP11mb_server_t">
<span id="_CPPv323mb_server_reset_metricsP11mb_server_t"></span><span id="_CPPv223mb_server_reset_metricsP11mb_server_t"></span><span id="mb_server_reset_metrics__mb_server_tP"></span><span class="target" id="server_8h_1a850905963d134e13219f51acfe22ffb0"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_reset_metrics</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_server_reset_metricsP11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd><p>Resets the server metrics to zero. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_server_inject_aduP11mb_server_tPK13mb_adu_view_t">
<span id="_CPPv320mb_server_inject_aduP11mb_server_tPK13mb_adu_view_t"></span><span id="_CPPv220mb_server_inject_aduP11mb_server_tPK13mb_adu_view_t"></span><span id="mb_server_inject_adu__mb_server_tP.mb_adu_view_tCP"></span><span class="target" id="server_8h_1a3c19b9859ebe03189762a3d1874025c8"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_inject_adu</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_server_inject_aduP11mb_server_tPK13mb_adu_view_t" title="Link to this definition"></a><br /></dt>
<dd><p>Injects a raw ADU into the server for testing purposes. </p>
<p>Intended for simulations where the transport path is bypassed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>adu</strong> – ADU to inject.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – ADU was accepted for processing. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">server</span></code> or <code class="docutils literal notranslate"><span class="pre">adu</span></code> was NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_server_get_diagPK11mb_server_tP18mb_diag_counters_t">
<span id="_CPPv318mb_server_get_diagPK11mb_server_tP18mb_diag_counters_t"></span><span id="_CPPv218mb_server_get_diagPK11mb_server_tP18mb_diag_counters_t"></span><span id="mb_server_get_diag__mb_server_tCP.mb_diag_counters_tP"></span><span class="target" id="server_8h_1a19a2c83a75b3d992c5734b939d97e3dd"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_get_diag</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_diag</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_server_get_diagPK11mb_server_tP18mb_diag_counters_t" title="Link to this definition"></a><br /></dt>
<dd><p>Copies diagnostic counters into <code class="docutils literal notranslate"><span class="pre">out_diag</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>out_diag</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427mb_server_get_diag_snapshotPK11mb_server_tP18mb_diag_snapshot_t">
<span id="_CPPv327mb_server_get_diag_snapshotPK11mb_server_tP18mb_diag_snapshot_t"></span><span id="_CPPv227mb_server_get_diag_snapshotPK11mb_server_tP18mb_diag_snapshot_t"></span><span id="mb_server_get_diag_snapshot__mb_server_tCP.mb_diag_snapshot_tP"></span><span class="target" id="server_8h_1a9e220998303cc1e4da7a5ca3e15b5832"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_get_diag_snapshot</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_snapshot_t" title="mb_diag_snapshot_t"><span class="n"><span class="pre">mb_diag_snapshot_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_snapshot</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427mb_server_get_diag_snapshotPK11mb_server_tP18mb_diag_snapshot_t" title="Link to this definition"></a><br /></dt>
<dd><p>Captures a snapshot of server diagnostics, including trace data when enabled. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>out_snapshot</strong> – Destination snapshot; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420mb_server_reset_diagP11mb_server_t">
<span id="_CPPv320mb_server_reset_diagP11mb_server_t"></span><span id="_CPPv220mb_server_reset_diagP11mb_server_t"></span><span id="mb_server_reset_diag__mb_server_tP"></span><span class="target" id="server_8h_1a7c5e71bc7167531bb4a01c6c5bf36294"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_reset_diag</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420mb_server_reset_diagP11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd><p>Clears the diagnostic counters maintained by the server. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428mb_server_set_event_callbackP11mb_server_t19mb_event_callback_tPv">
<span id="_CPPv328mb_server_set_event_callbackP11mb_server_t19mb_event_callback_tPv"></span><span id="_CPPv228mb_server_set_event_callbackP11mb_server_t19mb_event_callback_tPv"></span><span id="mb_server_set_event_callback__mb_server_tP.mb_event_callback_t.voidP"></span><span class="target" id="server_8h_1aad048669d3f8c9eeb6502a59d139d858"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_event_callback</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_event_callback_t" title="mb_event_callback_t"><span class="n"><span class="pre">mb_event_callback_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">callback</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428mb_server_set_event_callbackP11mb_server_t19mb_event_callback_tPv" title="Link to this definition"></a><br /></dt>
<dd><p>Registers an event callback invoked on state transitions and requests. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>callback</strong> – Event sink; pass NULL to disable notifications. </p></li>
<li><p><strong>user_ctx</strong> – Opaque pointer forwarded to <code class="docutils literal notranslate"><span class="pre">callback</span></code>. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_server_set_trace_hexP11mb_server_tb">
<span id="_CPPv323mb_server_set_trace_hexP11mb_server_tb"></span><span id="_CPPv223mb_server_set_trace_hexP11mb_server_tb"></span><span id="mb_server_set_trace_hex__mb_server_tP.b"></span><span class="target" id="server_8h_1a089448fed50fa7d208924fcf2a722902"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_trace_hex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">enable</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_server_set_trace_hexP11mb_server_tb" title="Link to this definition"></a><br /></dt>
<dd><p>Enables or disables hexadecimal tracing of requests and responses. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>enable</strong> – <code class="docutils literal notranslate"><span class="pre">true</span></code> to enable tracing, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="transport_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">transport.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport__if_8h"><span class="std std-ref">modbus/transport_if.h</span></a>&gt;</em></div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="ascii_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">ascii.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<p>Minimal ASCII transport built on top of the non-blocking transport interface. </p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="rtu_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">rtu.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<p>Minimal RTU transport built on top of the non-blocking transport interface. </p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="tcp_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">tcp.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<p>Minimal Modbus TCP (MBAP) transport built on top of the non-blocking transport interface. </p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="tcp__multi_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">tcp_multi.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<p>Helper utilities for managing multiple Modbus TCP connections. </p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="transport__if_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">transport_if.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__iovec_8h"><span class="std std-ref">modbus/mb_iovec.h</span></a>&gt;</em></div>
<p>Minimal, non-blocking transport interface shared by client and server code. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420mb_transport_send_fn">
<span id="_CPPv320mb_transport_send_fn"></span><span id="_CPPv220mb_transport_send_fn"></span><span id="mb_transport_send_fn"></span><span class="target" id="transport__if_8h_1ab1c09cdef82cb9a9f96a2e86cff9c9d8"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_send_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">len</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv420mb_transport_send_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Function pointer prototype for non-blocking send operations. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420mb_transport_recv_fn">
<span id="_CPPv320mb_transport_recv_fn"></span><span id="_CPPv220mb_transport_recv_fn"></span><span id="mb_transport_recv_fn"></span><span class="target" id="transport__if_8h_1a746740c7b4b56391dfa8ecca8e75750f"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_recv_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">buf</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n"><span class="pre">cap</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv420mb_transport_recv_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Function pointer prototype for non-blocking receive operations. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv421mb_transport_sendv_fn">
<span id="_CPPv321mb_transport_sendv_fn"></span><span id="_CPPv221mb_transport_sendv_fn"></span><span id="mb_transport_sendv_fn"></span><span class="target" id="transport__if_8h_1a9e5b596261ab5bb1cc27d280b0427cba"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_sendv_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">list</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv421mb_transport_sendv_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Function pointer prototype for scatter-gather send operations (zero-copy). </p>
<p>Optional optimization for transports that support vectored IO. If NULL, falls back to regular send with memcpy. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv421mb_transport_recvv_fn">
<span id="_CPPv321mb_transport_recvv_fn"></span><span id="_CPPv221mb_transport_recvv_fn"></span><span id="mb_transport_recvv_fn"></span><span class="target" id="transport__if_8h_1a5d667ccd98cdb3bd5387a1cb11c6d96b"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_recvv_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">list</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">out</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv421mb_transport_recvv_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Function pointer prototype for scatter-gather receive operations (zero-copy). </p>
<p>Optional optimization for transports that can receive directly into fragmented buffers. If NULL, falls back to regular recv with memcpy. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv419mb_transport_now_fn">
<span id="_CPPv319mb_transport_now_fn"></span><span id="_CPPv219mb_transport_now_fn"></span><span id="mb_transport_now_fn"></span><span class="target" id="transport__if_8h_1ab388eab23bb1f3026327f4daf50dde9a"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_now_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv419mb_transport_now_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Function pointer prototype returning a monotonic timestamp in milliseconds. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv421mb_transport_yield_fn">
<span id="_CPPv321mb_transport_yield_fn"></span><span id="_CPPv221mb_transport_yield_fn"></span><span id="mb_transport_yield_fn"></span><span class="target" id="transport__if_8h_1a19597eaf7be2477fa37492a1bda6868a"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_yield_fn</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv421mb_transport_yield_fn" title="Link to this definition"></a><br /></dt>
<dd><p>Optional cooperative-yield callback (may be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>). </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_transport_sendPK17mb_transport_if_tPK5mb_u89mb_size_tP24mb_transport_io_result_t">
<span id="_CPPv317mb_transport_sendPK17mb_transport_if_tPK5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="_CPPv217mb_transport_sendPK17mb_transport_if_tPK5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="mb_transport_send__mb_transport_if_tCP.mb_u8CP.mb_size_t.mb_transport_io_result_tP"></span><span class="target" id="transport__if_8h_1aced898aa499e16463f9994ab823c29ba"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_send</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iface</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buf</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_transport_sendPK17mb_transport_if_tPK5mb_u89mb_size_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd><p>Performs a guarded send using the provided transport interface. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417mb_transport_recvPK17mb_transport_if_tP5mb_u89mb_size_tP24mb_transport_io_result_t">
<span id="_CPPv317mb_transport_recvPK17mb_transport_if_tP5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="_CPPv217mb_transport_recvPK17mb_transport_if_tP5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="mb_transport_recv__mb_transport_if_tCP.mb_u8P.mb_size_t.mb_transport_io_result_tP"></span><span class="target" id="transport__if_8h_1a0ef9f55bee7d8c6aacbb94eff7700113"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_recv</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iface</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buf</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417mb_transport_recvPK17mb_transport_if_tP5mb_u89mb_size_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd><p>Performs a guarded receive using the provided transport interface. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416mb_transport_nowPK17mb_transport_if_t">
<span id="_CPPv316mb_transport_nowPK17mb_transport_if_t"></span><span id="_CPPv216mb_transport_nowPK17mb_transport_if_t"></span><span id="mb_transport_now__mb_transport_if_tCP"></span><span class="target" id="transport__if_8h_1a3078df94249348f2280bbd4949b641f2"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_now</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iface</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416mb_transport_nowPK17mb_transport_if_t" title="Link to this definition"></a><br /></dt>
<dd><p>Fetches the current monotonic timestamp in milliseconds. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_transport_yieldPK17mb_transport_if_t">
<span id="_CPPv318mb_transport_yieldPK17mb_transport_if_t"></span><span id="_CPPv218mb_transport_yieldPK17mb_transport_if_t"></span><span id="mb_transport_yield__mb_transport_if_tCP"></span><span class="target" id="transport__if_8h_1a6e1b5fb2e099434543bb2f7191deaa19"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_yield</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iface</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_transport_yieldPK17mb_transport_if_t" title="Link to this definition"></a><br /></dt>
<dd><p>Yields cooperatively to the underlying platform when supported. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426mb_transport_elapsed_sincePK17mb_transport_if_t12mb_time_ms_t">
<span id="_CPPv326mb_transport_elapsed_sincePK17mb_transport_if_t12mb_time_ms_t"></span><span id="_CPPv226mb_transport_elapsed_sincePK17mb_transport_if_t12mb_time_ms_t"></span><span id="mb_transport_elapsed_since__mb_transport_if_tCP.mb_time_ms_t"></span><span class="target" id="transport__if_8h_1a47022c657785d00345fa8c14f4732cf4"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_elapsed_since</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iface</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">since</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426mb_transport_elapsed_sincePK17mb_transport_if_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd><p>Computes the elapsed time in milliseconds since <code class="docutils literal notranslate"><span class="pre">since</span></code>. </p>
<p>Returns zero when <code class="docutils literal notranslate"><span class="pre">iface</span></code> is NULL or the clock rolled backwards. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_transport_sendvPK17mb_transport_if_tPK15mb_iovec_list_tP24mb_transport_io_result_t">
<span id="_CPPv318mb_transport_sendvPK17mb_transport_if_tPK15mb_iovec_list_tP24mb_transport_io_result_t"></span><span id="_CPPv218mb_transport_sendvPK17mb_transport_if_tPK15mb_iovec_list_tP24mb_transport_io_result_t"></span><span id="mb_transport_sendv__mb_transport_if_tCP.mb_iovec_list_tCP.mb_transport_io_result_tP"></span><span class="target" id="transport__if_8h_1a79594c0cf924c3c586775091a76ef679"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_sendv</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iface</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">list</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_transport_sendvPK17mb_transport_if_tPK15mb_iovec_list_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd><p>Performs a scatter-gather send using the transport interface. </p>
<p>Uses sendv if available (zero-copy), otherwise falls back to copying the iovec list into a temporary buffer and using regular send.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iface</strong> – Transport interface </p></li>
<li><p><strong>list</strong> – IO vector list to send </p></li>
<li><p><strong>out</strong> – Result metadata (bytes sent) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success, error code otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418mb_transport_recvvPK17mb_transport_if_tP15mb_iovec_list_tP24mb_transport_io_result_t">
<span id="_CPPv318mb_transport_recvvPK17mb_transport_if_tP15mb_iovec_list_tP24mb_transport_io_result_t"></span><span id="_CPPv218mb_transport_recvvPK17mb_transport_if_tP15mb_iovec_list_tP24mb_transport_io_result_t"></span><span id="mb_transport_recvv__mb_transport_if_tCP.mb_iovec_list_tP.mb_transport_io_result_tP"></span><span class="target" id="transport__if_8h_1ad19f86f5e7e365747e6c59dcb1a120a8"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_transport_recvv</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iface</span></span>, <a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">list</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418mb_transport_recvvPK17mb_transport_if_tP15mb_iovec_list_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd><p>Performs a scatter-gather receive using the transport interface. </p>
<p>Uses recvv if available (zero-copy), otherwise receives into a temporary buffer and copies to the iovec list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iface</strong> – Transport interface </p></li>
<li><p><strong>list</strong> – IO vector list to receive into </p></li>
<li><p><strong>out</strong> – Result metadata (bytes received) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success, error code otherwise </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="utils_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">utils.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdio.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#base_8h"><span class="std std-ref">modbus/base.h</span></a>&gt;</em></div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="version_8h"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">version.h</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;modbus/version_config.h&gt;</em></div>
<p>Public accessor for the generated ModbusCore version macros. </p>
<p>The build system generates <code class="docutils literal notranslate"><span class="pre">modbus/version_config.h</span></code> during configuration. Including this wrapper keeps the public path stable while exposing the compile-time major/minor/patch constants. </p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="client_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">client.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client_8h"><span class="std std-ref">modbus/client.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdio.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__log_8h"><span class="std std-ref">modbus/mb_log.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#core_8h"><span class="std std-ref">modbus/core.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#pdu_8h"><span class="std std-ref">modbus/pdu.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CLIENT_TIMEOUT_DEFAULT">
<span class="target" id="client_8c_1a592c6c89addd30da256eeb2bc7dc1816"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_TIMEOUT_DEFAULT</span></span></span><a class="headerlink" href="#c.MB_CLIENT_TIMEOUT_DEFAULT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_CLIENT_BACKOFF_DEFAULT">
<span class="target" id="client_8c_1a6fd74257b709aca76fb63a4ec898dc2f"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_CLIENT_BACKOFF_DEFAULT</span></span></span><a class="headerlink" href="#c.MB_CLIENT_BACKOFF_DEFAULT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423client_transport_submitP11mb_client_tP15mb_client_txn_t">
<span id="_CPPv323client_transport_submitP11mb_client_tP15mb_client_txn_t"></span><span id="_CPPv223client_transport_submitP11mb_client_tP15mb_client_txn_t"></span><span id="client_transport_submit__mb_client_tP.mb_client_txn_tP"></span><span class="target" id="client_8c_1a0370f0c18ee34cc020d2a4ea26b115c9"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_transport_submit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423client_transport_submitP11mb_client_tP15mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421client_transport_pollP11mb_client_t">
<span id="_CPPv321client_transport_pollP11mb_client_t"></span><span id="_CPPv221client_transport_pollP11mb_client_t"></span><span id="client_transport_poll__mb_client_tP"></span><span class="target" id="client_8c_1a018a175f7faeca07279d7e0f4e690677"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_transport_poll</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421client_transport_pollP11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv412client_retryP11mb_client_t">
<span id="_CPPv312client_retryP11mb_client_t"></span><span id="_CPPv212client_retryP11mb_client_t"></span><span id="client_retry__mb_client_tP"></span><span class="target" id="client_8c_1a6553abd08a8cd1d11634d643ba201341"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_retry</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412client_retryP11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423client_reset_txn_phasesP15mb_client_txn_t">
<span id="_CPPv323client_reset_txn_phasesP15mb_client_txn_t"></span><span id="_CPPv223client_reset_txn_phasesP15mb_client_txn_t"></span><span id="client_reset_txn_phases__mb_client_txn_tP"></span><span class="target" id="client_8c_1af9cd60a776efe31bbdab6ce6396b5a75"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_reset_txn_phases</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423client_reset_txn_phasesP15mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420client_jitter_sampleP11mb_client_t12mb_time_ms_t">
<span id="_CPPv320client_jitter_sampleP11mb_client_t12mb_time_ms_t"></span><span id="_CPPv220client_jitter_sampleP11mb_client_t12mb_time_ms_t"></span><span id="client_jitter_sample__mb_client_tP.mb_time_ms_t"></span><span class="target" id="client_8c_1a114d0ec896e01a7dcf2d58a25f944cd1"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_jitter_sample</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420client_jitter_sampleP11mb_client_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423client_normalize_budget9mb_size_t">
<span id="_CPPv323client_normalize_budget9mb_size_t"></span><span id="_CPPv223client_normalize_budget9mb_size_t"></span><span id="client_normalize_budget__mb_size_t"></span><span class="target" id="client_8c_1a7ddab78228f13d7c775b8bfbac6b2611"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_normalize_budget</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">steps</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423client_normalize_budget9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv410client_nowPK11mb_client_t">
<span id="_CPPv310client_nowPK11mb_client_t"></span><span id="_CPPv210client_nowPK11mb_client_t"></span><span id="client_now__mb_client_tCP"></span><span class="target" id="client_8c_1aa88d01ccf105db43b89e9de1ae4e9f62"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_now</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410client_nowPK11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421client_total_inflightPK11mb_client_t">
<span id="_CPPv321client_total_inflightPK11mb_client_t"></span><span id="_CPPv221client_total_inflightPK11mb_client_t"></span><span id="client_total_inflight__mb_client_tCP"></span><span class="target" id="client_8c_1a34f2d1f9019a94d5d596a98c70b62192"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_total_inflight</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421client_total_inflightPK11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423client_trace_hex_bufferPK11mb_client_tPKcPK5mb_u89mb_size_t">
<span id="_CPPv323client_trace_hex_bufferPK11mb_client_tPKcPK5mb_u89mb_size_t"></span><span id="_CPPv223client_trace_hex_bufferPK11mb_client_tPKcPK5mb_u89mb_size_t"></span><span id="client_trace_hex_buffer__mb_client_tCP.cCP.mb_u8CP.mb_size_t"></span><span class="target" id="client_8c_1a5a71728f22fac43f55681b0ace5a3d8d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_trace_hex_buffer</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">label</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buffer</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">length</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423client_trace_hex_bufferPK11mb_client_tPKcPK5mb_u89mb_size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420client_trace_requestPK11mb_client_tPK15mb_client_txn_tPKc">
<span id="_CPPv320client_trace_requestPK11mb_client_tPK15mb_client_txn_tPKc"></span><span id="_CPPv220client_trace_requestPK11mb_client_tPK15mb_client_txn_tPKc"></span><span id="client_trace_request__mb_client_tCP.mb_client_txn_tCP.cCP"></span><span class="target" id="client_8c_1a2f5fc3592bf0ae9df6d4bc075df48c3c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_trace_request</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">label</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420client_trace_requestPK11mb_client_tPK15mb_client_txn_tPKc" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421client_trace_responsePK11mb_client_tPK13mb_adu_view_tPKc">
<span id="_CPPv321client_trace_responsePK11mb_client_tPK13mb_adu_view_tPKc"></span><span id="_CPPv221client_trace_responsePK11mb_client_tPK13mb_adu_view_tPKc"></span><span id="client_trace_response__mb_client_tCP.mb_adu_view_tCP.cCP"></span><span class="target" id="client_8c_1adeac99ac01ffb0cb3157480a980cda51"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_trace_response</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">label</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421client_trace_responsePK11mb_client_tPK13mb_adu_view_tPKc" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423client_emit_state_eventP11mb_client_t15mb_event_type_t17mb_client_state_t">
<span id="_CPPv323client_emit_state_eventP11mb_client_t15mb_event_type_t17mb_client_state_t"></span><span id="_CPPv223client_emit_state_eventP11mb_client_t15mb_event_type_t17mb_client_state_t"></span><span id="client_emit_state_event__mb_client_tP.mb_event_type_t.mb_client_state_t"></span><span class="target" id="client_8c_1a299296cce89522aafeeb59ca4da125ed"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_emit_state_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_event_type_t" title="mb_event_type_t"><span class="n"><span class="pre">mb_event_type_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span>, <a class="reference internal" href="#_CPPv417mb_client_state_t" title="mb_client_state_t"><span class="n"><span class="pre">mb_client_state_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">state</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423client_emit_state_eventP11mb_client_t15mb_event_type_t17mb_client_state_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420client_emit_tx_eventP11mb_client_t15mb_event_type_tPK15mb_client_txn_t8mb_err_t">
<span id="_CPPv320client_emit_tx_eventP11mb_client_t15mb_event_type_tPK15mb_client_txn_t8mb_err_t"></span><span id="_CPPv220client_emit_tx_eventP11mb_client_t15mb_event_type_tPK15mb_client_txn_t8mb_err_t"></span><span id="client_emit_tx_event__mb_client_tP.mb_event_type_t.mb_client_txn_tCP.mb_err_t"></span><span class="target" id="client_8c_1a275f5b767483d91a602d6c5e17ef2907"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_emit_tx_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_event_type_t" title="mb_event_type_t"><span class="n"><span class="pre">mb_event_type_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">status</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420client_emit_tx_eventP11mb_client_t15mb_event_type_tPK15mb_client_txn_t8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423client_transition_stateP11mb_client_t17mb_client_state_t">
<span id="_CPPv323client_transition_stateP11mb_client_t17mb_client_state_t"></span><span id="_CPPv223client_transition_stateP11mb_client_t17mb_client_state_t"></span><span id="client_transition_state__mb_client_tP.mb_client_state_t"></span><span class="target" id="client_8c_1aebbe78333cc9252cc975320bc5e536b9"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_transition_state</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv417mb_client_state_t" title="mb_client_state_t"><span class="n"><span class="pre">mb_client_state_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">next</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423client_transition_stateP11mb_client_t17mb_client_state_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422client_base_timeout_msPK15mb_client_txn_t">
<span id="_CPPv322client_base_timeout_msPK15mb_client_txn_t"></span><span id="_CPPv222client_base_timeout_msPK15mb_client_txn_t"></span><span id="client_base_timeout_ms__mb_client_txn_tCP"></span><span class="target" id="client_8c_1a5882cd0a0ba03c813d8570cb3e99b1e1"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_base_timeout_ms</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422client_base_timeout_msPK15mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425client_current_timeout_msPK15mb_client_txn_t">
<span id="_CPPv325client_current_timeout_msPK15mb_client_txn_t"></span><span id="_CPPv225client_current_timeout_msPK15mb_client_txn_t"></span><span id="client_current_timeout_ms__mb_client_txn_tCP"></span><span class="target" id="client_8c_1a57a8b68f07f4a92354fe5d37445de3a5"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_current_timeout_ms</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425client_current_timeout_msPK15mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422client_base_backoff_msPK15mb_client_txn_t">
<span id="_CPPv322client_base_backoff_msPK15mb_client_txn_t"></span><span id="_CPPv222client_base_backoff_msPK15mb_client_txn_t"></span><span id="client_base_backoff_ms__mb_client_txn_tCP"></span><span class="target" id="client_8c_1a57a2a530af54833388b89713a7eae547"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_base_backoff_ms</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422client_base_backoff_msPK15mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423client_retry_backoff_msPK15mb_client_txn_t">
<span id="_CPPv323client_retry_backoff_msPK15mb_client_txn_t"></span><span id="_CPPv223client_retry_backoff_msPK15mb_client_txn_t"></span><span id="client_retry_backoff_ms__mb_client_txn_tCP"></span><span class="target" id="client_8c_1a5b9dc60d1f57a7414c80250c2b46c962"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_retry_backoff_ms</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423client_retry_backoff_msPK15mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426client_backoff_with_jitterPK15mb_client_txn_t12mb_time_ms_t12mb_time_ms_t">
<span id="_CPPv326client_backoff_with_jitterPK15mb_client_txn_t12mb_time_ms_t12mb_time_ms_t"></span><span id="_CPPv226client_backoff_with_jitterPK15mb_client_txn_t12mb_time_ms_t12mb_time_ms_t"></span><span id="client_backoff_with_jitter__mb_client_txn_tCP.mb_time_ms_t.mb_time_ms_t"></span><span class="target" id="client_8c_1a619e1beef9f610d42175a229e44da6ed"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_backoff_with_jitter</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">base_backoff</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426client_backoff_with_jitterPK15mb_client_txn_t12mb_time_ms_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417client_start_nextP11mb_client_t">
<span id="_CPPv317client_start_nextP11mb_client_t"></span><span id="_CPPv217client_start_nextP11mb_client_t"></span><span id="client_start_next__mb_client_tP"></span><span class="target" id="client_8c_1ad64dba3c91be12d743c32122dc38ee9f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_start_next</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417client_start_nextP11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414client_enqueueP11mb_client_tP15mb_client_txn_t">
<span id="_CPPv314client_enqueueP11mb_client_tP15mb_client_txn_t"></span><span id="_CPPv214client_enqueueP11mb_client_tP15mb_client_txn_t"></span><span id="client_enqueue__mb_client_tP.mb_client_txn_tP"></span><span class="target" id="client_8c_1a6c60774ef944330429079d0462069a0c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_enqueue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414client_enqueueP11mb_client_tP15mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424client_remove_from_queueP11mb_client_tP15mb_client_txn_t">
<span id="_CPPv324client_remove_from_queueP11mb_client_tP15mb_client_txn_t"></span><span id="_CPPv224client_remove_from_queueP11mb_client_tP15mb_client_txn_t"></span><span id="client_remove_from_queue__mb_client_tP.mb_client_txn_tP"></span><span class="target" id="client_8c_1a510750aee9dcbd518eea9698ee7e8a1e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_remove_from_queue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">target</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424client_remove_from_queueP11mb_client_tP15mb_client_txn_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414client_dequeueP11mb_client_t">
<span id="_CPPv314client_dequeueP11mb_client_t"></span><span id="_CPPv214client_dequeueP11mb_client_t"></span><span id="client_dequeue__mb_client_tP"></span><span class="target" id="client_8c_1a9c0f12f01165104b195b2823375938ff"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">client_dequeue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414client_dequeueP11mb_client_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415client_finalizeP11mb_client_tP15mb_client_txn_t8mb_err_tPK13mb_adu_view_t">
<span id="_CPPv315client_finalizeP11mb_client_tP15mb_client_txn_t8mb_err_tPK13mb_adu_view_t"></span><span id="_CPPv215client_finalizeP11mb_client_tP15mb_client_txn_t8mb_err_tPK13mb_adu_view_t"></span><span id="client_finalize__mb_client_tP.mb_client_txn_tP.mb_err_t.mb_adu_view_tCP"></span><span class="target" id="client_8c_1a5473f439c1d4cee2ab18f14ff7227914"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_finalize</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">status</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">response</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415client_finalizeP11mb_client_tP15mb_client_txn_t8mb_err_tPK13mb_adu_view_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423client_prepare_responseP15mb_client_txn_tPK13mb_adu_view_t">
<span id="_CPPv323client_prepare_responseP15mb_client_txn_tPK13mb_adu_view_t"></span><span id="_CPPv223client_prepare_responseP15mb_client_txn_tPK13mb_adu_view_t"></span><span id="client_prepare_response__mb_client_txn_tP.mb_adu_view_tCP"></span><span class="target" id="client_8c_1a7ecdec8a5571cf583227778a0afa44af"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_prepare_response</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423client_prepare_responseP15mb_client_txn_tPK13mb_adu_view_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423client_process_tx_phaseP11mb_client_tP15mb_client_txn_t12mb_time_ms_t">
<span id="_CPPv323client_process_tx_phaseP11mb_client_tP15mb_client_txn_t12mb_time_ms_t"></span><span id="_CPPv223client_process_tx_phaseP11mb_client_tP15mb_client_txn_t12mb_time_ms_t"></span><span id="client_process_tx_phase__mb_client_tP.mb_client_txn_tP.mb_time_ms_t"></span><span class="target" id="client_8c_1a1a887802f2c04931eda83184a06dc685"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_process_tx_phase</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423client_process_tx_phaseP11mb_client_tP15mb_client_txn_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423client_process_rx_phaseP11mb_client_tP15mb_client_txn_t12mb_time_ms_t">
<span id="_CPPv323client_process_rx_phaseP11mb_client_tP15mb_client_txn_t12mb_time_ms_t"></span><span id="_CPPv223client_process_rx_phaseP11mb_client_tP15mb_client_txn_t12mb_time_ms_t"></span><span id="client_process_rx_phase__mb_client_tP.mb_client_txn_tP.mb_time_ms_t"></span><span class="target" id="client_8c_1a2a94bf1471c8c4233bfc0d60a629afb9"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_process_rx_phase</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423client_process_rx_phaseP11mb_client_tP15mb_client_txn_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420client_check_waitingP11mb_client_tP15mb_client_txn_t12mb_time_ms_t">
<span id="_CPPv320client_check_waitingP11mb_client_tP15mb_client_txn_t12mb_time_ms_t"></span><span id="_CPPv220client_check_waitingP11mb_client_tP15mb_client_txn_t12mb_time_ms_t"></span><span id="client_check_waiting__mb_client_tP.mb_client_txn_tP.mb_time_ms_t"></span><span class="target" id="client_8c_1a707b4e043ff4132c9d2e1920e8ae5f5b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_check_waiting</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420client_check_waitingP11mb_client_tP15mb_client_txn_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415client_run_stepP11mb_client_t12mb_time_ms_t">
<span id="_CPPv315client_run_stepP11mb_client_t12mb_time_ms_t"></span><span id="_CPPv215client_run_stepP11mb_client_t12mb_time_ms_t"></span><span id="client_run_step__mb_client_tP.mb_time_ms_t"></span><span class="target" id="client_8c_1a24708f829b26cf8d3781d6d0e28be81a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">client_run_step</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415client_run_stepP11mb_client_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_client_init_commonP11mb_client_tPK17mb_transport_if_tP15mb_client_txn_t9mb_size_t">
<span id="_CPPv321mb_client_init_commonP11mb_client_tPK17mb_transport_if_tP15mb_client_txn_t9mb_size_t"></span><span id="_CPPv221mb_client_init_commonP11mb_client_tPK17mb_transport_if_tP15mb_client_txn_t9mb_size_t"></span><span id="mb_client_init_common__mb_client_tP.mb_transport_if_tCP.mb_client_txn_tP.mb_size_t"></span><span class="target" id="client_8c_1a054e36134e5f7e7533ce3a59c6a26267"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_init_common</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iface</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn_pool</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">txn_pool_len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_client_init_commonP11mb_client_tPK17mb_transport_if_tP15mb_client_txn_t9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a68ca51f665a58084ae934b8fe7dd0691"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_submit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419mb_client_request_t" title="mb_client_request_t"><span class="n"><span class="pre">mb_client_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">request</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_txn</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialises a Modbus client instance bound to a transport. </p>
<p>The client adopts <code class="docutils literal notranslate"><span class="pre">iface</span></code> as its non-blocking transport, clears the transaction pool and applies default timeout/backoff configuration. Callers must provide storage for the transaction descriptors in <code class="docutils literal notranslate"><span class="pre">txn_pool</span></code>.</p>
<p>
Initialises a client instance targeting Modbus TCP transports.</p>
<p>This variant wires the TCP transport helper, enabling transaction ID routing and multi-socket aware callbacks. Parameters mirror mb_client_init.</p>
<p>
Queues a Modbus request for transmission.<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>mb_client_init</p>
</div>
</p>
<p>The request is copied into an available transaction slot. When <code class="docutils literal notranslate"><span class="pre">out_txn</span></code> is not NULL it receives the descriptor so callers can later inspect state or cancel the operation. Requests flagged with <a class="reference internal" href="#client_8h_1a765cdd10d7609f0a8a886b13aa850cba"><span class="std std-ref">MB_CLIENT_REQUEST_HIGH_PRIORITY</span></a> bypass the FIFO order while <a class="reference internal" href="#client_8h_1add7f49ff2da4dd3ec146833231dca439"><span class="std std-ref">MB_CLIENT_REQUEST_POISON</span></a> flushes the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client object to initialise. </p></li>
<li><p><strong>iface</strong> – Transport interface implementing <a class="reference internal" href="#structmb__transport__if__t"><span class="std std-ref">mb_transport_if_t</span></a>. </p></li>
<li><p><strong>txn_pool</strong> – Array of transaction slots managed by the client. </p></li>
<li><p><strong>txn_pool_len</strong> – Number of elements in <code class="docutils literal notranslate"><span class="pre">txn_pool</span></code>.</p></li>
<li><p><strong>client</strong> – Client instance obtained from mb_client_init. </p></li>
<li><p><strong>request</strong> – Immutable request description; payload is copied internally. </p></li>
<li><p><strong>out_txn</strong> – Optional pointer that receives the allocated transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Initialisation succeeded. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – One of the arguments was NULL or invalid.</p></li>
<li><p><strong>MB_OK</strong> – Initialisation succeeded. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – One of the arguments was NULL or invalid.</p></li>
<li><p><strong>MB_OK</strong> – The request was queued successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Arguments were NULL or payload exceeded <a class="reference internal" href="#pdu_8h_1a39d8f0bb73f4a38dfb518fa175b5597f"><span class="std std-ref">MB_PDU_MAX</span></a>. </p></li>
<li><p><strong>MB_ERR_NO_RESOURCES</strong> – No transaction slots or queue capacity available. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a8e83b7f5f548bc7af27d065f23fc2e58"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_submit_poison</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Injects a high-priority poison pill that drains the queue. </p>
<p>The client stops after current work completes, leaving the FSM idle. Useful when shutting down or when transports need to be reconfigured.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Poison request queued successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">client</span></code> was NULL. </p></li>
<li><p><strong>MB_ERR_NO_RESOURCES</strong> – No transaction slot available for the poison pill. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a17eb4ad6d7c5bff4621ae83226a7ef6b"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_cancel</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Cancels a previously submitted transaction. </p>
<p>If the transaction is in-flight it is finalised with <a class="reference internal" href="#mb__err_8h_1a7bc3607577fc920e8c7bce8e355cccaf"><span class="std std-ref">MB_ERR_CANCELLED</span></a>. If it was queued, it is removed from the pending list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>txn</strong> – Transaction descriptor obtained from mb_client_submit.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – The transaction was cancelled successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – The transaction pointer was NULL or not in use. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a9210cd5e34528f1229cb9f512d004c2e"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_poll_with_budget</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">steps</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Advances the client FSM by at most <code class="docutils literal notranslate"><span class="pre">steps</span></code> micro-steps. </p>
<p>This variant mirrors mb_client_poll but enforces a cooperative budget, ensuring the caller regains control after a bounded amount of work. Passing <code class="docutils literal notranslate"><span class="pre">0</span></code> consumes as many steps as required (legacy behaviour).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>steps</strong> – Maximum micro-steps to execute (0 means unbounded).</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Operation succeeded or no work was required. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">client</span></code> was NULL. </p></li>
<li><p><strong>other</strong> – Error codes bubbled up from the active transport. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a69937448e11a18673f7fcb85ed78021e"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_poll</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Advances the client finite-state machine. </p>
<p>Poll this function from your event loop to progress retries, timeouts and transport I/O.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Operation succeeded or no work was required. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">client</span></code> was NULL. </p></li>
<li><p><strong>other</strong> – Error codes bubbled up from the active transport. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a31a697926dcf8397b2347bc13ea09a6b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_watchdog</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">watchdog_ms</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Configures the watchdog window for in-flight transactions. </p>
<p>When non-zero, transactions exceeding <code class="docutils literal notranslate"><span class="pre">watchdog_ms</span></code> without progress are aborted with <a class="reference internal" href="#mb__err_8h_1a303ffb2524bfcdb8802d49148ea1978c"><span class="std std-ref">MB_ERR_TRANSPORT</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>watchdog_ms</strong> – Maximum inactivity window in milliseconds (0 disables). </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a9b1ca2f7d7d4a8153397f546a5738ba5"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_is_idle</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Reports whether the client has no active or queued transactions. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – No transactions active or queued. </p></li>
<li><p><strong>false</strong> – At least one transaction is pending. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1af4bd29ec37c5a1fc81ab9813e9474c0b"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_pending</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the number of transactions currently active or queued. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of transactions in-flight or awaiting dispatch. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a67498bbd1e180fe7ccdc3d81a55f8baf"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_queue_capacity</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Limits the amount of concurrent work accepted by the client. </p>
<p>Set <code class="docutils literal notranslate"><span class="pre">capacity</span></code> to zero to fall back to the pool size (default behaviour).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>capacity</strong> – Maximum number of transactions allowed simultaneously. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a87a69cd7acc75b13df582534b2b8e6ef"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_queue_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Retrieves the current queue capacity limit. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Configured queue capacity (0 when <code class="docutils literal notranslate"><span class="pre">client</span></code> is NULL). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a0324062f844e933567b1052d9ae9125f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_fc_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Overrides the timeout for a specific function code. </p>
<p>Passing a zero timeout clears the override and reverts to the default exponential strategy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>function</strong> – Function code to override. </p></li>
<li><p><strong>timeout_ms</strong> – New timeout in milliseconds (0 clears override). </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1ac979f2e5cb7d13404cdf432695677b34"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_get_metrics</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv419mb_client_metrics_t" title="mb_client_metrics_t"><span class="n"><span class="pre">mb_client_metrics_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_metrics</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Copies the current client metrics into <code class="docutils literal notranslate"><span class="pre">out_metrics</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>out_metrics</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a898cecfee36e5182ebb50f23815d5d03"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_reset_metrics</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Resets all accumulated client metrics back to zero. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a212f352c64102a4ff41e5f20101ce3cb"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_get_diag</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_diag</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Copies diagnostic counters into <code class="docutils literal notranslate"><span class="pre">out_diag</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>out_diag</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1aef47ed214d3b12da7c05058e701f5d16"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_get_diag_snapshot</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_snapshot_t" title="mb_diag_snapshot_t"><span class="n"><span class="pre">mb_diag_snapshot_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_snapshot</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Captures a snapshot of diagnostic counters and trace entries. </p>
<p>Trace data is only populated when <a class="reference internal" href="#conf_8h_1ae08804ec3932f4e631bf5a00fb9dda3c"><span class="std std-ref">MB_CONF_DIAG_ENABLE_TRACE</span></a> is enabled at build time. The snapshot is safe to inspect outside of the polling context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>out_snapshot</strong> – Destination snapshot; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a26ec61f6eab3953cf76501f522e9f2da"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_reset_diag</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Clears the diagnostic counters collected for this client. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1a82173f682c01703acc4dc3d18983189d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_event_callback</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv419mb_event_callback_t" title="mb_event_callback_t"><span class="n"><span class="pre">mb_event_callback_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">callback</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Registers an event callback to observe client activity. </p>
<p>When <code class="docutils literal notranslate"><span class="pre">callback</span></code> is non-NULL the current state is emitted immediately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>callback</strong> – Event sink invoked on state and transaction updates. </p></li>
<li><p><strong>user_ctx</strong> – Opaque pointer forwarded to <code class="docutils literal notranslate"><span class="pre">callback</span></code>. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8c_1ae124b55c97dede90cf0b0a6f87d49510"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_trace_hex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">enable</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Toggles hexadecimal tracing of TX/RX PDUs to the logging sink. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>enable</strong> – <code class="docutils literal notranslate"><span class="pre">true</span></code> to enable tracing, <code class="docutils literal notranslate"><span class="pre">false</span></code> to disable. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="client__sync_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">client_sync.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client__sync_8h"><span class="std std-ref">modbus/client_sync.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client_8h"><span class="std std-ref">modbus/client.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#pdu_8h"><span class="std std-ref">modbus/pdu.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport__if_8h"><span class="std std-ref">modbus/transport_if.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client__sync_8c_1a2e146dba8b62c8a998cfb6dc4224665f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_sync_opts_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv421mb_client_sync_opts_t" title="mb_client_sync_opts_t"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">opts</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialises <code class="docutils literal notranslate"><span class="pre">opts</span></code> with the default synchronous settings. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>opts</strong> – Options structure to initialise (must not be NULL). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427mb_client_sync_resolve_optsPK21mb_client_sync_opts_tP21mb_client_sync_opts_t">
<span id="_CPPv327mb_client_sync_resolve_optsPK21mb_client_sync_opts_tP21mb_client_sync_opts_t"></span><span id="_CPPv227mb_client_sync_resolve_optsPK21mb_client_sync_opts_tP21mb_client_sync_opts_t"></span><span id="mb_client_sync_resolve_opts__mb_client_sync_opts_tCP.mb_client_sync_opts_tP"></span><span class="target" id="client__sync_8c_1ad87a6a32adafb1c15de221c5cdd01906"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421mb_client_sync_opts_t" title="mb_client_sync_opts_t"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_sync_resolve_opts</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421mb_client_sync_opts_t" title="mb_client_sync_opts_t"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">opts</span></span>, <a class="reference internal" href="#_CPPv421mb_client_sync_opts_t" title="mb_client_sync_opts_t"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">scratch</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427mb_client_sync_resolve_optsPK21mb_client_sync_opts_tP21mb_client_sync_opts_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mb_client_sync_callbackP11mb_client_tPK15mb_client_txn_t8mb_err_tPK13mb_adu_view_tPv">
<span id="_CPPv323mb_client_sync_callbackP11mb_client_tPK15mb_client_txn_t8mb_err_tPK13mb_adu_view_tPv"></span><span id="_CPPv223mb_client_sync_callbackP11mb_client_tPK15mb_client_txn_t8mb_err_tPK13mb_adu_view_tPv"></span><span id="mb_client_sync_callback__mb_client_tP.mb_client_txn_tCP.mb_err_t.mb_adu_view_tCP.voidP"></span><span class="target" id="client__sync_8c_1a581a4219019ba6c090ffae205cc06420"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_sync_callback</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">status</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">response</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mb_client_sync_callbackP11mb_client_tPK15mb_client_txn_t8mb_err_tPK13mb_adu_view_tPv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419mb_client_sync_waitP11mb_client_tP15mb_client_txn_tP22mb_client_sync_state_tPK21mb_client_sync_opts_t">
<span id="_CPPv319mb_client_sync_waitP11mb_client_tP15mb_client_txn_tP22mb_client_sync_state_tPK21mb_client_sync_opts_t"></span><span id="_CPPv219mb_client_sync_waitP11mb_client_tP15mb_client_txn_tP22mb_client_sync_state_tPK21mb_client_sync_opts_t"></span><span id="mb_client_sync_wait__mb_client_tP.mb_client_txn_tP.mb_client_sync_state_tP.mb_client_sync_opts_tCP"></span><span class="target" id="client__sync_8c_1aac8252f3ddeed8c011fe3f107b2bc1cd"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_sync_wait</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <a class="reference internal" href="#_CPPv422mb_client_sync_state_t" title="mb_client_sync_state_t"><span class="n"><span class="pre">mb_client_sync_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421mb_client_sync_opts_t" title="mb_client_sync_opts_t"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">opts</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419mb_client_sync_waitP11mb_client_tP15mb_client_txn_tP22mb_client_sync_state_tPK21mb_client_sync_opts_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421mb_client_sync_submitP11mb_client_tP19mb_client_request_tP22mb_client_sync_state_tPK21mb_client_sync_opts_t">
<span id="_CPPv321mb_client_sync_submitP11mb_client_tP19mb_client_request_tP22mb_client_sync_state_tPK21mb_client_sync_opts_t"></span><span id="_CPPv221mb_client_sync_submitP11mb_client_tP19mb_client_request_tP22mb_client_sync_state_tPK21mb_client_sync_opts_t"></span><span id="mb_client_sync_submit__mb_client_tP.mb_client_request_tP.mb_client_sync_state_tP.mb_client_sync_opts_tCP"></span><span class="target" id="client__sync_8c_1afc90eaef5cb5a3552b4c16878b11a64d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_sync_submit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv419mb_client_request_t" title="mb_client_request_t"><span class="n"><span class="pre">mb_client_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">request</span></span>, <a class="reference internal" href="#_CPPv422mb_client_sync_state_t" title="mb_client_sync_state_t"><span class="n"><span class="pre">mb_client_sync_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421mb_client_sync_opts_t" title="mb_client_sync_opts_t"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">opts</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421mb_client_sync_submitP11mb_client_tP19mb_client_request_tP22mb_client_sync_state_tPK21mb_client_sync_opts_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client__sync_8c_1a2812dc78f274df45d5d12ff5be673d0a"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_read_holding_sync</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_registers</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421mb_client_sync_opts_t" title="mb_client_sync_opts_t"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">opts</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Read holding registers using a blocking workflow (FC 0x03). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Initialised Modbus client. </p></li>
<li><p><strong>unit_id</strong> – Target Modbus unit identifier (1-247). </p></li>
<li><p><strong>address</strong> – Starting register address. </p></li>
<li><p><strong>count</strong> – Number of registers to read (1-125). </p></li>
<li><p><strong>out_registers</strong> – Output buffer that can hold <code class="docutils literal notranslate"><span class="pre">count</span></code> registers. </p></li>
<li><p><strong>opts</strong> – Optional synchronous options (pass NULL for defaults).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success or an error code from <a class="reference internal" href="#mb__err_8h_1ad853da11a0b339273b727c045c94f148"><span class="std std-ref">mb_err_t</span></a>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client__sync_8c_1a53c293f0e0354f619599209f26bb1efc"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_write_register_sync</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv421mb_client_sync_opts_t" title="mb_client_sync_opts_t"><span class="n"><span class="pre">mb_client_sync_opts_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">opts</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Write a single holding register (FC 0x06) using a blocking workflow. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Initialised Modbus client. </p></li>
<li><p><strong>unit_id</strong> – Target Modbus unit identifier (1-247). </p></li>
<li><p><strong>address</strong> – Register address to write. </p></li>
<li><p><strong>value</strong> – Value to store. </p></li>
<li><p><strong>opts</strong> – Optional synchronous options (pass NULL for defaults).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success or an error code from <a class="reference internal" href="#mb__err_8h_1ad853da11a0b339273b727c045c94f148"><span class="std std-ref">mb_err_t</span></a>. </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">libmodbus.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#libmodbus_8h"><span class="std std-ref">modbus/compat/libmodbus.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#modbus-errno_8h"><span class="std std-ref">modbus/compat/modbus-errno.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__host_8h"><span class="std std-ref">modbus/mb_host.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;errno.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdio.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdlib.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ENOTCONN">
<span class="target" id="libmodbus_8c_1af23e48762a0676f49d480db91cfd5e4b"></span><span class="sig-name descname"><span class="n"><span class="pre">ENOTCONN</span></span></span><a class="headerlink" href="#c.ENOTCONN" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.ENOTSUP">
<span class="target" id="libmodbus_8c_1a91457bbf35f0f1085619a99423bb1f33"></span><span class="sig-name descname"><span class="n"><span class="pre">ENOTSUP</span></span></span><a class="headerlink" href="#c.ENOTSUP" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.COMPAT_DEFAULT_TIMEOUT_MS">
<span class="target" id="libmodbus_8c_1aa752616adb8d591032211f2fb3dba2a9"></span><span class="sig-name descname"><span class="n"><span class="pre">COMPAT_DEFAULT_TIMEOUT_MS</span></span></span><a class="headerlink" href="#c.COMPAT_DEFAULT_TIMEOUT_MS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv423modbus_compat_backend_t">
<span id="_CPPv323modbus_compat_backend_t"></span><span id="_CPPv223modbus_compat_backend_t"></span><span class="target" id="libmodbus_8c_1a5adf3ed8dc49eea05afc3a7ebf95de3b"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_compat_backend_t</span></span></span><a class="headerlink" href="#_CPPv423modbus_compat_backend_t" title="Link to this definition"></a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23modbus_compat_backend_t26MODBUS_COMPAT_BACKEND_NONEE">
<span id="_CPPv3N23modbus_compat_backend_t26MODBUS_COMPAT_BACKEND_NONEE"></span><span id="_CPPv2N23modbus_compat_backend_t26MODBUS_COMPAT_BACKEND_NONEE"></span><span class="target" id="libmodbus_8c_1a5adf3ed8dc49eea05afc3a7ebf95de3ba4391eb7d904fd1ae958029c7a3375370"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_COMPAT_BACKEND_NONE</span></span></span><a class="headerlink" href="#_CPPv4N23modbus_compat_backend_t26MODBUS_COMPAT_BACKEND_NONEE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23modbus_compat_backend_t25MODBUS_COMPAT_BACKEND_RTUE">
<span id="_CPPv3N23modbus_compat_backend_t25MODBUS_COMPAT_BACKEND_RTUE"></span><span id="_CPPv2N23modbus_compat_backend_t25MODBUS_COMPAT_BACKEND_RTUE"></span><span class="target" id="libmodbus_8c_1a5adf3ed8dc49eea05afc3a7ebf95de3ba7a75a38c19dc2ce09778512ca0da2be8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_COMPAT_BACKEND_RTU</span></span></span><a class="headerlink" href="#_CPPv4N23modbus_compat_backend_t25MODBUS_COMPAT_BACKEND_RTUE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23modbus_compat_backend_t25MODBUS_COMPAT_BACKEND_TCPE">
<span id="_CPPv3N23modbus_compat_backend_t25MODBUS_COMPAT_BACKEND_TCPE"></span><span id="_CPPv2N23modbus_compat_backend_t25MODBUS_COMPAT_BACKEND_TCPE"></span><span class="target" id="libmodbus_8c_1a5adf3ed8dc49eea05afc3a7ebf95de3ba2ed64ac3a3742d7078db9a727c359248"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_COMPAT_BACKEND_TCP</span></span></span><a class="headerlink" href="#_CPPv4N23modbus_compat_backend_t25MODBUS_COMPAT_BACKEND_TCPE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416clamp_timeout_ms8uint64_t">
<span id="_CPPv316clamp_timeout_ms8uint64_t"></span><span id="_CPPv216clamp_timeout_ms8uint64_t"></span><span id="clamp_timeout_ms__uint64_t"></span><span class="target" id="libmodbus_8c_1ad4afc3628157317f27a78efe01089f85"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">clamp_timeout_ms</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">total_us</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416clamp_timeout_ms8uint64_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422map_exception_to_errno8mb_err_t">
<span id="_CPPv322map_exception_to_errno8mb_err_t"></span><span id="_CPPv222map_exception_to_errno8mb_err_t"></span><span id="map_exception_to_errno__mb_err_t"></span><span class="target" id="libmodbus_8c_1a2add7531bc1fc78c6658bd1fd0b5c7d9"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">map_exception_to_errno</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422map_exception_to_errno8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418map_error_to_errno8mb_err_t">
<span id="_CPPv318map_error_to_errno8mb_err_t"></span><span id="_CPPv218map_error_to_errno8mb_err_t"></span><span id="map_error_to_errno__mb_err_t"></span><span class="target" id="libmodbus_8c_1a008f5e9898435b402916090ffb8d3cec"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">map_error_to_errno</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418map_error_to_errno8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415propagate_errorP8modbus_t8mb_err_t">
<span id="_CPPv315propagate_errorP8modbus_t8mb_err_t"></span><span id="_CPPv215propagate_errorP8modbus_t8mb_err_t"></span><span id="propagate_error__modbus_tP.mb_err_t"></span><span class="target" id="libmodbus_8c_1ab11f2c4721c3ad0f1c7dee9ecc2e8472"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">propagate_error</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415propagate_errorP8modbus_t8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416ensure_connectedP8modbus_t">
<span id="_CPPv316ensure_connectedP8modbus_t"></span><span id="_CPPv216ensure_connectedP8modbus_t"></span><span id="ensure_connected__modbus_tP"></span><span class="target" id="libmodbus_8c_1ad8521d670d9c56f6c6696be02e5c2c9a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ensure_connected</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416ensure_connectedP8modbus_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv413alloc_contextv">
<span id="_CPPv313alloc_contextv"></span><span id="_CPPv213alloc_contextv"></span><span id="alloc_context__void"></span><span class="target" id="libmodbus_8c_1a64839b618ac2d3f20ec8a5413b686d5a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">alloc_context</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413alloc_contextv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1a3e78d24b092087367f52d7fabcb0d44a"></span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">modbus_new_rtu</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">device</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">baud</span></span>, <span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">parity</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">data_bit</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">stop_bit</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1a2d4c1b9e3d6e9ef50ef93e8003039ee3"></span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">modbus_new_tcp</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ip</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">port</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1a247094db217e5f69a84778eb7a6ac2a9"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_free</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv411connect_rtuP8modbus_t">
<span id="_CPPv311connect_rtuP8modbus_t"></span><span id="_CPPv211connect_rtuP8modbus_t"></span><span id="connect_rtu__modbus_tP"></span><span class="target" id="libmodbus_8c_1a115b4890b19d9474e7f29b1e6e3bceb0"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">connect_rtu</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411connect_rtuP8modbus_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv411connect_tcpP8modbus_t">
<span id="_CPPv311connect_tcpP8modbus_t"></span><span id="_CPPv211connect_tcpP8modbus_t"></span><span id="connect_tcp__modbus_tP"></span><span class="target" id="libmodbus_8c_1a727ec953d3e8bcebf009069d50574bfd"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">connect_tcp</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411connect_tcpP8modbus_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1a1f6c049e4c78cf8ed6c337b6082d5e62"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_connect</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1acd520c15281fa6da987f04446b4c0360"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_close</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1a95465adfa3fbcffdb782d90e45ec94d5"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_set_slave</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">slave</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1ad24e3a3f97fcb0640ca07347c7c53f21"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_get_slave</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1a821205aebf42434bf730802130e97edf"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_set_response_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">seconds</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">microseconds</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1af46d9f7181ab83e9c2d91fd71139154b"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_get_response_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">seconds</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">microseconds</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1a3426e63a71ea4066488b8c9f5016d6b7"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_set_debug</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">flag</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1a3947dfcea40733de4044eae5204f906e"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_read_registers</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nb</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dest</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1a56cedf9a28eb5179c5663d73bcf87812"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_write_register</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1a95b46fa5c37790a4503a6b530b5dd5d8"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_write_registers</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">nb</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1ab1a57e72626e4120e009d4bec364ea55"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_flush</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48modbus_t" title="modbus_t"><span class="n"><span class="pre">modbus_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Compatibility no-op matching libmodbus <code class="docutils literal notranslate"><span class="pre">modbus_flush</span></code>. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1a934ff1bb4d1d28f0bcfad5b9a03db37e"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">modbus_strerror</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">errnum</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Human-readable error string for both system and Modbus specific errors. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="libmodbus_8c_1aad78b01debc1065ecec49e6daa015bbe"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_errno</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="m"><span class="pre">0</span></span><br /></dt>
<dd><p>Global error value mirroring libmodbus’ <code class="docutils literal notranslate"><span class="pre">modbus_errno</span></code> symbol. </p>
<p>This mirrors <code class="docutils literal notranslate"><span class="pre">errno</span></code> but keeps Modbus-specific values (EMB*) even on platforms where the global <code class="docutils literal notranslate"><span class="pre">errno</span></code> is thread-local. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="core_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">core.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#core_8h"><span class="std std-ref">modbus/core.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#frame_8h"><span class="std std-ref">modbus/frame.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport__if_8h"><span class="std std-ref">modbus/transport_if.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-unnamed-group">Unnamed Group</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MODBUS_INTERFRAME_TIMEOUT_MS">
<span class="target" id="core_8c_1a3b31fef5d4d2e9de32ec1caa5efc9e53"></span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_INTERFRAME_TIMEOUT_MS</span></span></span><a class="headerlink" href="#c.MODBUS_INTERFRAME_TIMEOUT_MS" title="Link to this definition"></a><br /></dt>
<dd><p>Time in milliseconds to wait between frames </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MODBUS_BYTE_TIMEOUT_MS">
<span class="target" id="core_8c_1a567fa921b8e46ede6b98b2bfd909206c"></span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_BYTE_TIMEOUT_MS</span></span></span><a class="headerlink" href="#c.MODBUS_BYTE_TIMEOUT_MS" title="Link to this definition"></a><br /></dt>
<dd><p>Time in milliseconds to wait between bytes </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="core_8c_1a94862c52e2fcb8c653b1758d0d37986a"></span><a class="reference internal" href="#_CPPv414modbus_error_t" title="modbus_error_t"><span class="n"><span class="pre">modbus_error_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_exception_to_error</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">exception_code</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="core_8c_1ad3fb808adca47fc86efcca19042f38c3"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_reset_buffers</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416modbus_context_t" title="modbus_context_t"><span class="n"><span class="pre">modbus_context_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dup__filter_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">dup_filter.c</span></span></dt>
<dd><div class="docutils container">
<em>#include “<a class="reference internal" href="#dup__filter_8h"><span class="std std-ref">modbus/dup_filter.h</span></a>”</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<p>Duplicate frame filtering implementation. </p>
<p>Copyright (c) 2025 ModbusCore SPDX-License-Identifier: MIT </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="dup__filter_8c_1a28b6e274bb5e598ec6161a3eacb4b74c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">window_ms</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize duplicate filter. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Duplicate filter context </p></li>
<li><p><strong>window_ms</strong> – Time window for duplicate detection (0 = use default) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="dup__filter_8c_1afca89aa217243f6a49cbffdd635c8662"></span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_adu_hash</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">slave_addr</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">fc</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">data_len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Compute lightweight ADU hash. </p>
<p>Computes a simple hash based on:<ul class="simple">
<li><p>Slave address</p></li>
<li><p>Function code</p></li>
<li><p>First 4 data bytes (if available)</p></li>
</ul>
</p>
<p>This is intentionally simple and fast, optimized for embedded systems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slave_addr</strong> – Slave address </p></li>
<li><p><strong>fc</strong> – Function code </p></li>
<li><p><strong>data</strong> – Frame data (after FC) </p></li>
<li><p><strong>data_len</strong> – Data length </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>32-bit hash value </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="dup__filter_8c_1abbb28237e877cc4bedbb33a073385aec"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_check</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">hash</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">now_ms</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Check if frame is a recent duplicate. </p>
<p>Searches the hash window for a matching hash within the time window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Duplicate filter context </p></li>
<li><p><strong>hash</strong> – Frame hash (from mb_adu_hash) </p></li>
<li><p><strong>now_ms</strong> – Current timestamp </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if duplicate found, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="dup__filter_8c_1a3d137a7d3a19f04680bc49b8dd295c49"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_add</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">hash</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">now_ms</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Add frame hash to filter. </p>
<p>Records this frame’s hash so future duplicates can be detected. Automatically evicts oldest entries when window is full.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Duplicate filter context </p></li>
<li><p><strong>hash</strong> – Frame hash </p></li>
<li><p><strong>now_ms</strong> – Current timestamp </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="dup__filter_8c_1a50fe6d8fa0042a29010f4acfa5246206"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_age_out</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">now_ms</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Age out old entries. </p>
<p>Removes entries older than the time window. Called automatically by check/add, but can be called manually for periodic cleanup.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Duplicate filter context </p></li>
<li><p><strong>now_ms</strong> – Current timestamp </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of entries aged out </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="dup__filter_8c_1ab72c0214b0722f4dc71200d2fe4e0cba"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_get_stats</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">checked</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">duplicates</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">false_pos</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get duplicate filter statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Duplicate filter context </p></li>
<li><p><strong>checked</strong> – Output: total frames checked </p></li>
<li><p><strong>duplicates</strong> – Output: duplicates found </p></li>
<li><p><strong>false_pos</strong> – Output: false positives (hash collisions) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="dup__filter_8c_1adbc4e7f6db4b507593c7aac383032d49"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_reset_stats</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Reset duplicate filter statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> – Duplicate filter context </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="dup__filter_8c_1a5471a30ced5e1d807c1b94180524982f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_dup_filter_clear</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_dup_filter_t" title="mb_dup_filter_t"><span class="n"><span class="pre">mb_dup_filter_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">df</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Clear all entries from filter. </p>
<p>Removes all hash entries. Useful after communication errors or when switching to a different slave.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> – Duplicate filter context </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="features_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">features.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#features_8h"><span class="std std-ref">modbus/features.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#pdu_8h"><span class="std std-ref">modbus/pdu.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_BOOL_FROM_FLAG">
<span class="target" id="features_8c_1aa82e55186ab2c85ba91980ee098b0091"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_BOOL_FROM_FLAG</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">flag</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MB_BOOL_FROM_FLAG" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_FEATURE_PROFILE_NAME">
<span class="target" id="features_8c_1a6fd0fb37388f3c4745eb66a32299fd3a"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_FEATURE_PROFILE_NAME</span></span></span><a class="headerlink" href="#c.MB_FEATURE_PROFILE_NAME" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_FEATURE_FUNCTION_CODE_COUNT">
<span class="target" id="features_8c_1ae4ac3b60c9fb564b2f187e1b29b7d516"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_FEATURE_FUNCTION_CODE_COUNT</span></span></span><a class="headerlink" href="#c.MB_FEATURE_FUNCTION_CODE_COUNT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_FEATURE_FUNCTION_CODES_PTR">
<span class="target" id="features_8c_1ac48a2fd22343aa0ace9550a245c0f5e5"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_FEATURE_FUNCTION_CODES_PTR</span></span></span><a class="headerlink" href="#c.MB_FEATURE_FUNCTION_CODES_PTR" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv430mb_feature_function_codes_data">
<span id="_CPPv330mb_feature_function_codes_data"></span><span id="_CPPv230mb_feature_function_codes_data"></span><span id="mb_feature_function_codes_data__mb_u8CA"></span><span class="target" id="features_8c_1a0c3b363d36be80f5a811e44ffed9edf3"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_feature_function_codes_data</span></span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv430mb_feature_function_codes_data" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="features_8c_1ac9c9e8b010b024fd1407f3e5be124782"></span><span class="sig-name descname"><span class="pre">const</span> <span class="pre">mb_feature_profile_t</span> <span class="pre">mb_feature_profile</span>&#160; <span class="pre">=</span> <span class="pre">{.profile_id</span> <span class="pre">=MB_CONF_PROFILE,.profile_name</span> <span class="pre">=MB_FEATURE_PROFILE_NAME,.build_client</span> <span class="pre">=MB_BOOL_FROM_FLAG(MB_CONF_BUILD_CLIENT),.build_server</span> <span class="pre">=MB_BOOL_FROM_FLAG(MB_CONF_BUILD_SERVER),.transport_rtu</span> <span class="pre">=MB_BOOL_FROM_FLAG(MB_CONF_TRANSPORT_RTU),.transport_ascii</span> <span class="pre">=MB_BOOL_FROM_FLAG(MB_CONF_TRANSPORT_ASCII),.transport_tcp</span> <span class="pre">=MB_BOOL_FROM_FLAG(MB_CONF_TRANSPORT_TCP),.port_mutex</span> <span class="pre">=MB_BOOL_FROM_FLAG(MB_CONF_PORT_MUTEX),.port_posix</span> <span class="pre">=MB_BOOL_FROM_FLAG(MB_CONF_PORT_POSIX),.function_codes</span> <span class="pre">=MB_FEATURE_FUNCTION_CODES_PTR,.function_code_count</span> <span class="pre">=MB_FEATURE_FUNCTION_CODE_COUNT,}</span></span></dt>
<dd><p>Global feature descriptor emitted into .rodata. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="frame_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">frame.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#frame_8h"><span class="std std-ref">modbus/frame.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#pdu_8h"><span class="std std-ref">modbus/pdu.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#utils_8h"><span class="std std-ref">modbus/utils.h</span></a>&gt;</em></div>
<p>Implementation of Modbus ADU framing helpers. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="frame_8c_1a795de11db778d55299d2978ba4b0ab42"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_frame_rtu_encode</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_adu</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">out_cap</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Builds an RTU frame from the supplied ADU view. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="frame_8c_1a386d39de1f3b0145074e5da4d42088b6"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_frame_rtu_decode</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">adu_len</span></span>, <a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Parses an RTU frame, validating CRC and extracting the ADU view. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="fsm_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">fsm.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#fsm_8h"><span class="std std-ref">modbus/fsm.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<p>Finite State Machine (FSM) framework implementation. </p>
<p>This file implements the functions declared in <code class="docutils literal notranslate"><a class="reference internal" href="#fsm_8h"><span class="std std-ref"><span class="pre">fsm.h</span></span></a></code>. It provides a simple event-driven finite state machine framework where events are queued, and the state machine processes these events to potentially trigger state transitions. Actions and guard conditions can be defined for each transition.</p>
<p>The FSM is designed to be non-blocking and can be integrated into a main loop or a cooperative multitasking environment. This makes it suitable for use in embedded systems, including those implementing communication protocols such as Modbus Client and Server.</p>
<p><strong>Key Features:</strong><ul class="simple">
<li><p>Initialization of the FSM with an initial state and optional user data.</p></li>
<li><p>Handling and queuing of events in a thread-safe manner.</p></li>
<li><p>Processing of events to execute state transitions based on defined transitions.</p></li>
<li><p>Execution of actions associated with transitions.</p></li>
<li><p>Support for guard conditions to control transition eligibility.</p></li>
</ul>
</p>
<p><strong>Usage Example:</strong> <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Define</span> <span class="n">action</span> <span class="ow">and</span> <span class="n">guard</span> <span class="n">callbacks</span>
<span class="n">void</span> <span class="n">on_enter_state</span><span class="p">(</span><span class="n">fsm_t</span> <span class="o">*</span><span class="n">fsm</span><span class="p">)</span> <span class="p">{</span> 
    <span class="o">//</span> <span class="n">Action</span> <span class="n">to</span> <span class="n">perform</span> <span class="n">upon</span> <span class="n">entering</span> <span class="n">a</span> <span class="n">new</span> <span class="n">state</span>
<span class="p">}</span>

<span class="nb">bool</span> <span class="n">guard_condition</span><span class="p">(</span><span class="n">fsm_t</span> <span class="o">*</span><span class="n">fsm</span><span class="p">)</span> <span class="p">{</span> 
    <span class="o">//</span> <span class="n">Condition</span> <span class="n">to</span> <span class="n">allow</span> <span class="n">transition</span>
    <span class="k">return</span> <span class="n">true</span><span class="p">;</span> 
<span class="p">}</span>

<span class="o">//</span> <span class="n">Define</span> <span class="n">transitions</span> <span class="k">for</span> <span class="n">the</span> <span class="n">IDLE</span> <span class="n">state</span>
<span class="n">static</span> <span class="n">const</span> <span class="n">fsm_transition_t</span> <span class="n">state_idle_transitions</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">FSM_TRANSITION</span><span class="p">(</span><span class="n">EVENT_START</span><span class="p">,</span> <span class="n">state_running</span><span class="p">,</span> <span class="n">on_enter_state</span><span class="p">,</span> <span class="n">guard_condition</span><span class="p">)</span>
<span class="p">};</span>

<span class="o">//</span> <span class="n">Define</span> <span class="n">the</span> <span class="n">IDLE</span> <span class="n">state</span>
<span class="n">static</span> <span class="n">const</span> <span class="n">fsm_state_t</span> <span class="n">state_idle</span> <span class="o">=</span> <span class="n">FSM_STATE</span><span class="p">(</span><span class="s2">&quot;IDLE&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">state_idle_transitions</span><span class="p">,</span> <span class="n">NULL</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Define</span> <span class="n">transitions</span> <span class="k">for</span> <span class="n">the</span> <span class="n">RUNNING</span> <span class="n">state</span>
<span class="n">static</span> <span class="n">const</span> <span class="n">fsm_transition_t</span> <span class="n">state_running_transitions</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">FSM_TRANSITION</span><span class="p">(</span><span class="n">EVENT_STOP</span><span class="p">,</span> <span class="n">state_idle</span><span class="p">,</span> <span class="n">on_exit_state</span><span class="p">,</span> <span class="n">NULL</span><span class="p">)</span>
<span class="p">};</span>

<span class="o">//</span> <span class="n">Define</span> <span class="n">the</span> <span class="n">RUNNING</span> <span class="n">state</span>
<span class="n">static</span> <span class="n">const</span> <span class="n">fsm_state_t</span> <span class="n">state_running</span> <span class="o">=</span> <span class="n">FSM_STATE</span><span class="p">(</span><span class="s2">&quot;RUNNING&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">state_running_transitions</span><span class="p">,</span> <span class="n">on_run_action</span><span class="p">);</span>

<span class="o">//</span> <span class="n">Initialize</span> <span class="ow">and</span> <span class="n">use</span> <span class="n">the</span> <span class="n">FSM</span>
<span class="n">fsm_t</span> <span class="n">my_fsm</span><span class="p">;</span>
<span class="n">fsm_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_fsm</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">state_idle</span><span class="p">,</span> <span class="n">NULL</span><span class="p">);</span>
<span class="n">fsm_handle_event</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_fsm</span><span class="p">,</span> <span class="n">EVENT_START</span><span class="p">);</span>
<span class="n">fsm_run</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_fsm</span><span class="p">);</span>  <span class="o">//</span> <span class="n">Processes</span> <span class="n">EVENT_START</span> <span class="ow">and</span> <span class="n">transitions</span> <span class="n">to</span> <span class="n">RUNNING</span> <span class="n">state</span><span class="o">.</span>
</pre></div>
</div>
</p>
<p><div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#fsm_8h"><span class="std std-ref">fsm.h</span></a></p>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><ul class="simple">
<li><p>Ensure that states are defined before they are referenced in transitions.</p></li>
<li><p>The FSM framework is designed to be thread-safe; however, ensure that event handling and state transitions are managed appropriately in concurrent environments.</p></li>
</ul>
</p>
</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-unnamed-group">Unnamed Group</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419get_current_time_msv">
<span id="_CPPv319get_current_time_msv"></span><span id="_CPPv219get_current_time_msv"></span><span id="get_current_time_ms__void"></span><span class="target" id="fsm_8c_1aa690a3241e9f47423bbdcb8290b87f1c"></span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">get_current_time_ms</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419get_current_time_msv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv47fsm_nowPK5fsm_t">
<span id="_CPPv37fsm_nowPK5fsm_t"></span><span id="_CPPv27fsm_nowPK5fsm_t"></span><span id="fsm_now__fsm_tCP"></span><span class="target" id="fsm_8c_1ae7182176d5b7c293177982153f0a33d7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsm_now</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45fsm_t" title="fsm_t"><span class="n"><span class="pre">fsm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">fsm</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv47fsm_nowPK5fsm_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415fsm_queue_resetP5fsm_t">
<span id="_CPPv315fsm_queue_resetP5fsm_t"></span><span id="_CPPv215fsm_queue_resetP5fsm_t"></span><span id="fsm_queue_reset__fsm_tP"></span><span class="target" id="fsm_8c_1a055eca9fc55a13e9b3f9913670136f99"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsm_queue_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv45fsm_t" title="fsm_t"><span class="n"><span class="pre">fsm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">fsm</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415fsm_queue_resetP5fsm_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414fsm_bind_queueP5fsm_tPK12fsm_config_t">
<span id="_CPPv314fsm_bind_queueP5fsm_tPK12fsm_config_t"></span><span id="_CPPv214fsm_bind_queueP5fsm_tPK12fsm_config_t"></span><span id="fsm_bind_queue__fsm_tP.fsm_config_tCP"></span><span class="target" id="fsm_8c_1a13ded5675b7cebf203d7fd60a945b166"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsm_bind_queue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv45fsm_t" title="fsm_t"><span class="n"><span class="pre">fsm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">fsm</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412fsm_config_t" title="fsm_config_t"><span class="n"><span class="pre">fsm_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414fsm_bind_queueP5fsm_tPK12fsm_config_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="log_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">log.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#log_8h"><span class="std std-ref">modbus/log.h</span></a>&gt;</em></div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mapping_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mapping.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mapping_8h"><span class="std std-ref">modbus/mapping.h</span></a>&gt;</em></div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__client__convenience_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_client_convenience.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client_8h"><span class="std std-ref">modbus/client.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#pdu_8h"><span class="std std-ref">modbus/pdu.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<p>High-level convenience functions for common Modbus operations. </p>
<p>This module provides function-code-specific helpers that build PDUs and submit requests via mb_client_submit(). These functions are used by both async embedded applications and blocking desktop wrappers (mb_quick).</p>
<p>All functions return immediately after submitting the request. Callers must poll the client FSM and inspect the returned transaction to get results. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv434mb_client_prepare_standard_requestP19mb_client_request_t7uint8_tPK7uint8_t9mb_size_t">
<span id="_CPPv334mb_client_prepare_standard_requestP19mb_client_request_t7uint8_tPK7uint8_t9mb_size_t"></span><span id="_CPPv234mb_client_prepare_standard_requestP19mb_client_request_t7uint8_tPK7uint8_t9mb_size_t"></span><span id="mb_client_prepare_standard_request__mb_client_request_tP.uint8_t.uint8_tCP.mb_size_t"></span><span class="target" id="mb__client__convenience_8c_1a22675f7058e0e167a817da405476ae68"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_prepare_standard_request</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mb_client_request_t" title="mb_client_request_t"><span class="n"><span class="pre">mb_client_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pdu</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">payload_len</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv434mb_client_prepare_standard_requestP19mb_client_request_t7uint8_tPK7uint8_t9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__err_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_err.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__err_8c_1ac231325f95d438292e9d8847a6d3359f"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_err_str</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_host.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__host_8h"><span class="std std-ref">modbus/mb_host.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#client_8h"><span class="std std-ref">modbus/client.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport_8h"><span class="std std-ref">modbus/transport.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__log_8h"><span class="std std-ref">modbus/mb_log.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#pdu_8h"><span class="std std-ref">modbus/pdu.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdlib.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;errno.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;unistd.h&gt;</em></div>
<p>Implementation of simplified Modbus API for host applications (desktop/Linux/macOS/Windows). </p>
<p>This wrapper layer sits on top of the full mb_client_* API and provides a synchronous, blocking interface suitable for desktop applications and simple prototypes. It handles transport setup, blocking I/O, and error translation automatically. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420wait_for_transactionP16mb_host_client_tP15mb_client_txn_t8uint32_t">
<span id="_CPPv320wait_for_transactionP16mb_host_client_tP15mb_client_txn_t8uint32_t"></span><span id="_CPPv220wait_for_transactionP16mb_host_client_tP15mb_client_txn_t8uint32_t"></span><span id="wait_for_transaction__mb_host_client_tP.mb_client_txn_tP.uint32_t"></span><span class="target" id="mb__host_8c_1a385bc859eaa5b125f89a7477e0bd5346"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">wait_for_transaction</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420wait_for_transactionP16mb_host_client_tP15mb_client_txn_t8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Wait for a transaction to complete with timeout. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415submit_and_waitP16mb_host_client_tPP15mb_client_txn_t8mb_err_t">
<span id="_CPPv315submit_and_waitP16mb_host_client_tPP15mb_client_txn_t8mb_err_t"></span><span id="_CPPv215submit_and_waitP16mb_host_client_tPP15mb_client_txn_t8mb_err_t"></span><span id="submit_and_wait__mb_host_client_tP.mb_client_txn_tPP.mb_err_t"></span><span class="target" id="mb__host_8c_1a0d580a8c615ac5edaed5b02a3d48198f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">submit_and_wait</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn_slot</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">submit_status</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415submit_and_waitP16mb_host_client_tPP15mb_client_txn_t8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421copy_register_payloadPK15mb_client_txn_t8uint16_tP8uint16_t">
<span id="_CPPv321copy_register_payloadPK15mb_client_txn_t8uint16_tP8uint16_t"></span><span id="_CPPv221copy_register_payloadPK15mb_client_txn_t8uint16_tP8uint16_t"></span><span id="copy_register_payload__mb_client_txn_tCP.uint16_t.uint16_tP"></span><span class="target" id="mb__host_8c_1aa2e1f963f7c35d857d3cc5348131916f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">copy_register_payload</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">expected_count</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_registers</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421copy_register_payloadPK15mb_client_txn_t8uint16_tP8uint16_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416copy_bit_payloadPK15mb_client_txn_t8uint16_tP7uint8_t">
<span id="_CPPv316copy_bit_payloadPK15mb_client_txn_t8uint16_tP7uint8_t"></span><span id="_CPPv216copy_bit_payloadPK15mb_client_txn_t8uint16_tP7uint8_t"></span><span id="copy_bit_payload__mb_client_txn_tCP.uint16_t.uint8_tP"></span><span class="target" id="mb__host_8c_1a8eeb8cb1e6e6fd020861a35363f5b92e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">copy_bit_payload</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txn</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">expected_count</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_bits</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416copy_bit_payloadPK15mb_client_txn_t8uint16_tP7uint8_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c_1ab60e7da6e3eb432afbcaf29df6711728"></span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_tcp_connect</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">host_port</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c_1aa7d001c4606fd04290c7cfa90010a2c1"></span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_rtu_connect</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">device</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">baudrate</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c_1a82922a41dcadd05c0bec2923f0824a65"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_disconnect</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Disconnect and free all resources. </p>
<p>Closes the underlying transport (TCP socket or serial port) and releases memory. The client handle becomes invalid after this call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client handle returned by <a class="reference internal" href="#mb__host_8h_1ab60e7da6e3eb432afbcaf29df6711728"><span class="std std-ref">mb_host_tcp_connect()</span></a> or <a class="reference internal" href="#mb__host_8h_1aa7d001c4606fd04290c7cfa90010a2c1"><span class="std std-ref">mb_host_rtu_connect()</span></a>. Passing NULL is safe (no-op). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c_1acdcfc1dabb0459a918ea87af921ebed3"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_read_holding</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_registers</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c_1a3f7cdc3c9750f569488a8713a7cf9841"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_read_input</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_registers</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Read input registers (function code 0x04). </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client handle </p></li>
<li><p><strong>unit_id</strong> – Modbus unit/slave ID (1-247) </p></li>
<li><p><strong>address</strong> – Starting register address (0-65535) </p></li>
<li><p><strong>count</strong> – Number of registers to read (1-125) </p></li>
<li><p><strong>out_registers</strong> – Output buffer (must hold at least <code class="docutils literal notranslate"><span class="pre">count</span></code> uint16_t values)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success, error code otherwise. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c_1a7556a08036d2f319858061c020298ef5"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_write_single_register</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c_1a13733a16181e3d687909f7414705a380"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_write_multiple_registers</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">address</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">registers</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c_1abc5ae4e14423fc835747110db4bc9ed1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_set_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c_1af8032413cfb5256f23416d7248788884"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_enable_logging</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">enable</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c_1a81fb050d92c8429167b10237d7753e54"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_error_string</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__host_8c_1ac5a792abac639409c39f8f13f9346be3"></span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_host_last_exception</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv416mb_host_client_t" title="mb_host_client_t"><span class="n"><span class="pre">mb_host_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__iovec_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_iovec.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__iovec_8h"><span class="std std-ref">modbus/mb_iovec.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<p>Implementation of zero-copy scatter-gather IO primitives. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__iovec_8c_1ade8df39da5650c74e1a0ac0927cdbabd"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_list_copyout</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">list</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dst</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">dst_size</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy data from an iovec list to a contiguous buffer. </p>
<p>This is a fallback for cases where scatter-gather is not supported by the underlying transport. Should be avoided in performance-critical paths.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – Source iovec list </p></li>
<li><p><strong>dst</strong> – Destination buffer </p></li>
<li><p><strong>dst_size</strong> – Size of destination buffer </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes copied, or 0 on error </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__iovec_8c_1a255d6d02f1c0da42b7c9bd45d52ecce5"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_list_copyin</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">list</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">src</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">src_len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy data from a contiguous buffer into an iovec list. </p>
<p>This is used when receiving data into a fragmented ring buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – Destination iovec list </p></li>
<li><p><strong>src</strong> – Source buffer </p></li>
<li><p><strong>src_len</strong> – Length of source data </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes copied, or 0 on error </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__iovec_8c_1ac5914c06a900aff59bc7b35efb500d0c"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_iovec_from_ring</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_iovec_list_t" title="mb_iovec_list_t"><span class="n"><span class="pre">mb_iovec_list_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">list</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ring_base</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">ring_capacity</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">start</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Create an iovec view from a ring buffer region. </p>
<p>Handles ring buffer wrap-around by creating 1 or 2 iovecs as needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>list</strong> – Output iovec list (must have space for 2 vectors) </p></li>
<li><p><strong>ring_base</strong> – Ring buffer base pointer </p></li>
<li><p><strong>ring_capacity</strong> – Ring buffer total capacity </p></li>
<li><p><strong>start</strong> – Start offset in the ring buffer </p></li>
<li><p><strong>len</strong> – Number of bytes to view </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>MB_OK on success, error code otherwise </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_isr.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__isr_8h"><span class="std std-ref">modbus/mb_isr.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__queue_8h"><span class="std std-ref">modbus/mb_queue.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<p>Implementation of ISR-safe Modbus operations. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_HAS_CORTEX_M_IPSR">
<span class="target" id="mb__isr_8c_1a127dc3c83edc86720bed1b514d13dd0a"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_HAS_CORTEX_M_IPSR</span></span></span><a class="headerlink" href="#c.MB_HAS_CORTEX_M_IPSR" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_HAS_FREERTOS">
<span class="target" id="mb__isr_8c_1aa22d0d82ea8bb812f026402418f550de"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_HAS_FREERTOS</span></span></span><a class="headerlink" href="#c.MB_HAS_FREERTOS" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MB_HAS_ZEPHYR">
<span class="target" id="mb__isr_8c_1a617fa5ff372cb87bd3180edf6bb05414"></span><span class="sig-name descname"><span class="n"><span class="pre">MB_HAS_ZEPHYR</span></span></span><a class="headerlink" href="#c.MB_HAS_ZEPHYR" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8c_1a6cddb9662f9f7feeca4cb40e55d20c2a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_in_isr</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks if code is currently executing in ISR context. </p>
<p>Platform-specific detection:<ul class="simple">
<li><p><strong>ARM Cortex-M</strong>: Reads IPSR (Interrupt Program Status Register)</p></li>
<li><p><strong>FreeRTOS</strong>: Uses <code class="docutils literal notranslate"><span class="pre">xPortIsInsideInterrupt()</span></code></p></li>
<li><p><strong>Zephyr</strong>: Uses <code class="docutils literal notranslate"><span class="pre">k_is_in_isr()</span></code></p></li>
<li><p><strong>Fallback</strong>: Thread-local flag (requires manual setting)</p></li>
</ul>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a lightweight check, typically &lt;10 CPU cycles. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>true</strong> – Code is running in ISR/exception handler </p></li>
<li><p><strong>false</strong> – Code is running in thread/task context</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8c_1a785e134ebc394d9e1c1a3084f8686b43"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_set_isr_context</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">in_isr</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Sets ISR context flag manually (for platforms without auto-detection). </p>
<p>Use at ISR entry/exit if automatic detection is unavailable: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">my_isr</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mb_set_isr_context</span><span class="p">(</span><span class="nb">true</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// ... ISR work ...</span>
<span class="w">    </span><span class="n">mb_set_isr_context</span><span class="p">(</span><span class="nb">false</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only needed on platforms without IPSR/FreeRTOS/Zephyr. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>in_isr</strong> – <strong>[in]</strong> true if entering ISR, false if leaving</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8c_1a4f6b6a2af99e8d36e9745045e5955253"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_ctx_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_isr_config_t" title="mb_isr_config_t"><span class="n"><span class="pre">mb_isr_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initializes ISR-safe context with external storage. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All storage (queues, buffers) must remain valid for context lifetime. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[out]</strong> Context to initialize </p></li>
<li><p><strong>config</strong> – <strong>[in]</strong> Configuration with queue/buffer storage</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Context initialized successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointers or invalid config</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8c_1aaef1fab397af12ae229d3b44cfc7bdc9"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_ctx_deinit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Deinitializes ISR-safe context. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context to deinitialize </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8c_1ae92d8737cbe6d8f7be7cf39665c80e2e"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_on_rx_chunk_from_isr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Processes incoming data chunk from ISR context. </p>
<p>Optimized for minimal latency:<ul class="simple">
<li><p>Validates frame structure (address, CRC)</p></li>
<li><p>Enqueues to lock-free SPSC queue</p></li>
<li><p>Prepares response if server mode</p></li>
<li><p>No malloc, no heavy logging</p></li>
</ul>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function MUST be called from ISR context. Typically invoked from UART RX DMA complete + IDLE line interrupt.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not call from thread context! Use <code class="docutils literal notranslate"><span class="pre">mb_on_rx_chunk()</span></code> instead. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle </p></li>
<li><p><strong>data</strong> – <strong>[in]</strong> Pointer to received data (DMA buffer, ring buffer, etc.) </p></li>
<li><p><strong>len</strong> – <strong>[in]</strong> Number of bytes received</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Chunk processed successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – ctx or data is NULL, len is 0 </p></li>
<li><p><strong>MB_ERR_BUSY</strong> – Queue full, backpressure applied</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8c_1ae368c71684724e04c821831d27dae766"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_try_tx_from_isr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Attempts to start TX transmission from ISR context. </p>
<p>Checks if response/request is ready and initiates transmission:<ul class="simple">
<li><p>Reads from TX queue (lock-free dequeue)</p></li>
<li><p>Configures DMA/UART for transmission</p></li>
<li><p>Returns immediately, no blocking</p></li>
</ul>
</p>
<p>Typical usage after RX: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">uart_rx_complete_isr</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mb_on_rx_chunk_from_isr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="n">rx_buf</span><span class="p">,</span><span class="w"> </span><span class="n">rx_len</span><span class="p">);</span>
<span class="w">    </span>
<span class="w">    </span><span class="c1">// Try immediate TX for fast turnaround</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mb_try_tx_from_isr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctx</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">uart_start_tx_dma</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Returns immediately, does not block waiting for TX complete. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – TX started, data available for transmission </p></li>
<li><p><strong>false</strong> – No data to transmit, or TX already in progress</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8c_1a12f09e0dadcd4a9d2f4e6762bff55899"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_get_tx_buffer_from_isr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Gets pointer to TX buffer and length (zero-copy). </p>
<p>For DMA-based transmission, get direct pointer to avoid memcpy: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">tx_data</span><span class="p">;</span>
<span class="kt">size_t</span><span class="w"> </span><span class="n">tx_len</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mb_get_tx_buffer_from_isr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tx_data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">tx_len</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">uart_dma_start_tx</span><span class="p">(</span><span class="n">tx_data</span><span class="p">,</span><span class="w"> </span><span class="n">tx_len</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Buffer remains valid until <code class="docutils literal notranslate"><a class="reference internal" href="#mb__isr_8h_1adc8f9fd801136d54e8fdb17d5c3f4f39"><span class="std std-ref"><span class="pre">mb_tx_complete_from_isr()</span></span></a></code> is called. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle </p></li>
<li><p><strong>out_data</strong> – <strong>[out]</strong> Pointer to TX buffer (read-only) </p></li>
<li><p><strong>out_len</strong> – <strong>[out]</strong> Length of TX data in bytes</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – TX buffer ready </p></li>
<li><p><strong>false</strong> – No data to transmit</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8c_1adc8f9fd801136d54e8fdb17d5c3f4f39"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_tx_complete_from_isr</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Notifies that TX transmission completed. </p>
<p>Call from TX complete ISR: <div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">uart_tx_complete_isr</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">mb_tx_complete_from_isr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ctx</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Releases TX buffer, allows next transmission. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8c_1aa362da7978a18396b6924b7a5d7574d0"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_get_stats</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="#_CPPv414mb_isr_stats_t" title="mb_isr_stats_t"><span class="n"><span class="pre">mb_isr_stats_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">stats</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Retrieves ISR operation statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle </p></li>
<li><p><strong>stats</strong> – <strong>[out]</strong> Structure to fill with statistics</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Statistics retrieved successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__isr_8c_1a0c2d77f8d84212c694f1247f6be4c5dd"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_isr_reset_stats</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_isr_ctx_t" title="mb_isr_ctx_t"><span class="n"><span class="pre">mb_isr_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Resets ISR statistics counters. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> ISR context handle </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv417g_manual_isr_flag">
<span id="_CPPv317g_manual_isr_flag"></span><span id="_CPPv217g_manual_isr_flag"></span><span id="g_manual_isr_flag__b"></span><span class="target" id="mb__isr_8c_1afb015a54d20c3ce62610a894f2863faa"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">g_manual_isr_flag</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="k"><span class="pre">false</span></span><a class="headerlink" href="#_CPPv417g_manual_isr_flag" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__log_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_log.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__log_8h"><span class="std std-ref">modbus/mb_log.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__log_8c_1afe4b9590bc981a7c58a132792a15c658"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_log_bootstrap_defaults</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__power_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_power.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__power_8h"><span class="std std-ref">modbus/mb_power.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdint.h&gt;</em></div>
<p>Implementation of power management and idle detection. </p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__qos_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_qos.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__qos_8h"><span class="std std-ref">modbus/mb_qos.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<p>Implementation of QoS and backpressure management. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv420mb_qos_transaction_t">
<span id="_CPPv320mb_qos_transaction_t"></span><span id="_CPPv220mb_qos_transaction_t"></span><span id="mb_qos_transaction_t"></span><span class="target" id="mb__qos_8c_1aa772d004d2c14e4ab031dba49c0e4ed5"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418mb_qos_transaction" title="mb_qos_transaction"><span class="n"><span class="pre">mb_qos_transaction</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_transaction_t</span></span></span><a class="headerlink" href="#_CPPv420mb_qos_transaction_t" title="Link to this definition"></a><br /></dt>
<dd><p>Minimal transaction structure for QoS operations. </p>
<p>Note: In production, this would match the actual mb_transaction_t from <a class="reference internal" href="#core_8h"><span class="std std-ref">core.h</span></a></p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__qos_8c_1a45b2af17e2ef1ba9f240b6d287df4b4e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_is_high_priority_fc</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">function_code</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks if function code is high priority (FC-based policy). </p>
<p>High priority FCs: 05, 06, 08</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>function_code</strong> – <strong>[in]</strong> Modbus function code</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Function code is high priority </p></li>
<li><p><strong>false</strong> – Function code is normal priority </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__qos_8c_1a54292cc709e1833caec0e008c631d4f5"></span><a class="reference internal" href="#_CPPv417mb_qos_priority_t" title="mb_qos_priority_t"><span class="n"><span class="pre">mb_qos_priority_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_get_priority</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Determines transaction priority based on configured policy. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context handle </p></li>
<li><p><strong>tx</strong> – <strong>[in]</strong> Transaction to evaluate</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Priority level (HIGH or NORMAL) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__qos_8c_1ab21145f7a876f2cc9c46e2f44d3eb28b"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_ctx_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_qos_config_t" title="mb_qos_config_t"><span class="n"><span class="pre">mb_qos_config_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">config</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initializes QoS context with external storage. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[out]</strong> Context to initialize </p></li>
<li><p><strong>config</strong> – <strong>[in]</strong> Configuration with queue storage and policy</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Context initialized successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointers or invalid config </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__qos_8c_1ac797b73dc38980641613f19a623aa03a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_ctx_deinit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Deinitializes QoS context. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context to deinitialize </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__qos_8c_1a5463299c213afcd524c8991b3e4fd619"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_enqueue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Enqueues transaction with priority-based backpressure. </p>
<p>Behavior:<ul class="simple">
<li><p>High priority: Always enqueued (unless high queue full, which is a system error)</p></li>
<li><p>Normal priority: Rejected if normal queue full (backpressure applied)</p></li>
</ul>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context handle </p></li>
<li><p><strong>tx</strong> – <strong>[in]</strong> Transaction to enqueue (priority determined by policy)</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Transaction enqueued successfully </p></li>
<li><p><strong>MB_ERR_BUSY</strong> – Queue full, non-critical transaction rejected </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer or invalid transaction </p></li>
<li><p><strong>MB_ERR_NO_RESOURCES</strong> – High priority queue full (system overload) </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__qos_8c_1ab10fd65414ce1aa37ac2d1b28346d8d3"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_dequeue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Dequeues highest priority transaction. </p>
<p>Priority order:<ol class="loweralpha simple">
<li><p>High priority queue (always checked first)</p></li>
<li><p>Normal priority queue (only if high queue empty)</p></li>
</ol>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context handle</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to transaction, or NULL if both queues empty </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__qos_8c_1af7d38f825d384b999e52327dd5ca079b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_complete</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Marks transaction as completed and updates statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context handle </p></li>
<li><p><strong>tx</strong> – <strong>[in]</strong> Completed transaction </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__qos_8c_1a248c2b945db8b5762604e370183a8d2b"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_get_stats</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="#_CPPv414mb_qos_stats_t" title="mb_qos_stats_t"><span class="n"><span class="pre">mb_qos_stats_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">stats</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Retrieves QoS statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ctx</strong> – <strong>[in]</strong> Context handle </p></li>
<li><p><strong>stats</strong> – <strong>[out]</strong> Structure to fill with statistics</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Statistics retrieved successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__qos_8c_1a5a515e9389524098e5aa508cd7c03b59"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_qos_reset_stats</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_qos_ctx_t" title="mb_qos_ctx_t"><span class="n"><span class="pre">mb_qos_ctx_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Resets QoS statistics counters. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ctx</strong> – <strong>[in]</strong> Context handle </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_queue.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__queue_8h"><span class="std std-ref">modbus/mb_queue.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<p>Implementation of lock-free SPSC and MPSC queues. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1aba2bb3bb7a5ad292a1b8f45dd0581e93"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">slots</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initializes an SPSC queue with external storage. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[out]</strong> Queue structure to initialize </p></li>
<li><p><strong>slots</strong> – <strong>[in]</strong> Storage for element pointers (must persist) </p></li>
<li><p><strong>capacity</strong> – <strong>[in]</strong> Number of slots (must be power of 2)</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Queue initialized successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer or capacity not power-of-2 </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1adb41d3ef75b89497896279413c03c861"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_deinit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Deinitializes SPSC queue and releases resources. </p>
<p>Only needed when using mutex fallback. No-op with true atomics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue to deinitialize </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1af3b21f1f65172ab8781a2f8c89c4aa05"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_enqueue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">elem</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Enqueues an element (producer side). </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ISR-safe when compiled with C11 atomics. Use from producer only. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p></li>
<li><p><strong>elem</strong> – <strong>[in]</strong> Element pointer to enqueue (must not be NULL)</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Element enqueued successfully </p></li>
<li><p><strong>false</strong> – Queue is full (backpressure required)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1aa097f1c4f9720786f2bedbb3223ccd26"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_dequeue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_elem</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Dequeues an element (consumer side). </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Use from consumer only. Non-blocking. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p></li>
<li><p><strong>out_elem</strong> – <strong>[out]</strong> Pointer to store dequeued element</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Element dequeued successfully </p></li>
<li><p><strong>false</strong> – Queue is empty</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1aa4f293de893df2ce36cf3c2202bf4078"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_size</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns current queue occupancy. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Result is approximate in concurrent scenarios due to race conditions. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of elements currently in queue</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1a33ccf30423910473857806ed64c4e987"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns queue capacity. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Total number of slots </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1abe7a6f07d41f4c289e9d98dc4c0ee1f3"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_high_water</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns peak occupancy since initialization. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Highest number of elements ever present simultaneously </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1aa5251ac0f094f23cdee3abc65f788484"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_is_empty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks if queue is empty. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Queue has no elements </p></li>
<li><p><strong>false</strong> – Queue has at least one element </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1a4914a0f4b59539bb08e6edcea60093eb"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_spsc_is_full</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_spsc_t" title="mb_queue_spsc_t"><span class="n"><span class="pre">mb_queue_spsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks if queue is full. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Queue cannot accept more elements </p></li>
<li><p><strong>false</strong> – Queue has available space </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1a758c47d92d4117f10c4453bcf6dde046"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">slots</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initializes an MPSC queue with external storage. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[out]</strong> Queue structure to initialize </p></li>
<li><p><strong>slots</strong> – <strong>[in]</strong> Storage for element pointers (must persist) </p></li>
<li><p><strong>capacity</strong> – <strong>[in]</strong> Number of slots (must be power of 2)</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Queue initialized successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer or capacity not power-of-2 </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1aa9a79d1498615b5dcabd8a9dddccd346"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_deinit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Deinitializes MPSC queue and releases mutex. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue to deinitialize </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1af4ed52fba6c176a6c25d94f572863da3"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_enqueue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">elem</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Enqueues an element from any producer thread. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Thread-safe for multiple producers. Short critical section (~10 cycles). </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p></li>
<li><p><strong>elem</strong> – <strong>[in]</strong> Element pointer to enqueue (must not be NULL)</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Element enqueued successfully </p></li>
<li><p><strong>false</strong> – Queue is full</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1aa7d041c4e6a240fc265aed924d34740e"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_dequeue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_elem</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Dequeues an element (consumer side). </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Lock-free from consumer side. Use from single consumer only. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p></li>
<li><p><strong>out_elem</strong> – <strong>[out]</strong> Pointer to store dequeued element</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Element dequeued successfully </p></li>
<li><p><strong>false</strong> – Queue is empty</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1a3c492bca6f6ed0cb0ab9a59828705baa"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_size</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns current queue occupancy. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of elements currently in queue (approximate) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1ac2870d8daa15f05807131ba5d4b7dc02"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns queue capacity. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Total number of slots </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1aa7c2a9e007e8c17d33aaf35c508607ce"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_high_water</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns peak occupancy since initialization. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Highest number of elements ever present simultaneously </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1a2963e7496e7031bc13b4a3abc985a8e3"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_is_empty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks if queue is empty. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Queue has no elements </p></li>
<li><p><strong>false</strong> – Queue has at least one element </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__queue_8c_1a242471552a1c185c0bfe373fd1016376"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_queue_mpsc_is_full</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_queue_mpsc_t" title="mb_queue_mpsc_t"><span class="n"><span class="pre">mb_queue_mpsc_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">queue</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks if queue is full. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>queue</strong> – <strong>[in]</strong> Queue instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Queue cannot accept more elements </p></li>
<li><p><strong>false</strong> – Queue has available space </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__server__convenience_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_server_convenience.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__server__convenience_8h"><span class="std std-ref">modbus/mb_server_convenience.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#server_8h"><span class="std std-ref">modbus/server.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mapping_8h"><span class="std std-ref">modbus/mapping.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdlib.h&gt;</em></div>
<p>Implementation of convenience helpers for Modbus server setup. </p>
<p>This provides simplified server initialization by wrapping the mapping API and providing sensible defaults for pool sizes. </p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mb_txpool.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__txpool_8h"><span class="std std-ref">modbus/mb_txpool.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<p>Implementation of transaction pool with freelist and diagnostics. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c_1a61efb741b087a319fc5feff666945825"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">storage</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tx_size</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tx_count</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initializes a transaction pool with external storage. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">storage</span></code> must remain valid for the pool’s lifetime. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">tx_size</span></code> should be aligned (typically sizeof(your_transaction_t)). </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txpool</strong> – <strong>[out]</strong> Pool instance to initialize </p></li>
<li><p><strong>storage</strong> – <strong>[in]</strong> Backing memory (must persist, properly aligned) </p></li>
<li><p><strong>tx_size</strong> – <strong>[in]</strong> Size of each transaction structure in bytes </p></li>
<li><p><strong>tx_count</strong> – <strong>[in]</strong> Number of transactions to allocate</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Pool initialized successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer, zero size, or misalignment</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c_1a02de2dd9a3c173a03b3923a1711f578a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Resets the pool to initial state (all transactions free). </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Only call when no transactions are in use! Does not track leaks. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance to reset</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c_1a8ab520315e4bff2500c45ae525a5d8b1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_acquire</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Acquires a transaction from the pool. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Caller must cast to the appropriate transaction type. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Returns uninitialized memory - caller must initialize fields. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pointer to transaction memory, or NULL if pool is exhausted</p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c_1ad60246135a2a0880a89372269f3be1ab"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_release</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Releases a transaction back to the pool. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Releasing the same transaction twice is undefined behavior. </p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>No validation is performed on the transaction contents. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p></li>
<li><p><strong>tx</strong> – <strong>[in]</strong> Transaction pointer previously returned by acquire()</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Transaction released successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer or tx not from this pool</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c_1a7c55d2f4b7eea5b582854f5cd575d6b3"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_get_stats</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span>, <a class="reference internal" href="#_CPPv417mb_txpool_stats_t" title="mb_txpool_stats_t"><span class="n"><span class="pre">mb_txpool_stats_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">stats</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Retrieves current pool statistics. </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Statistics are not atomic - for diagnostic use only. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p></li>
<li><p><strong>stats</strong> – <strong>[out]</strong> Structure to fill with current statistics</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Statistics retrieved successfully </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – NULL pointer</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c_1a48076faa15f909a987c38a84bbb9ca17"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns total pool capacity. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of transactions (0 if NULL) </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c_1a4dfeb54337438fce51b9224eee16ec8a"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_available</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns number of available (free) transactions. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Free transaction count </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c_1a2477443e7ccf7271e97171b91ead525a"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_in_use</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns number of currently allocated transactions. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>In-use transaction count </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c_1ac34abc5ca5208edbad3b49361f4d98f1"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_high_water</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns peak concurrent allocations. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Highest in-use count ever reached </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c_1acc1b1ed1c777a372d6e90bf6ba00c6bf"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_is_empty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks if pool is exhausted. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – No transactions available </p></li>
<li><p><strong>false</strong> – At least one transaction available </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mb__txpool_8c_1a758aad9d53cfde4f5a9cb17eaa68484b"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_txpool_has_leaks</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_txpool_t" title="mb_txpool_t"><span class="n"><span class="pre">mb_txpool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">txpool</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Checks if pool has potential leaks (diagnostic). </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a heuristic - full pool might be legitimate under heavy load. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>txpool</strong> – <strong>[in]</strong> Pool instance </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – Pool likely has leaked transactions (all allocated) </p></li>
<li><p><strong>false</strong> – Pool has available transactions</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mempool_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mempool.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mempool_8h"><span class="std std-ref">modbus/mempool.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__types_8h"><span class="std std-ref">modbus/mb_types.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mempool_build_free_listP12mb_mempool_t">
<span id="_CPPv323mempool_build_free_listP12mb_mempool_t"></span><span id="_CPPv223mempool_build_free_listP12mb_mempool_t"></span><span id="mempool_build_free_list__mb_mempool_tP"></span><span class="target" id="mempool_8c_1ac703c7feba702c5c836e074cb710f694"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mempool_build_free_list</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mempool_build_free_listP12mb_mempool_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423mempool_pointer_belongsPK12mb_mempool_tPKv">
<span id="_CPPv323mempool_pointer_belongsPK12mb_mempool_tPKv"></span><span id="_CPPv223mempool_pointer_belongsPK12mb_mempool_tPKv"></span><span id="mempool_pointer_belongs__mb_mempool_tCP.voidCP"></span><span class="target" id="mempool_8c_1a22f5a76953a41cb0beec8054cd452a4e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mempool_pointer_belongs</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">block</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423mempool_pointer_belongsPK12mb_mempool_tPKv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mempool_8c_1a99d732c8a87fa49872aaa5eb632f58be"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buffer</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">block_size</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">block_count</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mempool_8c_1a4f6c6d80726c1c97ca209acd092d3f0f"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mempool_8c_1a8c0fb200897fd8998bdcd85ae40dcd49"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_acquire</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mempool_8c_1a1d350537adebc7f2a6723fa1bc9bdd92"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_release</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">block</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mempool_8c_1ad61ac493d1f9dfb3c165aa12e6f78916"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mempool_8c_1ac5431112c3553871ecd82a57e0ed6c8e"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_free_count</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mempool_8c_1aad1ce069a928ac827b24d5c4779985bd"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_mempool_contains</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_mempool_t" title="mb_mempool_t"><span class="n"><span class="pre">mb_mempool_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pool</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">block</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">observe.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#observe_8h"><span class="std std-ref">modbus/observe.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c_1aed2ee76e2f1a7ffa6c3636d6c6afb3e7"></span><a class="reference internal" href="#_CPPv418mb_diag_err_slot_t" title="mb_diag_err_slot_t"><span class="n"><span class="pre">mb_diag_err_slot_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_slot_from_error</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c_1a4f282a61695c7148d76413916465f9c9"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">diag</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c_1aa367e5b5c40368644090fbf0677a9298"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_record_fc</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">diag</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c_1a3a1d96777d345c0f178f34aaab63041b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_record_error</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">diag</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c_1a320d9b60aee0566573098f48b075df52"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_err_slot_str</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_err_slot_t" title="mb_diag_err_slot_t"><span class="n"><span class="pre">mb_diag_err_slot_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">slot</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c_1ae140e8e54bb756fe39f29447b3001490"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_state_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c_1a71322220b3e217520cd2cd7650f97412"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_state_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c_1a0f43029ebdcb42ee693cf887c869ad5d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_state_record_fc</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c_1a66b6afe9dd67379473f30cd998696409"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_state_record_error</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c_1a7fdf12b9ff6f167f34665efc18e8e3fc"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_state_capture_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv410mb_event_t" title="mb_event_t"><span class="n"><span class="pre">mb_event_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">event</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8c_1a42999f99f40df18acfc826c060668c01"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_snapshot</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_diag_state_t" title="mb_diag_state_t"><span class="n"><span class="pre">mb_diag_state_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">state</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_snapshot_t" title="mb_diag_snapshot_t"><span class="n"><span class="pre">mb_diag_snapshot_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_snapshot</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="pdu_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">pdu.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#pdu_8h"><span class="std std-ref">modbus/pdu.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv416mb_pdu_write_u16P5mb_u86mb_u16">
<span id="_CPPv316mb_pdu_write_u16P5mb_u86mb_u16"></span><span id="_CPPv216mb_pdu_write_u16P5mb_u86mb_u16"></span><span id="mb_pdu_write_u16__mb_u8P.mb_u16"></span><span class="target" id="pdu_8c_1a3aa2cc7677a1babad81952aa8e3ce90a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_pdu_write_u16</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv416mb_pdu_write_u16P5mb_u86mb_u16" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415mb_pdu_read_u16PK5mb_u8">
<span id="_CPPv315mb_pdu_read_u16PK5mb_u8"></span><span id="_CPPv215mb_pdu_read_u16PK5mb_u8"></span><span id="mb_pdu_read_u16__mb_u8CP"></span><span class="target" id="pdu_8c_1ad0edb2f418445bdecb4e0038f9c80a56"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_pdu_read_u16</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">in</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415mb_pdu_read_u16PK5mb_u8" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv424mb_pdu_validate_capacity9mb_size_t9mb_size_t">
<span id="_CPPv324mb_pdu_validate_capacity9mb_size_t9mb_size_t"></span><span id="_CPPv224mb_pdu_validate_capacity9mb_size_t9mb_size_t"></span><span id="mb_pdu_validate_capacity__mb_size_t.mb_size_t"></span><span class="target" id="pdu_8c_1a87c23d1cca8fbd7b4bc8b9c7049d5a8c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_pdu_validate_capacity</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">required</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">out_cap</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv424mb_pdu_validate_capacity9mb_size_t9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="pdu_8c_1a37e8f44ccfd947fc7f3dc17afaa80cde"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_pdu_build_exception</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">out_cap</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">exception_code</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="pdu_8c_1adc2807145120cee7b05bbcf07cd4a1ed"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_pdu_parse_exception</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">pdu</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_function</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_exception</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="bare_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">bare.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#bare_8h"><span class="std std-ref">modbus/port/bare.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv413bare_validatePK24mb_port_bare_transport_t">
<span id="_CPPv313bare_validatePK24mb_port_bare_transport_t"></span><span id="_CPPv213bare_validatePK24mb_port_bare_transport_t"></span><span id="bare_validate__mb_port_bare_transport_tCP"></span><span class="target" id="bare_8c_1a02fd4f134a3a7989289ae404cb19946c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bare_validate</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv424mb_port_bare_transport_t" title="mb_port_bare_transport_t"><span class="n"><span class="pre">mb_port_bare_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413bare_validatePK24mb_port_bare_transport_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv49bare_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t">
<span id="_CPPv39bare_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="_CPPv29bare_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="bare_send__voidP.mb_u8CP.mb_size_t.mb_transport_io_result_tP"></span><span class="target" id="bare_8c_1ac726566b2066ef9ed658c0356ce86650"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bare_send</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buf</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv49bare_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv49bare_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t">
<span id="_CPPv39bare_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="_CPPv29bare_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="bare_recv__voidP.mb_u8P.mb_size_t.mb_transport_io_result_tP"></span><span class="target" id="bare_8c_1a4cfaf028d04c598576f3fa4a04eb5819"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bare_recv</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buf</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv49bare_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv48bare_nowPv">
<span id="_CPPv38bare_nowPv"></span><span id="_CPPv28bare_nowPv"></span><span id="bare_now__voidP"></span><span class="target" id="bare_8c_1aa17a96ee8e6a09a1176312777fdee857"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bare_now</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv48bare_nowPv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv410bare_yieldPv">
<span id="_CPPv310bare_yieldPv"></span><span id="_CPPv210bare_yieldPv"></span><span id="bare_yield__voidP"></span><span class="target" id="bare_8c_1a8bf7f29e9fcd6e94b2790bfba99279f7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bare_yield</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410bare_yieldPv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="bare_8c_1ab8ab387c70f556c5aea6904c4e77e9b3"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_transport_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mb_port_bare_transport_t" title="mb_port_bare_transport_t"><span class="n"><span class="pre">mb_port_bare_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span>, <a class="reference internal" href="#_CPPv420mb_port_bare_send_fn" title="mb_port_bare_send_fn"><span class="n"><span class="pre">mb_port_bare_send_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">send_fn</span></span>, <a class="reference internal" href="#_CPPv420mb_port_bare_recv_fn" title="mb_port_bare_recv_fn"><span class="n"><span class="pre">mb_port_bare_recv_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">recv_fn</span></span>, <a class="reference internal" href="#_CPPv424mb_port_bare_tick_now_fn" title="mb_port_bare_tick_now_fn"><span class="n"><span class="pre">mb_port_bare_tick_now_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">tick_now_fn</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tick_rate_hz</span></span>, <a class="reference internal" href="#_CPPv421mb_port_bare_yield_fn" title="mb_port_bare_yield_fn"><span class="n"><span class="pre">mb_port_bare_yield_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">yield_fn</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">clock_ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialises a bare-metal transport adapter. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Storage for the adapter. </p></li>
<li><p><strong>user_ctx</strong> – Handle forwarded to <code class="docutils literal notranslate"><span class="pre">send</span></code>/<code class="docutils literal notranslate"><span class="pre">recv</span></code> callbacks. </p></li>
<li><p><strong>send_fn</strong> – Non-blocking send primitive. </p></li>
<li><p><strong>recv_fn</strong> – Non-blocking receive primitive. </p></li>
<li><p><strong>tick_now_fn</strong> – Returns the current scheduler tick count. </p></li>
<li><p><strong>tick_rate_hz</strong> – Tick frequency used to derive milliseconds. </p></li>
<li><p><strong>yield_fn</strong> – Optional CPU-yield hook (may be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>). </p></li>
<li><p><strong>clock_ctx</strong> – Optional clock handle (defaults to <code class="docutils literal notranslate"><span class="pre">user_ctx</span></code> when <code class="docutils literal notranslate"><span class="pre">NULL</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Adapter initialised successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Missing callbacks or invalid tick parameters. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="bare_8c_1a2287f84eeebabbb9c26818147d076e85"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_transport_update_tick_rate</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mb_port_bare_transport_t" title="mb_port_bare_transport_t"><span class="n"><span class="pre">mb_port_bare_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tick_rate_hz</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Updates the tick rate used for millisecond conversion. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Adapter instance. </p></li>
<li><p><strong>tick_rate_hz</strong> – New tick rate (Hz); ignored when zero. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="bare_8c_1a44026759f73f233236f3910e4ee24f40"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_transport_set_clock_ctx</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mb_port_bare_transport_t" title="mb_port_bare_transport_t"><span class="n"><span class="pre">mb_port_bare_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">clock_ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Allows using a dedicated clock context separate from <code class="docutils literal notranslate"><span class="pre">user_ctx</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Adapter instance. </p></li>
<li><p><strong>clock_ctx</strong> – Context forwarded to the tick callback. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="bare_8c_1a7e6aa8b9a8f9444f490016ce62165228"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_bare_transport_iface</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv424mb_port_bare_transport_t" title="mb_port_bare_transport_t"><span class="n"><span class="pre">mb_port_bare_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the configured transport interface. </p>
<p>The pointer remains valid for as long as <code class="docutils literal notranslate"><span class="pre">port</span></code> is alive. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="freertos_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">freertos.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#freertos_8h"><span class="std std-ref">modbus/port/freertos.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417freertos_validatePK28mb_port_freertos_transport_t">
<span id="_CPPv317freertos_validatePK28mb_port_freertos_transport_t"></span><span id="_CPPv217freertos_validatePK28mb_port_freertos_transport_t"></span><span id="freertos_validate__mb_port_freertos_transport_tCP"></span><span class="target" id="freertos_8c_1a3b6168cb9715c88ff394ecf1610bd7ea"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">freertos_validate</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv428mb_port_freertos_transport_t" title="mb_port_freertos_transport_t"><span class="n"><span class="pre">mb_port_freertos_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417freertos_validatePK28mb_port_freertos_transport_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv413freertos_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t">
<span id="_CPPv313freertos_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="_CPPv213freertos_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="freertos_send__voidP.mb_u8CP.mb_size_t.mb_transport_io_result_tP"></span><span class="target" id="freertos_8c_1a9ca0115f5471655ae75d9ffbe88fbf4b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">freertos_send</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buf</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413freertos_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv413freertos_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t">
<span id="_CPPv313freertos_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="_CPPv213freertos_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="freertos_recv__voidP.mb_u8P.mb_size_t.mb_transport_io_result_tP"></span><span class="target" id="freertos_8c_1a9dc6c46e50e0610a48ce9ed265222f38"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">freertos_recv</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buf</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413freertos_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv412freertos_nowPv">
<span id="_CPPv312freertos_nowPv"></span><span id="_CPPv212freertos_nowPv"></span><span id="freertos_now__voidP"></span><span class="target" id="freertos_8c_1ab96bbcac8353fba5672d9c87c3fbf050"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">freertos_now</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412freertos_nowPv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414freertos_yieldPv">
<span id="_CPPv314freertos_yieldPv"></span><span id="_CPPv214freertos_yieldPv"></span><span id="freertos_yield__voidP"></span><span class="target" id="freertos_8c_1a7bdd517aff6527300160f322bacba53c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">freertos_yield</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414freertos_yieldPv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="freertos_8c_1a2dc296ca52f820f4cbdb67a0421eeae4"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_transport_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv428mb_port_freertos_transport_t" title="mb_port_freertos_transport_t"><span class="n"><span class="pre">mb_port_freertos_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">tx_stream</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rx_stream</span></span>, <a class="reference internal" href="#_CPPv431mb_port_freertos_stream_send_fn" title="mb_port_freertos_stream_send_fn"><span class="n"><span class="pre">mb_port_freertos_stream_send_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">send_fn</span></span>, <a class="reference internal" href="#_CPPv431mb_port_freertos_stream_recv_fn" title="mb_port_freertos_stream_recv_fn"><span class="n"><span class="pre">mb_port_freertos_stream_recv_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">recv_fn</span></span>, <a class="reference internal" href="#_CPPv429mb_port_freertos_tick_hook_fn" title="mb_port_freertos_tick_hook_fn"><span class="n"><span class="pre">mb_port_freertos_tick_hook_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">tick_fn</span></span>, <a class="reference internal" href="#_CPPv430mb_port_freertos_yield_hook_fn" title="mb_port_freertos_yield_hook_fn"><span class="n"><span class="pre">mb_port_freertos_yield_hook_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">yield_fn</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tick_rate_hz</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">max_block_ticks</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialises a FreeRTOS-backed transport adapter. </p>
<p>All parameters mirror the FreeRTOS stream/queue APIs, allowing the adapter to forward I/O to stream buffers, queues, or custom shims.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Adapter storage to initialise. </p></li>
<li><p><strong>tx_stream</strong> – Stream/queue used to transmit bytes. </p></li>
<li><p><strong>rx_stream</strong> – Stream/queue used to receive bytes. </p></li>
<li><p><strong>send_fn</strong> – Function that pushes bytes into <code class="docutils literal notranslate"><span class="pre">tx_stream</span></code>. </p></li>
<li><p><strong>recv_fn</strong> – Function that pulls bytes from <code class="docutils literal notranslate"><span class="pre">rx_stream</span></code>. </p></li>
<li><p><strong>tick_fn</strong> – Hook returning the current scheduler tick count. </p></li>
<li><p><strong>yield_fn</strong> – Optional cooperative-yield hook (<code class="docutils literal notranslate"><span class="pre">taskYIELD</span></code>). </p></li>
<li><p><strong>tick_rate_hz</strong> – Scheduler tick rate expressed in hertz. </p></li>
<li><p><strong>max_block_ticks</strong> – Maximum number of ticks each I/O call may block.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Adapter initialised successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Missing stream handles or callbacks. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="freertos_8c_1aa1a9819916922c8e174830234b9bb073"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_transport_set_block_ticks</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv428mb_port_freertos_transport_t" title="mb_port_freertos_transport_t"><span class="n"><span class="pre">mb_port_freertos_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">ticks</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Updates the maximum number of ticks each I/O call may block. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Adapter instance. </p></li>
<li><p><strong>ticks</strong> – Maximum block duration expressed in scheduler ticks. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="freertos_8c_1ac4abe5f909ce6b8aa2a0d65df753ca21"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_transport_set_tick_rate</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv428mb_port_freertos_transport_t" title="mb_port_freertos_transport_t"><span class="n"><span class="pre">mb_port_freertos_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">tick_rate_hz</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Updates the tick frequency (Hz) used for ms conversion. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>port</strong> – Adapter instance. </p></li>
<li><p><strong>tick_rate_hz</strong> – New tick rate; ignored when zero. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="freertos_8c_1a32934b6027907bdb97f05f68edf8fec3"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_freertos_transport_iface</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv428mb_port_freertos_transport_t" title="mb_port_freertos_transport_t"><span class="n"><span class="pre">mb_port_freertos_transport_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">port</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the transport interface managed by the adapter. </p>
<p>The pointer remains valid while the adapter structure stays in scope. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="mutex_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">mutex.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mutex_8h"><span class="std std-ref">modbus/port/mutex.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mutex_8c_1a1f6d8c1e35e8eb7446c02c91cd531b31"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_mutex_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_port_mutex_t" title="mb_port_mutex_t"><span class="n"><span class="pre">mb_port_mutex_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">mutex</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialises a mutex object. </p>
<dl class="field-list simple">
<dt class="field-odd">Return values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>MB_OK</strong> – Mutex initialised successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">mutex</span></code> was NULL. </p></li>
<li><p><strong>MB_ERR_OTHER</strong> – Underlying platform call failed. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mutex_8c_1a7d49150709518ec020ab0ec5a3b3b307"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_mutex_deinit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_port_mutex_t" title="mb_port_mutex_t"><span class="n"><span class="pre">mb_port_mutex_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">mutex</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Releases resources held by the mutex. </p>
<p>No-op when the mutex has not been initialised. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mutex_8c_1a7be5325cf4a1abcf92cb5df248f25012"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_mutex_lock</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_port_mutex_t" title="mb_port_mutex_t"><span class="n"><span class="pre">mb_port_mutex_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">mutex</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Attempts to acquire the mutex, blocking/spinning until success. </p>
<dl class="field-list simple">
<dt class="field-odd">Return values<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>MB_OK</strong> – Mutex acquired successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">mutex</span></code> was NULL. </p></li>
<li><p><strong>MB_ERR_OTHER</strong> – Mutex not initialised or platform error. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="mutex_8c_1a7ba2b1d34b0c47c0eb3888e422384c6b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_mutex_unlock</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_port_mutex_t" title="mb_port_mutex_t"><span class="n"><span class="pre">mb_port_mutex_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">mutex</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Releases the mutex. </p>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="posix_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">posix.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#posix_8h"><span class="std std-ref">modbus/port/posix.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;errno.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;fcntl.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;math.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;limits.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;netdb.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;poll.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;sched.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdbool.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdio.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;sys/socket.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;sys/types.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;time.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;unistd.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__err_8h"><span class="std std-ref">modbus/mb_err.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;termios.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv429posix_socket_make_nonblockingi">
<span id="_CPPv329posix_socket_make_nonblockingi"></span><span id="_CPPv229posix_socket_make_nonblockingi"></span><span id="posix_socket_make_nonblocking__i"></span><span class="target" id="posix_8c_1a2631c1a88a8242e16341889373967b1a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">posix_socket_make_nonblocking</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">fd</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv429posix_socket_make_nonblockingi" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418posix_monotonic_msv">
<span id="_CPPv318posix_monotonic_msv"></span><span id="_CPPv218posix_monotonic_msv"></span><span id="posix_monotonic_ms__void"></span><span class="target" id="posix_8c_1aa4cdf4f2a26688c33f2bcddbd48bb6fc"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">posix_monotonic_ms</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418posix_monotonic_msv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv410posix_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t">
<span id="_CPPv310posix_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="_CPPv210posix_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="posix_send__voidP.mb_u8CP.mb_size_t.mb_transport_io_result_tP"></span><span class="target" id="posix_8c_1a9c2952259b5075d342b6a6e93f9fc565"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">posix_send</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buf</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410posix_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv410posix_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t">
<span id="_CPPv310posix_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="_CPPv210posix_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="posix_recv__voidP.mb_u8P.mb_size_t.mb_transport_io_result_tP"></span><span class="target" id="posix_8c_1ad1f1d1aea34cfa9e7c50a6cc203dd6d0"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">posix_recv</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buf</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410posix_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv49posix_nowPv">
<span id="_CPPv39posix_nowPv"></span><span id="_CPPv29posix_nowPv"></span><span id="posix_now__voidP"></span><span class="target" id="posix_8c_1a109f3a82d26a033a839997e160e9d3d6"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">posix_now</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv49posix_nowPv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv411posix_yieldPv">
<span id="_CPPv311posix_yieldPv"></span><span id="_CPPv211posix_yieldPv"></span><span id="posix_yield__voidP"></span><span class="target" id="posix_8c_1ad0e6ef45d41cc43e712349625d77c481"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">posix_yield</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411posix_yieldPv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423posix_socket_bind_ifaceP22mb_port_posix_socket_t">
<span id="_CPPv323posix_socket_bind_ifaceP22mb_port_posix_socket_t"></span><span id="_CPPv223posix_socket_bind_ifaceP22mb_port_posix_socket_t"></span><span id="posix_socket_bind_iface__mb_port_posix_socket_tP"></span><span class="target" id="posix_8c_1a1a8b898ebe70884d2fe9f7eedd5f7536"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">posix_socket_bind_iface</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423posix_socket_bind_ifaceP22mb_port_posix_socket_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="posix_8c_1a6c777f005762c273b39b7ed4556dafb3"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_socket_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sock</span></span>, <span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">fd</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">owns_fd</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialises a POSIX socket wrapper around an existing file descriptor. </p>
<p>The descriptor is switched to non-blocking mode. When <code class="docutils literal notranslate"><span class="pre">owns_fd</span></code> is <code class="docutils literal notranslate"><span class="pre">true</span></code> the wrapper becomes responsible for closing it during <a class="reference internal" href="#posix_8h_1a901f20dc4643abc30794eacc6ec93093"><span class="std std-ref">mb_port_posix_socket_close</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sock</strong> – Wrapper to initialise. </p></li>
<li><p><strong>fd</strong> – Socket/file descriptor already opened by the caller. </p></li>
<li><p><strong>owns_fd</strong> – Set to <code class="docutils literal notranslate"><span class="pre">true</span></code> if the wrapper should close the descriptor.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Wrapper initialised successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid pointer or descriptor. </p></li>
<li><p><strong>MB_ERR_TRANSPORT</strong> – ioctl/fcntl configuration failed. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="posix_8c_1a901f20dc4643abc30794eacc6ec93093"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_socket_close</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sock</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Closes the underlying descriptor when owned and resets the wrapper. </p>
<p>Safe to call multiple times; subsequent invocations become no-ops.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sock</strong> – Wrapper previously initialised with <a class="reference internal" href="#posix_8h_1a6c777f005762c273b39b7ed4556dafb3"><span class="std std-ref">mb_port_posix_socket_init</span></a>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="posix_8c_1a1e0770cd31bd7709dc12ccb93b19ea3b"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_socket_iface</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sock</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the transport interface bound to <code class="docutils literal notranslate"><span class="pre">sock</span></code>. </p>
<p>The returned pointer remains valid until <a class="reference internal" href="#posix_8h_1a901f20dc4643abc30794eacc6ec93093"><span class="std std-ref">mb_port_posix_socket_close</span></a> is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sock</strong> – Wrapper initialised with <a class="reference internal" href="#posix_8h_1a6c777f005762c273b39b7ed4556dafb3"><span class="std std-ref">mb_port_posix_socket_init</span></a>. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="posix_8c_1a86a2ba3d57f7b802241d8fba469019ee"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_tcp_client</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sock</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">host</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">port</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Connects to a Modbus TCP server using POSIX sockets. </p>
<p>Creates a new client socket, connects to <code class="docutils literal notranslate"><span class="pre">host:port</span></code> with the provided timeout, and populates <code class="docutils literal notranslate"><span class="pre">sock</span></code> on success (owning the descriptor).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sock</strong> – Wrapper that receives the connected socket. </p></li>
<li><p><strong>host</strong> – Remote hostname or IP string. </p></li>
<li><p><strong>port</strong> – Remote TCP port. </p></li>
<li><p><strong>timeout_ms</strong> – Connection timeout in milliseconds.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Connection established successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid parameter. </p></li>
<li><p><strong>MB_ERR_TRANSPORT</strong> – Connect failed or timed out. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417baudrate_to_speed8uint32_t">
<span id="_CPPv317baudrate_to_speed8uint32_t"></span><span id="_CPPv217baudrate_to_speed8uint32_t"></span><span id="baudrate_to_speed__uint32_t"></span><span class="target" id="posix_8c_1a8a4ff63e4723d8e7e81aa8d612f20cfe"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">speed_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">baudrate_to_speed</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">baudrate</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417baudrate_to_speed8uint32_t" title="Link to this definition"></a><br /></dt>
<dd><p>Convert baudrate to termios speed constant. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="posix_8c_1ab81d357508140b7f8ec9ecf7a6130450"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_port_posix_serial_open</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv422mb_port_posix_socket_t" title="mb_port_posix_socket_t"><span class="n"><span class="pre">mb_port_posix_socket_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">sock</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">device</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">baudrate</span></span>, <a class="reference internal" href="#_CPPv411mb_parity_t" title="mb_parity_t"><span class="n"><span class="pre">mb_parity_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">parity</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">data_bits</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">stop_bits</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Opens a serial port for Modbus RTU communication. </p>
<p>Creates a new serial connection with the specified parameters and populates <code class="docutils literal notranslate"><span class="pre">sock</span></code> on success (owning the file descriptor). The port is configured for raw, non-blocking I/O suitable for RTU framing.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not available on Windows. Use Windows-specific serial APIs instead. </p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sock</strong> – Wrapper that receives the opened serial port. </p></li>
<li><p><strong>device</strong> – Serial device path (e.g., “/dev/ttyUSB0”, “/dev/ttyS1”). </p></li>
<li><p><strong>baudrate</strong> – Baud rate (9600, 19200, 38400, 57600, 115200, etc.). </p></li>
<li><p><strong>parity</strong> – Parity mode (MB_PARITY_NONE, MB_PARITY_EVEN, MB_PARITY_ODD). </p></li>
<li><p><strong>data_bits</strong> – Number of data bits (5, 6, 7, or 8). </p></li>
<li><p><strong>stop_bits</strong> – Number of stop bits (1 or 2).</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Serial port opened successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid parameter. </p></li>
<li><p><strong>MB_ERR_TRANSPORT</strong> – Failed to open or configure device.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="win_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">win.c</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">ringbuf.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#ringbuf_8h"><span class="std std-ref">modbus/ringbuf.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415is_power_of_two6size_t">
<span id="_CPPv315is_power_of_two6size_t"></span><span id="_CPPv215is_power_of_two6size_t"></span><span id="is_power_of_two__s"></span><span class="target" id="ringbuf_8c_1a5b0bff527aa744c6eb9020995447cde4"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">is_power_of_two</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415is_power_of_two6size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c_1a3ccebc25a54978676882620fbf11598a"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">storage</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c_1acdea82d69343c66a008ffb87373d5d0c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c_1a0b9391fb5a63678098c9867004bffba8"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c_1aac315e0c35dd5bbe3828d03864c98549"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_size</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c_1a5ef950a1e58549f6cb628a4e7e31c72e"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_free</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c_1a17189e6fc433658cf6b5e64b03cf9755"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_is_empty</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c_1aa782c6ac27bcc583bd488457f9698272"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_is_full</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c_1a63907fbbc72b4209f15f029f38e156bc"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_write</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c_1af915fb6d959a0ac106326aef8e1af3b5"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_read</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c_1a1b955147acc7d85d51d8fc66a8493427"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_push</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">byte</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="ringbuf_8c_1a0e52e62e6a3d8e6c9af1552139ed5b32"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_ringbuf_pop</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv412mb_ringbuf_t" title="mb_ringbuf_t"><span class="n"><span class="pre">mb_ringbuf_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rb</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_byte</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="rtu__resync_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">rtu_resync.c</span></span></dt>
<dd><div class="docutils container">
<em>#include “<a class="reference internal" href="#rtu__resync_8h"><span class="std std-ref">modbus/rtu_resync.h</span></a>”</em></div>
<div class="docutils container">
<em>#include “<a class="reference internal" href="#utils_8h"><span class="std std-ref">modbus/utils.h</span></a>”</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<p>Fast resynchronization implementation for RTU transport. </p>
<p>Copyright (c) 2025 ModbusCore SPDX-License-Identifier: MIT </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="rtu__resync_8c_1aeb3098040831221fbf92517f3434a941"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialize resync context. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rs</strong> – Resync context to initialize </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="rtu__resync_8c_1a0ed4361363a8aaee20d07153dcf89b1d"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_add_data</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Add received bytes to resync buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rs</strong> – Resync context </p></li>
<li><p><strong>data</strong> – Received data </p></li>
<li><p><strong>len</strong> – Length of data </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes added </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="rtu__resync_8c_1a83909b9478817823cd2d4fa8a55348ae"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_find_frame_start</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Find potential frame start in buffer. </p>
<p>Scans buffer for valid slave address (1-247) that could indicate the start of a frame.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rs</strong> – Resync context </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Offset to candidate frame start, or -1 if none found </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="rtu__resync_8c_1aefd213ee4f1bdffcccf214b6d0efa94a"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_quick_crc_check</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">data</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Quick CRC validation without full parse. </p>
<p>Performs fast CRC check on data to validate frame integrity before attempting full parsing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – Frame data </p></li>
<li><p><strong>len</strong> – Frame length (must include 2-byte CRC) </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>true if CRC is valid, false otherwise </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="rtu__resync_8c_1a13d44b2fb3aef9d605bb74544ab5dd90"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_discard</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Discard bytes from resync buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rs</strong> – Resync context </p></li>
<li><p><strong>count</strong> – Number of bytes to discard </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="rtu__resync_8c_1a7f16a214a31bc351758f1d3022ca2b51"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_available</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get number of bytes available in resync buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rs</strong> – Resync context </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes available </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="rtu__resync_8c_1afa4cb776f14479ccb094c49aa46f4561"></span><span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_copy</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dest</span></span>, <span class="n"><span class="pre">size_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Copy data from resync buffer. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rs</strong> – Resync context </p></li>
<li><p><strong>dest</strong> – Destination buffer </p></li>
<li><p><strong>count</strong> – Number of bytes to copy </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes copied </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="rtu__resync_8c_1ab62f877d08c6252038fe3c696b9d543c"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_get_stats</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">attempts</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">discarded</span></span>, <span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">recovered</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Get resync statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rs</strong> – Resync context </p></li>
<li><p><strong>attempts</strong> – Output: number of resync attempts </p></li>
<li><p><strong>discarded</strong> – Output: total bytes discarded </p></li>
<li><p><strong>recovered</strong> – Output: frames recovered via resync </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="rtu__resync_8c_1ad07f01e4a680a171a0d49cca5465128a"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_rtu_resync_reset_stats</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv415mb_rtu_resync_t" title="mb_rtu_resync_t"><span class="n"><span class="pre">mb_rtu_resync_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rs</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Reset resync statistics. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rs</strong> – Resync context </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="server_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">server.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#server_8h"><span class="std std-ref">modbus/server.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stdio.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#mb__log_8h"><span class="std std-ref">modbus/mb_log.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423server_trace_hex_bufferPK11mb_server_tPKcPK5mb_u89mb_size_t">
<span id="_CPPv323server_trace_hex_bufferPK11mb_server_tPKcPK5mb_u89mb_size_t"></span><span id="_CPPv223server_trace_hex_bufferPK11mb_server_tPKcPK5mb_u89mb_size_t"></span><span id="server_trace_hex_buffer__mb_server_tCP.cCP.mb_u8CP.mb_size_t"></span><span class="target" id="server_8c_1a9765c9d38e9ebaf61b949da7f8e6cdf3"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_trace_hex_buffer</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">label</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buffer</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">length</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423server_trace_hex_bufferPK11mb_server_tPKcPK5mb_u89mb_size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420server_reset_requestP19mb_server_request_t">
<span id="_CPPv320server_reset_requestP19mb_server_request_t"></span><span id="_CPPv220server_reset_requestP19mb_server_request_t"></span><span id="server_reset_request__mb_server_request_tP"></span><span class="target" id="server_8c_1a86d9fdd26d4647b8c65ee3c04c28335e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_reset_request</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420server_reset_requestP19mb_server_request_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420server_jitter_sampleP11mb_server_t12mb_time_ms_t">
<span id="_CPPv320server_jitter_sampleP11mb_server_t12mb_time_ms_t"></span><span id="_CPPv220server_jitter_sampleP11mb_server_t12mb_time_ms_t"></span><span id="server_jitter_sample__mb_server_tP.mb_time_ms_t"></span><span class="target" id="server_8c_1a01f442f2155bf3998037985710812a85"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_jitter_sample</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420server_jitter_sampleP11mb_server_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423server_normalize_budget9mb_size_t">
<span id="_CPPv323server_normalize_budget9mb_size_t"></span><span id="_CPPv223server_normalize_budget9mb_size_t"></span><span id="server_normalize_budget__mb_size_t"></span><span class="target" id="server_8c_1acca96ad6255a82434a53859575162170"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_normalize_budget</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">steps</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423server_normalize_budget9mb_size_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv431server_prepare_processing_stateP19mb_server_request_t12mb_time_ms_t">
<span id="_CPPv331server_prepare_processing_stateP19mb_server_request_t12mb_time_ms_t"></span><span id="_CPPv231server_prepare_processing_stateP19mb_server_request_t12mb_time_ms_t"></span><span id="server_prepare_processing_state__mb_server_request_tP.mb_time_ms_t"></span><span class="target" id="server_8c_1a2e9a710a1d63dec5341038f2703ed5ca"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_prepare_processing_state</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv431server_prepare_processing_stateP19mb_server_request_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv410server_nowPK11mb_server_t">
<span id="_CPPv310server_nowPK11mb_server_t"></span><span id="_CPPv210server_nowPK11mb_server_t"></span><span id="server_now__mb_server_tCP"></span><span class="target" id="server_8c_1a42f8313458ea5acd6031fee925d21199"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_now</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410server_nowPK11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423server_emit_state_eventP11mb_server_t15mb_event_type_t17mb_server_state_t">
<span id="_CPPv323server_emit_state_eventP11mb_server_t15mb_event_type_t17mb_server_state_t"></span><span id="_CPPv223server_emit_state_eventP11mb_server_t15mb_event_type_t17mb_server_state_t"></span><span id="server_emit_state_event__mb_server_tP.mb_event_type_t.mb_server_state_t"></span><span class="target" id="server_8c_1a3df5af013d095e8536a388fc029d730e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_emit_state_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv415mb_event_type_t" title="mb_event_type_t"><span class="n"><span class="pre">mb_event_type_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span>, <a class="reference internal" href="#_CPPv417mb_server_state_t" title="mb_server_state_t"><span class="n"><span class="pre">mb_server_state_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">state</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423server_emit_state_eventP11mb_server_t15mb_event_type_t17mb_server_state_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425server_emit_request_eventP11mb_server_t15mb_event_type_tPK19mb_server_request_t8mb_err_t">
<span id="_CPPv325server_emit_request_eventP11mb_server_t15mb_event_type_tPK19mb_server_request_t8mb_err_t"></span><span id="_CPPv225server_emit_request_eventP11mb_server_t15mb_event_type_tPK19mb_server_request_t8mb_err_t"></span><span id="server_emit_request_event__mb_server_tP.mb_event_type_t.mb_server_request_tCP.mb_err_t"></span><span class="target" id="server_8c_1a0d37a0ab01f11cc5b6efbbd0a1f2d670"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_emit_request_event</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv415mb_event_type_t" title="mb_event_type_t"><span class="n"><span class="pre">mb_event_type_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">type</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">status</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425server_emit_request_eventP11mb_server_t15mb_event_type_tPK19mb_server_request_t8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423server_transition_stateP11mb_server_t17mb_server_state_t">
<span id="_CPPv323server_transition_stateP11mb_server_t17mb_server_state_t"></span><span id="_CPPv223server_transition_stateP11mb_server_t17mb_server_state_t"></span><span id="server_transition_state__mb_server_tP.mb_server_state_t"></span><span class="target" id="server_8c_1a81df3dfb6547c4812ff14c0880940e17"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_transition_state</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv417mb_server_state_t" title="mb_server_state_t"><span class="n"><span class="pre">mb_server_state_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">next</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423server_transition_stateP11mb_server_t17mb_server_state_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417server_fc_timeoutPK11mb_server_t5mb_u8">
<span id="_CPPv317server_fc_timeoutPK11mb_server_t5mb_u8"></span><span id="_CPPv217server_fc_timeoutPK11mb_server_t5mb_u8"></span><span id="server_fc_timeout__mb_server_tCP.mb_u8"></span><span class="target" id="server_8c_1ae79a543fc6210c2e8284e274e7d0eb4a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_fc_timeout</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417server_fc_timeoutPK11mb_server_t5mb_u8" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426server_is_high_priority_fc5mb_u8">
<span id="_CPPv326server_is_high_priority_fc5mb_u8"></span><span id="_CPPv226server_is_high_priority_fc5mb_u8"></span><span id="server_is_high_priority_fc__mb_u8"></span><span class="target" id="server_8c_1a54effe3f8fb9e97d8a67d791231f7fac"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_is_high_priority_fc</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426server_is_high_priority_fc5mb_u8" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421server_total_inflightPK11mb_server_t">
<span id="_CPPv321server_total_inflightPK11mb_server_t"></span><span id="_CPPv221server_total_inflightPK11mb_server_t"></span><span id="server_total_inflight__mb_server_tCP"></span><span class="target" id="server_8c_1a183fb230a4d50f51d8ae731ee7c65faf"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_total_inflight</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421server_total_inflightPK11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420server_alloc_requestP11mb_server_t">
<span id="_CPPv320server_alloc_requestP11mb_server_t"></span><span id="_CPPv220server_alloc_requestP11mb_server_t"></span><span id="server_alloc_request__mb_server_tP"></span><span class="target" id="server_8c_1a51b21ba202e75d21ce07eadfdffc4cd8"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">server_alloc_request</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420server_alloc_requestP11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414server_enqueueP11mb_server_tP19mb_server_request_t">
<span id="_CPPv314server_enqueueP11mb_server_tP19mb_server_request_t"></span><span id="_CPPv214server_enqueueP11mb_server_tP19mb_server_request_t"></span><span id="server_enqueue__mb_server_tP.mb_server_request_tP"></span><span class="target" id="server_8c_1ac0ceb6890e8cf2c80fde23f753a9b76d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_enqueue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414server_enqueueP11mb_server_tP19mb_server_request_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414server_dequeueP11mb_server_t">
<span id="_CPPv314server_dequeueP11mb_server_t"></span><span id="_CPPv214server_dequeueP11mb_server_t"></span><span id="server_dequeue__mb_server_tP"></span><span class="target" id="server_8c_1ade83a4f6fc3e4335e84f5835bb2632f4"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">server_dequeue</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414server_dequeueP11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422server_release_requestP19mb_server_request_t">
<span id="_CPPv322server_release_requestP19mb_server_request_t"></span><span id="_CPPv222server_release_requestP19mb_server_request_t"></span><span id="server_release_request__mb_server_request_tP"></span><span class="target" id="server_8c_1adbd3dd9f7857398e5ffaceac80aea237"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_release_request</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422server_release_requestP19mb_server_request_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421server_send_exceptionP11mb_server_tPK13mb_adu_view_t5mb_u8">
<span id="_CPPv321server_send_exceptionP11mb_server_tPK13mb_adu_view_t5mb_u8"></span><span id="_CPPv221server_send_exceptionP11mb_server_tPK13mb_adu_view_t5mb_u8"></span><span id="server_send_exception__mb_server_tP.mb_adu_view_tCP.mb_u8"></span><span class="target" id="server_8c_1a5953049018e4305decaeaecc35d09d3d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_send_exception</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">request</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">exception_code</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421server_send_exceptionP11mb_server_tPK13mb_adu_view_t5mb_u8" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv414ranges_overlap6mb_u166mb_u166mb_u166mb_u16">
<span id="_CPPv314ranges_overlap6mb_u166mb_u166mb_u166mb_u16"></span><span id="_CPPv214ranges_overlap6mb_u166mb_u166mb_u166mb_u16"></span><span id="ranges_overlap__mb_u16.mb_u16.mb_u16.mb_u16"></span><span class="target" id="server_8c_1a851f0fa7e369fb9b620184bdee772772"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">ranges_overlap</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">a_start</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">a_count</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">b_start</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">b_count</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv414ranges_overlap6mb_u166mb_u166mb_u166mb_u16" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415region_containsPK18mb_server_region_t6mb_u166mb_u16">
<span id="_CPPv315region_containsPK18mb_server_region_t6mb_u166mb_u16"></span><span id="_CPPv215region_containsPK18mb_server_region_t6mb_u166mb_u16"></span><span id="region_contains__mb_server_region_tCP.mb_u16.mb_u16"></span><span class="target" id="server_8c_1a9580ac37d7b327beda791f8cc492cd16"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">region_contains</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418mb_server_region_t" title="mb_server_region_t"><span class="n"><span class="pre">mb_server_region_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">region</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">addr</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415region_containsPK18mb_server_region_t6mb_u166mb_u16" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv411region_readPK18mb_server_region_t6mb_u166mb_u16P6mb_u16">
<span id="_CPPv311region_readPK18mb_server_region_t6mb_u166mb_u16P6mb_u16"></span><span id="_CPPv211region_readPK18mb_server_region_t6mb_u166mb_u16P6mb_u16"></span><span id="region_read__mb_server_region_tCP.mb_u16.mb_u16.mb_u16P"></span><span class="target" id="server_8c_1a388e85ea7760b51bb3556fc1112e8773"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">region_read</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418mb_server_region_t" title="mb_server_region_t"><span class="n"><span class="pre">mb_server_region_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">region</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">addr</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">quantity</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_values</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411region_readPK18mb_server_region_t6mb_u166mb_u16P6mb_u16" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv412region_writePK18mb_server_region_t6mb_u16PK6mb_u166mb_u16">
<span id="_CPPv312region_writePK18mb_server_region_t6mb_u16PK6mb_u166mb_u16"></span><span id="_CPPv212region_writePK18mb_server_region_t6mb_u16PK6mb_u166mb_u16"></span><span id="region_write__mb_server_region_tCP.mb_u16.mb_u16CP.mb_u16"></span><span class="target" id="server_8c_1aefa79b8df361e56d836804a3a01c85ac"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">region_write</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418mb_server_region_t" title="mb_server_region_t"><span class="n"><span class="pre">mb_server_region_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">region</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">addr</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">values</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">quantity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412region_writePK18mb_server_region_t6mb_u16PK6mb_u166mb_u16" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv411find_regionPK11mb_server_t6mb_u166mb_u16">
<span id="_CPPv311find_regionPK11mb_server_t6mb_u166mb_u16"></span><span id="_CPPv211find_regionPK11mb_server_t6mb_u166mb_u16"></span><span id="find_region__mb_server_tCP.mb_u16.mb_u16"></span><span class="target" id="server_8c_1a5d09be551be790e0edc3075b35208bab"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418mb_server_region_t" title="mb_server_region_t"><span class="n"><span class="pre">mb_server_region_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">find_region</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">start</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">quantity</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv411find_regionPK11mb_server_t6mb_u166mb_u16" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422map_error_to_exception8mb_err_t">
<span id="_CPPv322map_error_to_exception8mb_err_t"></span><span id="_CPPv222map_error_to_exception8mb_err_t"></span><span id="map_error_to_exception__mb_err_t"></span><span class="target" id="server_8c_1a6d43b05a436dc36293df811c1cf82029"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">map_error_to_exception</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422map_error_to_exception8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421server_update_latencyP11mb_server_tPK19mb_server_request_t">
<span id="_CPPv321server_update_latencyP11mb_server_tPK19mb_server_request_t"></span><span id="_CPPv221server_update_latencyP11mb_server_tPK19mb_server_request_t"></span><span id="server_update_latency__mb_server_tP.mb_server_request_tCP"></span><span class="target" id="server_8c_1aef3819e64d5758f7ddb4b5827c8caa2d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_update_latency</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421server_update_latencyP11mb_server_tPK19mb_server_request_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420server_handle_poisonP11mb_server_t">
<span id="_CPPv320server_handle_poisonP11mb_server_t"></span><span id="_CPPv220server_handle_poisonP11mb_server_t"></span><span id="server_handle_poison__mb_server_tP"></span><span class="target" id="server_8c_1abc287221dfab75b959edb58b8fd7e1ce"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_handle_poison</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420server_handle_poisonP11mb_server_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423server_prepare_responseP11mb_server_tP19mb_server_request_t">
<span id="_CPPv323server_prepare_responseP11mb_server_tP19mb_server_request_t"></span><span id="_CPPv223server_prepare_responseP11mb_server_tP19mb_server_request_t"></span><span id="server_prepare_response__mb_server_tP.mb_server_request_tP"></span><span class="target" id="server_8c_1afbf820ece1095de0f3a87a2abf351f1e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_prepare_response</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423server_prepare_responseP11mb_server_tP19mb_server_request_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423server_finalize_requestP11mb_server_tP19mb_server_request_t8mb_err_t">
<span id="_CPPv323server_finalize_requestP11mb_server_tP19mb_server_request_t8mb_err_t"></span><span id="_CPPv223server_finalize_requestP11mb_server_tP19mb_server_request_t8mb_err_t"></span><span id="server_finalize_request__mb_server_tP.mb_server_request_tP.mb_err_t"></span><span class="target" id="server_8c_1a8a0bb960a3e03bd40f654832f078ff4f"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_finalize_request</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">completion</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423server_finalize_requestP11mb_server_tP19mb_server_request_t8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426server_send_built_responseP11mb_server_tPK19mb_server_request_t">
<span id="_CPPv326server_send_built_responseP11mb_server_tPK19mb_server_request_t"></span><span id="_CPPv226server_send_built_responseP11mb_server_tPK19mb_server_request_t"></span><span id="server_send_built_response__mb_server_tP.mb_server_request_tCP"></span><span class="target" id="server_8c_1a91adedf3330badd245e5b841122edd52"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_send_built_response</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426server_send_built_responseP11mb_server_tPK19mb_server_request_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419server_perform_sendP11mb_server_tP19mb_server_request_t">
<span id="_CPPv319server_perform_sendP11mb_server_tP19mb_server_request_t"></span><span id="_CPPv219server_perform_sendP11mb_server_tP19mb_server_request_t"></span><span id="server_perform_send__mb_server_tP.mb_server_request_tP"></span><span class="target" id="server_8c_1a8466ed420be0e2c53c9175c490178148"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_perform_send</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419server_perform_sendP11mb_server_tP19mb_server_request_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423server_process_rx_phaseP11mb_server_tP19mb_server_request_t12mb_time_ms_t">
<span id="_CPPv323server_process_rx_phaseP11mb_server_tP19mb_server_request_t12mb_time_ms_t"></span><span id="_CPPv223server_process_rx_phaseP11mb_server_tP19mb_server_request_t12mb_time_ms_t"></span><span id="server_process_rx_phase__mb_server_tP.mb_server_request_tP.mb_time_ms_t"></span><span class="target" id="server_8c_1a3db85dc63da775b55c32224d156e6e9c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_process_rx_phase</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423server_process_rx_phaseP11mb_server_tP19mb_server_request_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv423server_process_tx_phaseP11mb_server_tP19mb_server_request_t12mb_time_ms_t">
<span id="_CPPv323server_process_tx_phaseP11mb_server_tP19mb_server_request_t12mb_time_ms_t"></span><span id="_CPPv223server_process_tx_phaseP11mb_server_tP19mb_server_request_t12mb_time_ms_t"></span><span id="server_process_tx_phase__mb_server_tP.mb_server_request_tP.mb_time_ms_t"></span><span class="target" id="server_8c_1af8f7c05c9cd39568399ec5cab0ffe72a"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_process_tx_phase</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv423server_process_tx_phaseP11mb_server_tP19mb_server_request_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422server_check_deadlinesP11mb_server_tP19mb_server_request_t12mb_time_ms_t">
<span id="_CPPv322server_check_deadlinesP11mb_server_tP19mb_server_request_t12mb_time_ms_t"></span><span id="_CPPv222server_check_deadlinesP11mb_server_tP19mb_server_request_t12mb_time_ms_t"></span><span id="server_check_deadlines__mb_server_tP.mb_server_request_tP.mb_time_ms_t"></span><span class="target" id="server_8c_1a526824ad8b4e9337be29a69e30a4f688"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_check_deadlines</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">req</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422server_check_deadlinesP11mb_server_tP19mb_server_request_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418server_expire_headP11mb_server_t12mb_time_ms_t">
<span id="_CPPv318server_expire_headP11mb_server_t12mb_time_ms_t"></span><span id="_CPPv218server_expire_headP11mb_server_t12mb_time_ms_t"></span><span id="server_expire_head__mb_server_tP.mb_time_ms_t"></span><span class="target" id="server_8c_1ae69f5f5506cb911573d4901861904833"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_expire_head</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418server_expire_headP11mb_server_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417server_start_nextP11mb_server_t12mb_time_ms_t">
<span id="_CPPv317server_start_nextP11mb_server_t12mb_time_ms_t"></span><span id="_CPPv217server_start_nextP11mb_server_t12mb_time_ms_t"></span><span id="server_start_next__mb_server_tP.mb_time_ms_t"></span><span class="target" id="server_8c_1a81a108264bf188beb9a82510e06e4e4c"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_start_next</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417server_start_nextP11mb_server_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv415server_run_stepP11mb_server_t12mb_time_ms_t">
<span id="_CPPv315server_run_stepP11mb_server_t12mb_time_ms_t"></span><span id="_CPPv215server_run_stepP11mb_server_t12mb_time_ms_t"></span><span id="server_run_step__mb_server_tP.mb_time_ms_t"></span><span class="target" id="server_8c_1a3598723a27c1668d840f971a4a1c4b59"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_run_step</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">now</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv415server_run_stepP11mb_server_t12mb_time_ms_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv418server_record_dropP11mb_server_tPK13mb_adu_view_tb8mb_err_t">
<span id="_CPPv318server_record_dropP11mb_server_tPK13mb_adu_view_tb8mb_err_t"></span><span id="_CPPv218server_record_dropP11mb_server_tPK13mb_adu_view_tb8mb_err_t"></span><span id="server_record_drop__mb_server_tP.mb_adu_view_tCP.b.mb_err_t"></span><span class="target" id="server_8c_1acc8140138549bc0c0f54fc407c68b50d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_record_drop</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">broadcast</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">exception</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv418server_record_dropP11mb_server_tPK13mb_adu_view_tb8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv417server_accept_aduP11mb_server_tPK13mb_adu_view_t8mb_err_t">
<span id="_CPPv317server_accept_aduP11mb_server_tPK13mb_adu_view_t8mb_err_t"></span><span id="_CPPv217server_accept_aduP11mb_server_tPK13mb_adu_view_t8mb_err_t"></span><span id="server_accept_adu__mb_server_tP.mb_adu_view_tCP.mb_err_t"></span><span class="target" id="server_8c_1a49a60472843cb6b1df3d7846ac5e8e86"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">server_accept_adu</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">status</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv417server_accept_aduP11mb_server_tPK13mb_adu_view_t8mb_err_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422mb_server_rtu_callbackP18mb_rtu_transport_tPK13mb_adu_view_t8mb_err_tPv">
<span id="_CPPv322mb_server_rtu_callbackP18mb_rtu_transport_tPK13mb_adu_view_t8mb_err_tPv"></span><span id="_CPPv222mb_server_rtu_callbackP18mb_rtu_transport_tPK13mb_adu_view_t8mb_err_tPv"></span><span id="mb_server_rtu_callback__mb_rtu_transport_tP.mb_adu_view_tCP.mb_err_t.voidP"></span><span class="target" id="server_8c_1a9e2fa6744c7a1dc1598a512817caa9ef"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_rtu_callback</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">mb_rtu_transport_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">rtu</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">status</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422mb_server_rtu_callbackP18mb_rtu_transport_tPK13mb_adu_view_t8mb_err_tPv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a6bc380aa0da1913fb9f77b6093b5ffc8"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iface</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <a class="reference internal" href="#_CPPv418mb_server_region_t" title="mb_server_region_t"><span class="n"><span class="pre">mb_server_region_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">regions</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">region_capacity</span></span>, <a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">request_pool</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">request_pool_len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialises a server object bound to a transport interface. </p>
<p>All memory backing regions and request slots is supplied by the caller so the server can operate without dynamic allocations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance to initialise. </p></li>
<li><p><strong>iface</strong> – Transport implementing <a class="reference internal" href="#structmb__transport__if__t"><span class="std std-ref">mb_transport_if_t</span></a>. </p></li>
<li><p><strong>unit_id</strong> – Modbus unit identifier served by this instance. </p></li>
<li><p><strong>regions</strong> – Array used to store region descriptors. </p></li>
<li><p><strong>region_capacity</strong> – Number of entries available in <code class="docutils literal notranslate"><span class="pre">regions</span></code>. </p></li>
<li><p><strong>request_pool</strong> – Array of request descriptors used as queue storage. </p></li>
<li><p><strong>request_pool_len</strong> – Number of entries in <code class="docutils literal notranslate"><span class="pre">request_pool</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Initialisation succeeded. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid argument or missing storage. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a5ee70ffc8f4961e3090ac02a98b93cd1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Clears all registered register regions and pending requests. </p>
<p>Pending requests are not cancelled; call mb_server_submit_poison first if a graceful drain is required. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv413insert_regionP11mb_server_tPK18mb_server_region_t">
<span id="_CPPv313insert_regionP11mb_server_tPK18mb_server_region_t"></span><span id="_CPPv213insert_regionP11mb_server_tPK18mb_server_region_t"></span><span id="insert_region__mb_server_tP.mb_server_region_tCP"></span><span class="target" id="server_8c_1a6fb8d1bcbda4fac77b422ed1451b4903"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">insert_region</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv418mb_server_region_t" title="mb_server_region_t"><span class="n"><span class="pre">mb_server_region_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">cfg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv413insert_regionP11mb_server_tPK18mb_server_region_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a03ae8ec410d595bb4b6af834080c055a"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_add_region</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">start</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">read_only</span></span>, <a class="reference internal" href="#_CPPv417mb_server_read_fn" title="mb_server_read_fn"><span class="n"><span class="pre">mb_server_read_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">read_cb</span></span>, <a class="reference internal" href="#_CPPv418mb_server_write_fn" title="mb_server_write_fn"><span class="n"><span class="pre">mb_server_write_fn</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">write_cb</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Registers a region served exclusively through callbacks. </p>
<p>Use this overload when registers are virtual or when backing storage lives outside the server instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>start</strong> – First register address handled by the region. </p></li>
<li><p><strong>count</strong> – Number of registers exposed by the region. </p></li>
<li><p><strong>read_only</strong> – Reject write requests when true. </p></li>
<li><p><strong>read_cb</strong> – Callback invoked for read operations. </p></li>
<li><p><strong>write_cb</strong> – Callback invoked for write operations (ignored when <code class="docutils literal notranslate"><span class="pre">read_only</span></code> is true). </p></li>
<li><p><strong>user_ctx</strong> – Pointer forwarded to callbacks.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Region added successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid range or overlaps existing regions. </p></li>
<li><p><strong>MB_ERR_OTHER</strong> – Region capacity exhausted. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a00f274e9718b81e217ada5eb29d5d8c4"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_add_storage</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">start</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">read_only</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">storage</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Registers a region backed by caller-provided storage. </p>
<p>The buffer provided in <code class="docutils literal notranslate"><span class="pre">storage</span></code> must contain at least <code class="docutils literal notranslate"><span class="pre">count</span></code> elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>start</strong> – First register address handled by the region. </p></li>
<li><p><strong>count</strong> – Number of registers backed by <code class="docutils literal notranslate"><span class="pre">storage</span></code>. </p></li>
<li><p><strong>read_only</strong> – Reject write requests when true. </p></li>
<li><p><strong>storage</strong> – Caller-owned register array.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Region added successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid storage pointer or range. </p></li>
<li><p><strong>MB_ERR_OTHER</strong> – Region capacity exhausted. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1aa9f6c189ff6fdee018c60a1b6328c1fa"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_poll</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Advances the server finite-state machine. </p>
<p>Poll this function frequently to accept new Modbus requests and service the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Operation succeeded or no work was pending. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">server</span></code> was NULL. </p></li>
<li><p><strong>other</strong> – Error codes bubbled up from the active transport. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a96b5a1250c3d4230e7d9ae72b7fbe0c7"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_poll_with_budget</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">steps</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Advances the server FSM with a bounded micro-step budget. </p>
<p>Behaviour mirrors mb_server_poll while co-operating with the caller’s scheduler. Supplying <code class="docutils literal notranslate"><span class="pre">0</span></code> preserves the legacy behaviour (unbounded).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>steps</strong> – Maximum micro-steps to execute (0 means unbounded).</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Operation succeeded or no work was pending. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">server</span></code> was NULL. </p></li>
<li><p><strong>other</strong> – Transport error bubbled up from the active transport. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a3c19b9859ebe03189762a3d1874025c8"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_inject_adu</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Injects a raw ADU into the server for testing purposes. </p>
<p>Intended for simulations where the transport path is bypassed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>adu</strong> – ADU to inject.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – ADU was accepted for processing. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">server</span></code> or <code class="docutils literal notranslate"><span class="pre">adu</span></code> was NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a19a2c83a75b3d992c5734b939d97e3dd"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_get_diag</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_diag</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Copies diagnostic counters into <code class="docutils literal notranslate"><span class="pre">out_diag</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>out_diag</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a9e220998303cc1e4da7a5ca3e15b5832"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_get_diag_snapshot</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_snapshot_t" title="mb_diag_snapshot_t"><span class="n"><span class="pre">mb_diag_snapshot_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_snapshot</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Captures a snapshot of server diagnostics, including trace data when enabled. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>out_snapshot</strong> – Destination snapshot; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a7c5e71bc7167531bb4a01c6c5bf36294"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_reset_diag</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Clears the diagnostic counters maintained by the server. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1aad048669d3f8c9eeb6502a59d139d858"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_event_callback</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_event_callback_t" title="mb_event_callback_t"><span class="n"><span class="pre">mb_event_callback_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">callback</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Registers an event callback invoked on state transitions and requests. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>callback</strong> – Event sink; pass NULL to disable notifications. </p></li>
<li><p><strong>user_ctx</strong> – Opaque pointer forwarded to <code class="docutils literal notranslate"><span class="pre">callback</span></code>. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a089448fed50fa7d208924fcf2a722902"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_trace_hex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">enable</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Enables or disables hexadecimal tracing of requests and responses. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>enable</strong> – <code class="docutils literal notranslate"><span class="pre">true</span></code> to enable tracing, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a3eb509c52701e0ec07de10399e80ab32"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_pending</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the number of requests currently pending in the queue. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of pending requests (0 when <code class="docutils literal notranslate"><span class="pre">server</span></code> is NULL). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1aa3b7f7cfedc21030f9b964022abe5786"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_is_idle</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Reports whether the server has no active or queued requests. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – No requests are in-flight or queued. </p></li>
<li><p><strong>false</strong> – There is active or pending work. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a91ab7ab8e2354c0aca5ef3165eb0ea47"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_queue_capacity</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Limits how many requests can be staged at once. </p>
<p>Setting <code class="docutils literal notranslate"><span class="pre">capacity</span></code> to zero enables an unbounded queue capped only by the size of the request pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>capacity</strong> – Maximum number of queued requests. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a7729d7ac922e7a7e72b1e0c33c54a753"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_queue_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Retrieves the current queue capacity limit. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Queue capacity (0 when <code class="docutils literal notranslate"><span class="pre">server</span></code> is NULL). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a26ee057e4c67605b53de1d59238e02da"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_fc_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Overrides the timeout used for a specific function code. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>function</strong> – Function code whose timeout should be updated. </p></li>
<li><p><strong>timeout_ms</strong> – Timeout in milliseconds (0 reverts to default). </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a42a6d0e4cd47912279229b955b5f13d0"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_submit_poison</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Enqueues a poison pill that flushes outstanding requests. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Poison request queued successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">server</span></code> was NULL. </p></li>
<li><p><strong>MB_ERR_NO_RESOURCES</strong> – No spare request slot was available. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1ae0e50d61a54e470987647b6962e942eb"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_get_metrics</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_server_metrics_t" title="mb_server_metrics_t"><span class="n"><span class="pre">mb_server_metrics_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_metrics</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Copies accumulated metrics into <code class="docutils literal notranslate"><span class="pre">out_metrics</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>out_metrics</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8c_1a850905963d134e13219f51acfe22ffb0"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_reset_metrics</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Resets the server metrics to zero. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv425kExceptionIllegalFunction">
<span id="_CPPv325kExceptionIllegalFunction"></span><span id="_CPPv225kExceptionIllegalFunction"></span><span id="kExceptionIllegalFunction__mb_u16C"></span><span class="target" id="server_8c_1aa8e3e39dc8423c1809c297e13dc46816"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">kExceptionIllegalFunction</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MB_EX_ILLEGAL_FUNCTION</span></span><a class="headerlink" href="#_CPPv425kExceptionIllegalFunction" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv428kExceptionIllegalDataAddress">
<span id="_CPPv328kExceptionIllegalDataAddress"></span><span id="_CPPv228kExceptionIllegalDataAddress"></span><span id="kExceptionIllegalDataAddress__mb_u16C"></span><span class="target" id="server_8c_1a874f7c8fd7844cd696bc56b1e87fc6f2"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">kExceptionIllegalDataAddress</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MB_EX_ILLEGAL_DATA_ADDRESS</span></span><a class="headerlink" href="#_CPPv428kExceptionIllegalDataAddress" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv426kExceptionIllegalDataValue">
<span id="_CPPv326kExceptionIllegalDataValue"></span><span id="_CPPv226kExceptionIllegalDataValue"></span><span id="kExceptionIllegalDataValue__mb_u16C"></span><span class="target" id="server_8c_1a1bc7c5351490abcc84299d09590b7862"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">kExceptionIllegalDataValue</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MB_EX_ILLEGAL_DATA_VALUE</span></span><a class="headerlink" href="#_CPPv426kExceptionIllegalDataValue" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv429kExceptionServerDeviceFailure">
<span id="_CPPv329kExceptionServerDeviceFailure"></span><span id="_CPPv229kExceptionServerDeviceFailure"></span><span id="kExceptionServerDeviceFailure__mb_u16C"></span><span class="target" id="server_8c_1a0820a4afb56bd212ca77b46268df3914"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">kExceptionServerDeviceFailure</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="n"><span class="pre">MB_EX_SERVER_DEVICE_FAILURE</span></span><a class="headerlink" href="#_CPPv429kExceptionServerDeviceFailure" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="transport_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">transport.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;limits.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#transport_8h"><span class="std std-ref">modbus/transport.h</span></a>&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428modbus_transport_legacy_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t">
<span id="_CPPv328modbus_transport_legacy_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="_CPPv228modbus_transport_legacy_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="modbus_transport_legacy_send__voidP.mb_u8CP.mb_size_t.mb_transport_io_result_tP"></span><span class="target" id="transport_8c_1ab5b7ff11e90d48e6be70b50d1975907d"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_transport_legacy_send</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buf</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">len</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428modbus_transport_legacy_sendPvPK5mb_u89mb_size_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428modbus_transport_legacy_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t">
<span id="_CPPv328modbus_transport_legacy_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="_CPPv228modbus_transport_legacy_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t"></span><span id="modbus_transport_legacy_recv__voidP.mb_u8P.mb_size_t.mb_transport_io_result_tP"></span><span class="target" id="transport_8c_1a6c1d2a8881cfd6543a75bf29e180ac7b"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_transport_legacy_recv</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">buf</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">cap</span></span>, <a class="reference internal" href="#_CPPv424mb_transport_io_result_t" title="mb_transport_io_result_t"><span class="n"><span class="pre">mb_transport_io_result_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428modbus_transport_legacy_recvPvP5mb_u89mb_size_tP24mb_transport_io_result_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv427modbus_transport_legacy_nowPv">
<span id="_CPPv327modbus_transport_legacy_nowPv"></span><span id="_CPPv227modbus_transport_legacy_nowPv"></span><span id="modbus_transport_legacy_now__voidP"></span><span class="target" id="transport_8c_1ae9da42b41722ac0df89a71d918120e03"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_transport_legacy_now</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">ctx</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv427modbus_transport_legacy_nowPv" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="ascii_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">ascii.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="rtu_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">rtu.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="tcp_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">tcp.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="tcp__multi_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">tcp_multi.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#conf_8h"><span class="std std-ref">modbus/conf.h</span></a>&gt;</em></div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="utils_8c"></span><em><span class="pre">file</span></em> <span class="sig-name descname"><span class="pre">utils.c</span></span></dt>
<dd><div class="docutils container">
<em>#include &lt;<a class="reference internal" href="#utils_8h"><span class="std std-ref">modbus/utils.h</span></a>&gt;</em></div>
<div class="docutils container">
<em>#include &lt;stddef.h&gt;</em></div>
<div class="docutils container">
<em>#include &lt;string.h&gt;</em></div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-unnamed-group">Unnamed Group</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.CRC_POLYNOMIAL">
<span class="target" id="utils_8c_1a4193f399cfecf510bd0f451145d5c73e"></span><span class="sig-name descname"><span class="n"><span class="pre">CRC_POLYNOMIAL</span></span></span><a class="headerlink" href="#c.CRC_POLYNOMIAL" title="Link to this definition"></a><br /></dt>
<dd><p>CRC polynomial used for Modbus CRC-16 calculation </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv49crc_table">
<span id="_CPPv39crc_table"></span><span id="_CPPv29crc_table"></span><span id="crc_table__uint16_tCA"></span><span class="target" id="utils_8c_1ad0dd59aa92e0d6ebd0de8e6908e21cd7"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">crc_table</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">256</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv49crc_table" title="Link to this definition"></a><br /></dt>
<dd><p>Precomputed CRC lookup table for Modbus. </p>
<p>This table is used by the <code class="docutils literal notranslate"><span class="pre">modbus_crc_with_table()</span></code> function to quickly compute the CRC for each byte of data. It enhances the efficiency of CRC calculations compared to bit-by-bit methods.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><ul class="simple">
<li><p>Ensure that the table remains unchanged to maintain CRC calculation accuracy. </p></li>
</ul>
</p>
</div>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425modbus_regs_to_bytes_abcdPK8uint16_tAL4E_7uint8_t">
<span id="_CPPv325modbus_regs_to_bytes_abcdPK8uint16_tAL4E_7uint8_t"></span><span id="_CPPv225modbus_regs_to_bytes_abcdPK8uint16_tA4_7uint8_t"></span><span id="modbus_regs_to_bytes_abcd__uint16_tCP.uint8_tA"></span><span class="target" id="utils_8c_1a26b7217164723e92ddd7839b918b2f38"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_regs_to_bytes_abcd</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">registers</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">out</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">]</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425modbus_regs_to_bytes_abcdPK8uint16_tAL4E_7uint8_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425modbus_bytes_to_regs_abcdAL4E_K7uint8_tP8uint16_t">
<span id="_CPPv325modbus_bytes_to_regs_abcdAL4E_K7uint8_tP8uint16_t"></span><span id="_CPPv225modbus_bytes_to_regs_abcdA4_K7uint8_tP8uint16_t"></span><span id="modbus_bytes_to_regs_abcd__uint8_tCA.uint16_tP"></span><span class="target" id="utils_8c_1a3a56d6b9da00b7163f3f4d91a7a55998"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_bytes_to_regs_abcd</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">bytes</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">]</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dest</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425modbus_bytes_to_regs_abcdAL4E_K7uint8_tP8uint16_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419modbus_bytes_to_u32AL4E_K7uint8_t">
<span id="_CPPv319modbus_bytes_to_u32AL4E_K7uint8_t"></span><span id="_CPPv219modbus_bytes_to_u32A4_K7uint8_t"></span><span id="modbus_bytes_to_u32__uint8_tCA"></span><span class="target" id="utils_8c_1a5d09c36d52843a38c3f0920155d36098"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_bytes_to_u32</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">bytes</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">]</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419modbus_bytes_to_u32AL4E_K7uint8_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv419modbus_u32_to_bytes8uint32_tAL4E_7uint8_t">
<span id="_CPPv319modbus_u32_to_bytes8uint32_tAL4E_7uint8_t"></span><span id="_CPPv219modbus_u32_to_bytes8uint32_tA4_7uint8_t"></span><span id="modbus_u32_to_bytes__uint32_t.uint8_tA"></span><span class="target" id="utils_8c_1aece4214ad5bc6a7eeb7d2c5f3a25a3d4"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_u32_to_bytes</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">out</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">]</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv419modbus_u32_to_bytes8uint32_tAL4E_7uint8_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv420modbus_reorder_bytesAL4E_K7uint8_tAL4E_7uint8_t7uint8_t7uint8_t7uint8_t7uint8_t">
<span id="_CPPv320modbus_reorder_bytesAL4E_K7uint8_tAL4E_7uint8_t7uint8_t7uint8_t7uint8_t7uint8_t"></span><span id="_CPPv220modbus_reorder_bytesA4_K7uint8_tA4_7uint8_t7uint8_t7uint8_t7uint8_t7uint8_t"></span><span id="modbus_reorder_bytes__uint8_tCA.uint8_tA.uint8_t.uint8_t.uint8_t.uint8_t"></span><span class="target" id="utils_8c_1a9ed2ed8ec7f90084acee61f0e625e576"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_reorder_bytes</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">in</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">]</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">out</span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">4</span></span><span class="p"><span class="pre">]</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b0</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b1</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b2</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b3</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv420modbus_reorder_bytesAL4E_K7uint8_tAL4E_7uint8_t7uint8_t7uint8_t7uint8_t7uint8_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422modbus_get_u32_orderedPK8uint16_t7uint8_t7uint8_t7uint8_t7uint8_t">
<span id="_CPPv322modbus_get_u32_orderedPK8uint16_t7uint8_t7uint8_t7uint8_t7uint8_t"></span><span id="_CPPv222modbus_get_u32_orderedPK8uint16_t7uint8_t7uint8_t7uint8_t7uint8_t"></span><span id="modbus_get_u32_ordered__uint16_tCP.uint8_t.uint8_t.uint8_t.uint8_t"></span><span class="target" id="utils_8c_1a9588dde98007d93214bdcbf0eee3cf23"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_get_u32_ordered</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">registers</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b0</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b1</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b2</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b3</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422modbus_get_u32_orderedPK8uint16_t7uint8_t7uint8_t7uint8_t7uint8_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv422modbus_set_u32_ordered8uint32_tP8uint16_t7uint8_t7uint8_t7uint8_t7uint8_t">
<span id="_CPPv322modbus_set_u32_ordered8uint32_tP8uint16_t7uint8_t7uint8_t7uint8_t7uint8_t"></span><span id="_CPPv222modbus_set_u32_ordered8uint32_tP8uint16_t7uint8_t7uint8_t7uint8_t7uint8_t"></span><span id="modbus_set_u32_ordered__uint32_t.uint16_tP.uint8_t.uint8_t.uint8_t.uint8_t"></span><span class="target" id="utils_8c_1a6f139c8da874d7eba651af2a1bc3b13e"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_set_u32_ordered</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span>, <span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">dest</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b0</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b1</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b2</span></span>, <span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">b3</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv422modbus_set_u32_ordered8uint32_tP8uint16_t7uint8_t7uint8_t7uint8_t7uint8_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421modbus_float_from_u328uint32_t">
<span id="_CPPv321modbus_float_from_u328uint32_t"></span><span id="_CPPv221modbus_float_from_u328uint32_t"></span><span id="modbus_float_from_u32__uint32_t"></span><span class="target" id="utils_8c_1a150ed89bb2e945bfe51b574659610834"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_float_from_u32</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">raw</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421modbus_float_from_u328uint32_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv421modbus_u32_from_floatf">
<span id="_CPPv321modbus_u32_from_floatf"></span><span id="_CPPv221modbus_u32_from_floatf"></span><span id="modbus_u32_from_float__float"></span><span class="target" id="utils_8c_1a9c84c4b5d1a4ebab33a2b33e11b6c5ee"></span><span class="k"><span class="pre">static</span></span><span class="w"> </span><span class="n"><span class="pre">uint32_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_u32_from_float</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">float</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">value</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv421modbus_u32_from_floatf" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__ModbusCore"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">ModbusCore</span></span></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MODBUS_BROADCAST_ADDRESS">
<span class="target" id="group__ModbusCore_1gae7e7b3815bbb3021c65250bf30c7eead"></span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_BROADCAST_ADDRESS</span></span></span><a class="headerlink" href="#c.MODBUS_BROADCAST_ADDRESS" title="Link to this definition"></a><br /></dt>
<dd><p>Modbus broadcast address. </p>
<p>&lt; For <a class="reference internal" href="#structmodbus__transport__t"><span class="std std-ref">modbus_transport_t</span></a> and related definitions </p>
<p>This address is used to send messages to all slaves on the network. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MODBUS_BOOTLOADER_ADDRESS">
<span class="target" id="group__ModbusCore_1ga6c1abecf0a8d337134924e45ec58d686"></span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_BOOTLOADER_ADDRESS</span></span></span><a class="headerlink" href="#c.MODBUS_BOOTLOADER_ADDRESS" title="Link to this definition"></a><br /></dt>
<dd><p>Modbus bootloader address. </p>
<p>This address is reserved for bootloader operations. </p>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.GET_LOW_BYTE">
<span class="target" id="group__ModbusCore_1ga7e9ed71379e2506d2f372c45bb8ab419"></span><span class="sig-name descname"><span class="n"><span class="pre">GET_LOW_BYTE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">d</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.GET_LOW_BYTE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.GET_HIGH_BYTE">
<span class="target" id="group__ModbusCore_1ga3715fc12feb0cf619cffc657e87b27f9"></span><span class="sig-name descname"><span class="n"><span class="pre">GET_HIGH_BYTE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">d</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.GET_HIGH_BYTE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv422modbus_read_callback_t">
<span id="_CPPv322modbus_read_callback_t"></span><span id="_CPPv222modbus_read_callback_t"></span><span id="modbus_read_callback_t"></span><span class="target" id="group__ModbusCore_1ga6c0f8ce516c9ea4be5e04df2f9ccbd2a"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">int16_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">modbus_read_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv422modbus_read_callback_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv423modbus_write_callback_t">
<span id="_CPPv323modbus_write_callback_t"></span><span id="_CPPv223modbus_write_callback_t"></span><span id="modbus_write_callback_t"></span><span class="target" id="group__ModbusCore_1gad868feb71b526e4d004ebd66ba468db3"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">int16_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">modbus_write_callback_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">int16_t</span></span><span class="w"> </span><span class="n"><span class="pre">new_value</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv423modbus_write_callback_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv413modbus_role_t">
<span id="_CPPv313modbus_role_t"></span><span id="_CPPv213modbus_role_t"></span><span class="target" id="group__ModbusCore_1ga7aae02125a032dd6dc91741585a77c11"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_role_t</span></span></span><a class="headerlink" href="#_CPPv413modbus_role_t" title="Link to this definition"></a><br /></dt>
<dd><p>Enumeration defining the role of a Modbus instance. </p>
<p>A single codebase can support both Client and Server roles by selecting the role at runtime or compile time. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13modbus_role_t18MODBUS_ROLE_CLIENTE">
<span id="_CPPv3N13modbus_role_t18MODBUS_ROLE_CLIENTE"></span><span id="_CPPv2N13modbus_role_t18MODBUS_ROLE_CLIENTE"></span><span class="target" id="group__ModbusCore_1gga7aae02125a032dd6dc91741585a77c11a2bcff9db25b403fbb28290831cca729d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ROLE_CLIENT</span></span></span><a class="headerlink" href="#_CPPv4N13modbus_role_t18MODBUS_ROLE_CLIENTE" title="Link to this definition"></a><br /></dt>
<dd><p>Client role </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13modbus_role_t18MODBUS_ROLE_SERVERE">
<span id="_CPPv3N13modbus_role_t18MODBUS_ROLE_SERVERE"></span><span id="_CPPv2N13modbus_role_t18MODBUS_ROLE_SERVERE"></span><span class="target" id="group__ModbusCore_1gga7aae02125a032dd6dc91741585a77c11a924df46fd4b6586dfc01ad4d0ac624a8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_ROLE_SERVER</span></span></span><a class="headerlink" href="#_CPPv4N13modbus_role_t18MODBUS_ROLE_SERVERE" title="Link to this definition"></a><br /></dt>
<dd><p>Server role </p>
</dd></dl>

</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__FSM"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">FSM</span></span></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.FSM_EVENT_QUEUE_SIZE">
<span class="target" id="group__FSM_1ga59372fe5cbc89d82109d6b97b18608b7"></span><span class="sig-name descname"><span class="n"><span class="pre">FSM_EVENT_QUEUE_SIZE</span></span></span><a class="headerlink" href="#c.FSM_EVENT_QUEUE_SIZE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.FSM_CONF_INLINE_QUEUE">
<span class="target" id="group__FSM_1ga2f0bdf49eae97c45c7cda01aeae64388"></span><span class="sig-name descname"><span class="n"><span class="pre">FSM_CONF_INLINE_QUEUE</span></span></span><a class="headerlink" href="#c.FSM_CONF_INLINE_QUEUE" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.FSM_EVENT_STATE_TIMEOUT">
<span class="target" id="group__FSM_1ga88de82c612b3ecd75d98dcc7c12aeb33"></span><span class="sig-name descname"><span class="n"><span class="pre">FSM_EVENT_STATE_TIMEOUT</span></span></span><a class="headerlink" href="#c.FSM_EVENT_STATE_TIMEOUT" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.FSM_TRANSITION">
<span class="target" id="group__FSM_1ga13ec59240fb43dafdf009064955a5116"></span><span class="sig-name descname"><span class="n"><span class="pre">FSM_TRANSITION</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_event</span></span>, <span class="n"><span class="pre">_next_state</span></span>, <span class="n"><span class="pre">_action</span></span>, <span class="n"><span class="pre">_guard</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.FSM_TRANSITION" title="Link to this definition"></a><br /></dt>
<dd><p>Helper macro to define a transition. </p>
<p><strong>Example:</strong> <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FSM_TRANSITION</span><span class="p">(</span><span class="n">EVENT_X</span><span class="p">,</span> <span class="n">next_state</span><span class="p">,</span> <span class="n">my_action</span><span class="p">,</span> <span class="n">my_guard</span><span class="p">);</span>
</pre></div>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_event</strong> – Triggering event. </p></li>
<li><p><strong>_next_state</strong> – Next state to transition to if guard is <code class="docutils literal notranslate"><span class="pre">true</span></code>. </p></li>
<li><p><strong>_action</strong> – Action to execute during the transition (or <code class="docutils literal notranslate"><span class="pre">NULL</span></code>). </p></li>
<li><p><strong>_guard</strong> – Guard function to evaluate (or <code class="docutils literal notranslate"><span class="pre">NULL</span></code>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Initialized <code class="docutils literal notranslate"><a class="reference internal" href="#structfsm__transition__t"><span class="std std-ref"><span class="pre">fsm_transition_t</span></span></a></code> structure. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.FSM_STATE">
<span class="target" id="group__FSM_1ga51b6f0a92db791e029306120000ce2f1"></span><span class="sig-name descname"><span class="n"><span class="pre">FSM_STATE</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">_name</span></span>, <span class="n"><span class="pre">_state_id</span></span>, <span class="n"><span class="pre">_transitions</span></span>, <span class="n"><span class="pre">_default_action</span></span>, <span class="n"><span class="pre">_timeout</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.FSM_STATE" title="Link to this definition"></a><br /></dt>
<dd><p>Helper macro to define a state. </p>
<p><strong>Example:</strong> <div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">static</span> <span class="n">const</span> <span class="n">fsm_transition_t</span> <span class="n">idle_transitions</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">FSM_TRANSITION</span><span class="p">(</span><span class="n">EVENT_START</span><span class="p">,</span> <span class="n">state_running</span><span class="p">,</span> <span class="n">start_action</span><span class="p">,</span> <span class="n">NULL</span><span class="p">)</span>
<span class="p">};</span>
<span class="n">const</span> <span class="n">fsm_state_t</span> <span class="n">state_idle</span> <span class="o">=</span> <span class="n">FSM_STATE</span><span class="p">(</span><span class="s2">&quot;IDLE&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">idle_transitions</span><span class="p">,</span> <span class="n">NULL</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
</pre></div>
</div>
</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_name</strong> – Name of the state (string). </p></li>
<li><p><strong>_state_id</strong> – Numeric ID of the state. </p></li>
<li><p><strong>_transitions</strong> – Array of transitions. </p></li>
<li><p><strong>_default_action</strong> – Default action function to execute when no events are pending (or <code class="docutils literal notranslate"><span class="pre">NULL</span></code>). </p></li>
<li><p><strong>_timeout</strong> – Timeout in milliseconds before <a class="reference internal" href="#group__FSM_1ga88de82c612b3ecd75d98dcc7c12aeb33"><span class="std std-ref">FSM_EVENT_STATE_TIMEOUT</span></a> is emitted (0 to disable).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Initialized <code class="docutils literal notranslate"><span class="pre">fsm_state_t</span></code> structure. </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv417fsm_queue_index_t">
<span id="_CPPv317fsm_queue_index_t"></span><span id="_CPPv217fsm_queue_index_t"></span><span id="fsm_queue_index_t"></span><span class="target" id="group__FSM_1ga6e66e2967a56e0d227d999456d5549b7"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsm_queue_index_t</span></span></span><a class="headerlink" href="#_CPPv417fsm_queue_index_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv45fsm_t">
<span id="_CPPv35fsm_t"></span><span id="_CPPv25fsm_t"></span><span id="fsm_t"></span><span class="target" id="group__FSM_1ga94a3d1b22a6d8e0c292ce97108d2f161"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv43fsm" title="fsm"><span class="n"><span class="pre">fsm</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsm_t</span></span></span><a class="headerlink" href="#_CPPv45fsm_t" title="Link to this definition"></a><br /></dt>
<dd><p>Opaque structure representing the FSM. </p>
<p>The FSM structure encapsulates the current state, user-defined data, and the event queue. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv411fsm_state_t">
<span id="_CPPv311fsm_state_t"></span><span id="_CPPv211fsm_state_t"></span><span id="fsm_state_t"></span><span class="target" id="group__FSM_1ga16bf72955d2e13a16f555c9d4fe26f47"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv49fsm_state" title="fsm_state"><span class="n"><span class="pre">fsm_state</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fsm_state_t</span></span></span><a class="headerlink" href="#_CPPv411fsm_state_t" title="Link to this definition"></a><br /></dt>
<dd><p>Opaque structure representing a state in the FSM. </p>
<p>Each state is uniquely identified and contains transitions that define possible state changes. </p>
</dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv412fsm_action_t">
<span id="_CPPv312fsm_action_t"></span><span id="_CPPv212fsm_action_t"></span><span id="fsm_action_t"></span><span class="target" id="group__FSM_1ga7a1f71ed30e5f39d6e804dc408e96046"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">fsm_action_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv45fsm_t" title="fsm_t"><span class="n"><span class="pre">fsm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fsm</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv412fsm_action_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv411fsm_guard_t">
<span id="_CPPv311fsm_guard_t"></span><span id="_CPPv211fsm_guard_t"></span><span id="fsm_guard_t"></span><span class="target" id="group__FSM_1ga799880f4eb3738aceecac0904fcf28d4"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">fsm_guard_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv45fsm_t" title="fsm_t"><span class="n"><span class="pre">fsm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fsm</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv411fsm_guard_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv413fsm_time_fn_t">
<span id="_CPPv313fsm_time_fn_t"></span><span id="_CPPv213fsm_time_fn_t"></span><span id="fsm_time_fn_t"></span><span class="target" id="group__FSM_1ga3e5bbb53506e3e471c7eee225c1a1a79"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="n"><span class="pre">uint16_t</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">fsm_time_fn_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv413fsm_time_fn_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt class="sig sig-object cpp" id="_CPPv419fsm_event_drop_cb_t">
<span id="_CPPv319fsm_event_drop_cb_t"></span><span id="_CPPv219fsm_event_drop_cb_t"></span><span id="fsm_event_drop_cb_t"></span><span class="target" id="group__FSM_1ga2ac16960e38b00835180062b6e0dc016"></span><span class="k"><span class="pre">typedef</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">fsm_event_drop_cb_t</span></span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv45fsm_t" title="fsm_t"><span class="n"><span class="pre">fsm_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n"><span class="pre">fsm</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">uint8_t</span></span><span class="w"> </span><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv419fsm_event_drop_cb_t" title="Link to this definition"></a><br /></dt>
<dd></dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__ModbusTransport"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">ModbusTransport</span></span></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv423modbus_transport_type_t">
<span id="_CPPv323modbus_transport_type_t"></span><span id="_CPPv223modbus_transport_type_t"></span><span class="target" id="group__ModbusTransport_1ga88800ce2bd5b8f8c26f7d3f00c6b85f8"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">modbus_transport_type_t</span></span></span><a class="headerlink" href="#_CPPv423modbus_transport_type_t" title="Link to this definition"></a><br /></dt>
<dd><p>Enumeration of Modbus transport types. </p>
<p>Currently supports RTU and TCP. Additional transport types can be added in the future. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23modbus_transport_type_t20MODBUS_TRANSPORT_RTUE">
<span id="_CPPv3N23modbus_transport_type_t20MODBUS_TRANSPORT_RTUE"></span><span id="_CPPv2N23modbus_transport_type_t20MODBUS_TRANSPORT_RTUE"></span><span class="target" id="group__ModbusTransport_1gga88800ce2bd5b8f8c26f7d3f00c6b85f8a6edb5c1a5588196becb4e38d129cbfd7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_TRANSPORT_RTU</span></span></span><a class="headerlink" href="#_CPPv4N23modbus_transport_type_t20MODBUS_TRANSPORT_RTUE" title="Link to this definition"></a><br /></dt>
<dd><p>RTU transport type </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23modbus_transport_type_t20MODBUS_TRANSPORT_TCPE">
<span id="_CPPv3N23modbus_transport_type_t20MODBUS_TRANSPORT_TCPE"></span><span id="_CPPv2N23modbus_transport_type_t20MODBUS_TRANSPORT_TCPE"></span><span class="target" id="group__ModbusTransport_1gga88800ce2bd5b8f8c26f7d3f00c6b85f8a1a95ef3ca64976a9ffde00ebc8c40994"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_TRANSPORT_TCP</span></span></span><a class="headerlink" href="#_CPPv4N23modbus_transport_type_t20MODBUS_TRANSPORT_TCPE" title="Link to this definition"></a><br /></dt>
<dd><p>TCP transport type </p>
</dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N23modbus_transport_type_t22MODBUS_TRANSPORT_ASCIIE">
<span id="_CPPv3N23modbus_transport_type_t22MODBUS_TRANSPORT_ASCIIE"></span><span id="_CPPv2N23modbus_transport_type_t22MODBUS_TRANSPORT_ASCIIE"></span><span class="target" id="group__ModbusTransport_1gga88800ce2bd5b8f8c26f7d3f00c6b85f8a5a9347e2549c3bb61c536239cfe43bb0"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_TRANSPORT_ASCII</span></span></span><a class="headerlink" href="#_CPPv4N23modbus_transport_type_t22MODBUS_TRANSPORT_ASCIIE" title="Link to this definition"></a><br /></dt>
<dd><p>ASCII transport type </p>
</dd></dl>

</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="group__ModbusUtils"></span><em><span class="pre">group</span></em> <span class="sig-name descname"><span class="pre">ModbusUtils</span></span></dt>
<dd><div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt class="sig sig-object cpp" id="c.MODBUS_CONVERT_CHAR_INTERVAL_TO_MS">
<span class="target" id="group__ModbusUtils_1ga2c643432d88976a9e18b169bf64a048c"></span><span class="sig-name descname"><span class="n"><span class="pre">MODBUS_CONVERT_CHAR_INTERVAL_TO_MS</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">TIME_US</span></span>, <span class="n"><span class="pre">BAUDRATE</span></span><span class="sig-paren">)</span><a class="headerlink" href="#c.MODBUS_CONVERT_CHAR_INTERVAL_TO_MS" title="Link to this definition"></a><br /></dt>
<dd><p>Converts a character interval time from microseconds to milliseconds based on baud rate. </p>
<p>This macro calculates the equivalent time in milliseconds for a given character interval in microseconds (<code class="docutils literal notranslate"><span class="pre">TIME_US</span></code>) and a specified baud rate (<code class="docutils literal notranslate"><span class="pre">BAUDRATE</span></code>). It accounts for the typical 11 bits per character in Modbus RTU (1 start bit, 8 data bits, 1 parity bit, 1 stop bit).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TIME_US</strong> – Character interval time in microseconds. </p></li>
<li><p><strong>BAUDRATE</strong> – Communication baud rate. </p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Calculated time in milliseconds. </p>
</dd>
</dl>
</dd></dl>

</div>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_085339a9ca19bc1922800b05b7e8c699"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/src/transport/ascii</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_c41cd90d51d5c7638bcedf337c6d744d"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/include/modbus/compat</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_5f53ad2463955b983333c3530ca73f22"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/src/compat</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_93cc28f838ad8f448a0f5755f46f8a0d"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/include</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_1d7f61a2333bdd8cffe1da0eb623d0f9"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_c8b836b7bdd7abdf70addd63ef8faca1"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/include/modbus</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_ff3074ba60ed4653f7d031a78d8f0b85"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/include/modbus/port</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_4fec117adc52c8561c4d7e511b270118"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/src/port</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_10b6b98223502a3ca21d4595a9248de6"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/src/transport/rtu</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_2a456d9b2a59742ac0b940dc72313191"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/src</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_0fa6ba4e8ef37c6c32eb9a6ee4e268ad"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/src/transport/tcp</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_c7d15805560dc7e5f33c2143253fdc2c"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/include/modbus/transport</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="dir_8529aebfe326c1c40eec7e9d70e584aa"></span><em><span class="pre">dir</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/src/transport</span></span></dt>
<dd></dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="_2home_2runner_2work_2modbus_2modbus_2modbus_2include_2modbus_2base_8h-example"></span><em><span class="pre">example</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/include/modbus/base.h</span></span></dt>
<dd><p>Utility macro to extract the low byte from a 16-bit value. </p>
<p>Utility macro to extract the low byte from a 16-bit value.<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x1234</span><span class="p">;</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">low</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GET_LOW_BYTE</span><span class="p">(</span><span class="n">value</span><span class="p">);</span><span class="w"> </span><span class="c1">// low = 0x34</span>
</pre></div>
</div>
 <div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="cp">#ifndef MODBUS_BASE_H</span>
<span class="cp">#define MODBUS_BASE_H</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdint.h&gt;</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="p">{</span>
<span class="cp">#endif</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/mb_types.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/conf.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/mb_err.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/transport.h&gt;</span><span class="c1">  </span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/transport_if.h&gt;</span>

<span class="cm">/* -------------------------------------------------------------------------- */</span>
<span class="cm">/*                          Modbus Protocol Constants                         */</span>
<span class="cm">/* -------------------------------------------------------------------------- */</span>

<span class="cp">#define MODBUS_BROADCAST_ADDRESS      0x00U</span>

<span class="cp">#define MODBUS_BOOTLOADER_ADDRESS     0xA5U</span>

<span class="cp">#define GET_LOW_BYTE(d)       ((uint8_t)((d) &amp; 0x00FFU))</span>

<span class="cp">#define GET_HIGH_BYTE(d)      ((uint8_t)(((d) &gt;&gt; 8U) &amp; 0x00FFU))</span>

<span class="cm">/* -------------------------------------------------------------------------- */</span>
<span class="cm">/*                                Modbus Roles                                */</span>
<span class="cm">/* -------------------------------------------------------------------------- */</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MODBUS_ROLE_CLIENT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">MODBUS_ROLE_SERVER</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">  </span>
<span class="p">}</span><span class="w"> </span><span class="n">modbus_role_t</span><span class="p">;</span>

<span class="cm">/* -------------------------------------------------------------------------- */</span>
<span class="cm">/*                         Variable and Register Handling                     */</span>
<span class="cm">/* -------------------------------------------------------------------------- */</span>

<span class="k">typedef</span><span class="w"> </span><span class="kt">int16_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">modbus_read_callback_t</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>

<span class="k">typedef</span><span class="w"> </span><span class="kt">int16_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">modbus_write_callback_t</span><span class="p">)(</span><span class="kt">int16_t</span><span class="w"> </span><span class="n">new_value</span><span class="p">);</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int16_t</span><span class="w"> </span><span class="o">*</span><span class="n">variable_ptr</span><span class="p">;</span><span class="w">                     </span>
<span class="w">    </span><span class="n">modbus_read_callback_t</span><span class="w"> </span><span class="n">read_callback</span><span class="p">;</span><span class="w">      </span>
<span class="w">    </span><span class="n">modbus_write_callback_t</span><span class="w"> </span><span class="n">write_callback</span><span class="p">;</span><span class="w">    </span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">read_only</span><span class="p">;</span><span class="w">                            </span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">address</span><span class="p">;</span><span class="w">                          </span>
<span class="p">}</span><span class="w"> </span><span class="n">variable_modbus_t</span><span class="p">;</span>

<span class="cm">/* -------------------------------------------------------------------------- */</span>
<span class="cm">/*                           Modbus Context Structure                         */</span>
<span class="cm">/* -------------------------------------------------------------------------- */</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">modbus_transport_t</span><span class="w"> </span><span class="n">transport</span><span class="p">;</span><span class="w">      </span>
<span class="w">    </span><span class="n">mb_transport_if_t</span><span class="w"> </span><span class="n">transport_iface</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="n">modbus_role_t</span><span class="w"> </span><span class="n">role</span><span class="p">;</span><span class="w">           </span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">rx_buffer</span><span class="p">;</span><span class="w">           </span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">rx_capacity</span><span class="p">;</span><span class="w">         </span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">rx_count</span><span class="p">;</span><span class="w">            </span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">rx_index</span><span class="p">;</span><span class="w">            </span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">rx_raw_buffer</span><span class="p">;</span><span class="w">       </span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">rx_raw_capacity</span><span class="p">;</span><span class="w">     </span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">tx_raw_buffer</span><span class="p">;</span><span class="w">       </span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">tx_raw_capacity</span><span class="p">;</span><span class="w">     </span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">tx_raw_index</span><span class="p">;</span><span class="w">        </span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">tx_buffer</span><span class="p">;</span><span class="w">           </span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">tx_capacity</span><span class="p">;</span><span class="w">         </span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">tx_index</span><span class="p">;</span><span class="w">            </span>
<span class="w">    </span><span class="n">mb_time_ms_t</span><span class="w"> </span><span class="n">rx_reference_time</span><span class="p">;</span><span class="w">   </span>
<span class="w">    </span><span class="n">mb_time_ms_t</span><span class="w"> </span><span class="n">tx_reference_time</span><span class="p">;</span><span class="w">   </span>
<span class="w">    </span><span class="n">mb_time_ms_t</span><span class="w"> </span><span class="n">error_timer</span><span class="p">;</span><span class="w">         </span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">user_data</span><span class="p">;</span><span class="w">              </span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">rx</span><span class="p">[</span><span class="n">MODBUS_RECEIVE_BUFFER_SIZE</span><span class="p">];</span><span class="w">       </span>
<span class="w">        </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">rx_raw</span><span class="p">[</span><span class="n">MODBUS_RECEIVE_BUFFER_SIZE</span><span class="p">];</span><span class="w">   </span>
<span class="w">        </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">tx_raw</span><span class="p">[</span><span class="n">MODBUS_SEND_BUFFER_SIZE</span><span class="p">];</span><span class="w">      </span>
<span class="w">        </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">tx</span><span class="p">[</span><span class="n">MODBUS_SEND_BUFFER_SIZE</span><span class="p">];</span><span class="w">          </span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="n">internal_buffers</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">modbus_context_t</span><span class="p">;</span>

<span class="k">static</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">modbus_context_use_internal_buffers</span><span class="p">(</span><span class="n">modbus_context_t</span><span class="w"> </span><span class="o">*</span><span class="n">ctx</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ctx</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_buffer</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">internal_buffers</span><span class="p">.</span><span class="n">rx</span><span class="p">;</span>
<span class="w">        </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">MB_COUNTOF</span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">internal_buffers</span><span class="p">.</span><span class="n">rx</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_raw_buffer</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_raw_buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">internal_buffers</span><span class="p">.</span><span class="n">rx_raw</span><span class="p">;</span>
<span class="w">        </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_raw_capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">MB_COUNTOF</span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">internal_buffers</span><span class="p">.</span><span class="n">rx_raw</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_raw_buffer</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_raw_buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">internal_buffers</span><span class="p">.</span><span class="n">tx_raw</span><span class="p">;</span>
<span class="w">        </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_raw_capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">MB_COUNTOF</span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">internal_buffers</span><span class="p">.</span><span class="n">tx_raw</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_buffer</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_buffer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">internal_buffers</span><span class="p">.</span><span class="n">tx</span><span class="p">;</span>
<span class="w">        </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">MB_COUNTOF</span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">internal_buffers</span><span class="p">.</span><span class="n">tx</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#endif </span><span class="cm">/* MODBUS_BASE_H */</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">param d<span class="colon">:</span></dt>
<dd class="field-odd"><p>The 16-bit value. </p>
</dd>
<dt class="field-even">return<span class="colon">:</span></dt>
<dd class="field-even"><p>The low byte of the value.</p>
</dd>
</dl>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="_2home_2runner_2work_2modbus_2modbus_2modbus_2include_2modbus_2core_8h-example"></span><em><span class="pre">example</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/include/modbus/core.h</span></span></dt>
<dd><p>Builds a Modbus RTU frame by adding CRC. </p>
<p>Builds a Modbus RTU frame by adding CRC.This function takes the given address, function code, and data payload, and appends the CRC to form a complete Modbus RTU frame in the provided buffer.</p>
<p><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">payload</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mh">0x00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x02</span><span class="p">};</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">frame</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="kt">uint16_t</span><span class="w"> </span><span class="n">frame_len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modbus_build_rtu_frame</span><span class="p">(</span><span class="mh">0x01</span><span class="p">,</span><span class="w"> </span><span class="n">MODBUS_FUNC_READ_HOLDING_REGISTERS</span><span class="p">,</span>
<span class="w">                                          </span><span class="n">payload</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">payload</span><span class="p">),</span>
<span class="w">                                          </span><span class="n">frame</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">frame</span><span class="p">));</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">frame_len</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Frame successfully built, proceed to send</span>
<span class="p">}</span>
</pre></div>
</div>
 <div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="cp">#ifndef MODBUS_CORE_H</span>
<span class="cp">#define MODBUS_CORE_H</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdint.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="p">{</span>
<span class="cp">#endif</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/conf.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/base.h&gt;</span><span class="c1">        </span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/utils.h&gt;</span><span class="c1">       </span>
<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MODBUS_FUNC_READ_COILS</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01U</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">MODBUS_FUNC_READ_DISCRETE_INPUTS</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x02U</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">MODBUS_FUNC_READ_HOLDING_REGISTERS</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mh">0x03U</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">MODBUS_FUNC_READ_INPUT_REGISTERS</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x04U</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">MODBUS_FUNC_WRITE_SINGLE_COIL</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mh">0x05U</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">MODBUS_FUNC_WRITE_SINGLE_REGISTER</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mh">0x06U</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">MODBUS_FUNC_WRITE_MULTIPLE_COILS</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0FU</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">MODBUS_FUNC_WRITE_MULTIPLE_REGISTERS</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mh">0x10U</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">MODBUS_FUNC_READ_WRITE_MULTIPLE_REGISTERS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x17U</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">MODBUS_FUNC_READ_DEVICE_INFORMATION</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="mh">0x2BU</span><span class="p">,</span><span class="w"> </span>
<span class="w">    </span><span class="n">MODBUS_FUNC_ERROR_FRAME_HEADER</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x80U</span><span class="w"> </span>
<span class="p">}</span><span class="w"> </span><span class="n">modbus_function_code_t</span><span class="p">;</span>

<span class="cp">#if MB_CONF_TRANSPORT_RTU</span>
<span class="kt">uint16_t</span><span class="w"> </span><span class="nf">modbus_build_rtu_frame</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">function_code</span><span class="p">,</span>
<span class="w">                                </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">data_length</span><span class="p">,</span>
<span class="w">                                </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">out_buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">out_buffer_size</span><span class="p">);</span>

<span class="n">modbus_error_t</span><span class="w"> </span><span class="nf">modbus_parse_rtu_frame</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">frame</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">frame_length</span><span class="p">,</span>
<span class="w">                                      </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">function</span><span class="p">,</span>
<span class="w">                                      </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">**</span><span class="n">payload</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">payload_len</span><span class="p">);</span>

<span class="n">modbus_error_t</span><span class="w"> </span><span class="nf">modbus_send_frame</span><span class="p">(</span><span class="n">modbus_context_t</span><span class="w"> </span><span class="o">*</span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">frame</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">frame_len</span><span class="p">);</span>

<span class="n">modbus_error_t</span><span class="w"> </span><span class="nf">modbus_receive_frame</span><span class="p">(</span><span class="n">modbus_context_t</span><span class="w"> </span><span class="o">*</span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">out_buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">out_size</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">out_length</span><span class="p">);</span>
<span class="cp">#endif </span><span class="cm">/* MB_CONF_TRANSPORT_RTU */</span>

<span class="k">static</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">modbus_is_error_response</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">function_code</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">function_code</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">MODBUS_FUNC_ERROR_FRAME_HEADER</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">modbus_error_t</span><span class="w"> </span><span class="nf">modbus_exception_to_error</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">exception_code</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_reset_buffers</span><span class="p">(</span><span class="n">modbus_context_t</span><span class="w"> </span><span class="o">*</span><span class="n">ctx</span><span class="p">);</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#endif </span><span class="cm">/* MODBUS_CORE_H */</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">param address<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Modbus server/client address (or target device address). </p>
</dd>
<dt class="field-even">param function_code<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Modbus function code. </p>
</dd>
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Pointer to the data payload (without CRC). </p>
</dd>
<dt class="field-even">param data_length<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Length of the data payload. </p>
</dd>
<dt class="field-odd">param out_buffer<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[out]</strong> Buffer to store the complete frame (including CRC). </p>
</dd>
<dt class="field-even">param out_buffer_size<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Size of the out_buffer.</p>
</dd>
<dt class="field-odd">retval &gt;0<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of bytes written to out_buffer. </p>
</dd>
<dt class="field-even">retval 0<span class="colon">:</span></dt>
<dd class="field-even"><p>Insufficient buffer size to store the complete frame.</p>
</dd>
<dt class="field-odd">return<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of bytes written to out_buffer, or 0 if there is not enough space.</p>
</dd>
</dl>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="_2home_2runner_2work_2modbus_2modbus_2modbus_2include_2modbus_2fsm_8h-example"></span><em><span class="pre">example</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/include/modbus/fsm.h</span></span></dt>
<dd><p>Action function pointer type. </p>
<p>Action function pointer type.Actions are functions executed when a transition occurs.</p>
<p><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">on_enter_state</span><span class="p">(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Perform actions upon entering a new state</span>
<span class="p">}</span>
</pre></div>
</div>
 <div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="cp">#ifndef FSM_H</span>
<span class="cp">#define FSM_H</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdint.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>

<span class="cp">#ifndef FSM_EVENT_QUEUE_SIZE</span>
<span class="cp">#define FSM_EVENT_QUEUE_SIZE 20</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef FSM_CONF_INLINE_QUEUE</span>
<span class="cp">#define FSM_CONF_INLINE_QUEUE 1</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="cp">#endif</span>

<span class="cp">#ifndef FSM_EVENT_STATE_TIMEOUT</span>
<span class="cp">#define FSM_EVENT_STATE_TIMEOUT  0xFF</span>
<span class="cp">#endif</span>

<span class="k">typedef</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">fsm_queue_index_t</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">fsm</span><span class="w"> </span><span class="n">fsm_t</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">fsm_state</span><span class="w"> </span><span class="n">fsm_state_t</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">fsm_action_t</span><span class="p">)(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">);</span>

<span class="k">typedef</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">fsm_guard_t</span><span class="p">)(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">);</span>

<span class="k">typedef</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">fsm_time_fn_t</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>

<span class="k">typedef</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">fsm_event_drop_cb_t</span><span class="p">)(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">event</span><span class="p">);</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">event</span><span class="p">;</span><span class="w">                  </span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_state_t</span><span class="w"> </span><span class="o">*</span><span class="n">next_state</span><span class="p">;</span><span class="w">  </span>
<span class="w">    </span><span class="n">fsm_action_t</span><span class="w"> </span><span class="n">action</span><span class="p">;</span><span class="w">            </span>
<span class="w">    </span><span class="n">fsm_guard_t</span><span class="w"> </span><span class="n">guard</span><span class="p">;</span><span class="w">              </span>
<span class="p">}</span><span class="w"> </span><span class="n">fsm_transition_t</span><span class="p">;</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">fsm_state</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">name</span><span class="p">;</span><span class="w">                       </span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">id</span><span class="p">;</span><span class="w">                             </span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_transition_t</span><span class="w"> </span><span class="o">*</span><span class="n">transitions</span><span class="p">;</span><span class="w">    </span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">num_transitions</span><span class="p">;</span><span class="w">                </span>
<span class="w">    </span><span class="n">fsm_action_t</span><span class="w"> </span><span class="n">default_action</span><span class="p">;</span><span class="w">            </span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">timeout_ms</span><span class="p">;</span><span class="w">                    </span>
<span class="p">};</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">events</span><span class="p">;</span><span class="w">                                </span>
<span class="w">    </span><span class="k">volatile</span><span class="w"> </span><span class="n">fsm_queue_index_t</span><span class="w"> </span><span class="n">head</span><span class="p">;</span><span class="w">                </span>
<span class="w">    </span><span class="k">volatile</span><span class="w"> </span><span class="n">fsm_queue_index_t</span><span class="w"> </span><span class="n">tail</span><span class="p">;</span><span class="w">                </span>
<span class="w">    </span><span class="n">fsm_queue_index_t</span><span class="w"> </span><span class="n">capacity</span><span class="p">;</span><span class="w">                     </span>
<span class="p">}</span><span class="w"> </span><span class="n">fsm_event_queue_t</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">queue_storage</span><span class="p">;</span><span class="w">             </span>
<span class="w">    </span><span class="n">fsm_queue_index_t</span><span class="w"> </span><span class="n">queue_capacity</span><span class="p">;</span><span class="w">   </span>
<span class="w">    </span><span class="n">fsm_time_fn_t</span><span class="w"> </span><span class="n">time_fn</span><span class="p">;</span><span class="w">              </span>
<span class="w">    </span><span class="n">fsm_event_drop_cb_t</span><span class="w"> </span><span class="n">on_event_drop</span><span class="p">;</span><span class="w">  </span>
<span class="p">}</span><span class="w"> </span><span class="n">fsm_config_t</span><span class="p">;</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">fsm</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_state_t</span><span class="w"> </span><span class="o">*</span><span class="n">current_state</span><span class="p">;</span><span class="w">   </span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">user_data</span><span class="p">;</span><span class="w">                    </span>
<span class="w">    </span><span class="n">fsm_event_queue_t</span><span class="w"> </span><span class="n">event_queue</span><span class="p">;</span><span class="w">      </span>
<span class="w">    </span><span class="n">fsm_time_fn_t</span><span class="w"> </span><span class="n">time_fn</span><span class="p">;</span><span class="w">              </span>
<span class="w">    </span><span class="n">fsm_event_drop_cb_t</span><span class="w"> </span><span class="n">event_drop_cb</span><span class="p">;</span><span class="w">  </span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">state_entry_time</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">has_timeout</span><span class="p">;</span>
<span class="cp">#if FSM_CONF_INLINE_QUEUE</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">inline_queue</span><span class="p">[</span><span class="n">FSM_EVENT_QUEUE_SIZE</span><span class="p">];</span><span class="w"> </span>
<span class="cp">#endif</span>
<span class="p">};</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">fsm_init</span><span class="p">(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_state_t</span><span class="w"> </span><span class="o">*</span><span class="n">initial_state</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">user_data</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">fsm_init_with_config</span><span class="p">(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">,</span>
<span class="w">                          </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_state_t</span><span class="w"> </span><span class="o">*</span><span class="n">initial_state</span><span class="p">,</span>
<span class="w">                          </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">user_data</span><span class="p">,</span>
<span class="w">                          </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_config_t</span><span class="w"> </span><span class="o">*</span><span class="n">config</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">fsm_handle_event</span><span class="p">(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">event</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">fsm_run</span><span class="p">(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">);</span>

<span class="cp">#define FSM_TRANSITION(_event, _next_state, _action, _guard) \</span>
<span class="cp">    { _event, &amp;_next_state, _action, _guard }</span>

<span class="cp">#define FSM_STATE(_name, _state_id, _transitions, _default_action, _timeout) \</span>
<span class="cp">    { #_name, _state_id, _transitions, sizeof(_transitions)/sizeof(fsm_transition_t), _default_action, _timeout }</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#endif </span><span class="cm">/* FSM_H */</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">param fsm<span class="colon">:</span></dt>
<dd class="field-odd"><p>Pointer to the FSM instance.</p>
</dd>
</dl>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="_2home_2runner_2work_2modbus_2modbus_2modbus_2include_2modbus_2mb_host_8h-example"></span><em><span class="pre">example</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/include/modbus/mb_host.h</span></span></dt>
<dd><p>Connect to a Modbus TCP server. </p>
<p>Connect to a Modbus TCP server.Establishes a TCP connection and initializes the Modbus client. The connection is blocking and will timeout after 5 seconds.</p>
<p><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mb_host_client_t</span> <span class="o">*</span><span class="n">client</span> <span class="o">=</span> <span class="n">mb_host_tcp_connect</span><span class="p">(</span><span class="s2">&quot;192.168.1.10:502&quot;</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">client</span> <span class="o">==</span> <span class="n">NULL</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">perror</span><span class="p">(</span><span class="s2">&quot;Connection failed&quot;</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">//</span> <span class="o">...</span> <span class="n">use</span> <span class="n">client</span> <span class="o">...</span>
<span class="n">mb_host_disconnect</span><span class="p">(</span><span class="n">client</span><span class="p">);</span>
</pre></div>
</div>
 <div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="cp">#ifndef MODBUS_MB_HOST_H</span>
<span class="cp">#define MODBUS_MB_HOST_H</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/mb_err.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/mb_types.h&gt;</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="p">{</span>
<span class="cp">#endif</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">mb_host_client</span><span class="w"> </span><span class="n">mb_host_client_t</span><span class="p">;</span>

<span class="cm">/* -------------------------------------------------------------------------- */</span>
<span class="cm">/*                            Connection Management                           */</span>
<span class="cm">/* -------------------------------------------------------------------------- */</span>

<span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="nf">mb_host_tcp_connect</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">host_port</span><span class="p">);</span>

<span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="nf">mb_host_rtu_connect</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">device</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">baudrate</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">mb_host_disconnect</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">);</span>

<span class="cm">/* -------------------------------------------------------------------------- */</span>
<span class="cm">/*                          Synchronous Read Operations                       */</span>
<span class="cm">/* -------------------------------------------------------------------------- */</span>

<span class="n">mb_err_t</span><span class="w"> </span><span class="nf">mb_host_read_holding</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">,</span>
<span class="w">                               </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">unit_id</span><span class="p">,</span>
<span class="w">                               </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">address</span><span class="p">,</span>
<span class="w">                               </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">count</span><span class="p">,</span>
<span class="w">                               </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">out_registers</span><span class="p">);</span>

<span class="n">mb_err_t</span><span class="w"> </span><span class="nf">mb_host_read_input</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">,</span>
<span class="w">                             </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">unit_id</span><span class="p">,</span>
<span class="w">                             </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">address</span><span class="p">,</span>
<span class="w">                             </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">count</span><span class="p">,</span>
<span class="w">                             </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">out_registers</span><span class="p">);</span>

<span class="n">mb_err_t</span><span class="w"> </span><span class="nf">mb_host_read_coils</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">,</span>
<span class="w">                             </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">unit_id</span><span class="p">,</span>
<span class="w">                             </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">address</span><span class="p">,</span>
<span class="w">                             </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">count</span><span class="p">,</span>
<span class="w">                             </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">out_coils</span><span class="p">);</span>

<span class="n">mb_err_t</span><span class="w"> </span><span class="nf">mb_host_read_discrete</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">,</span>
<span class="w">                               </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">unit_id</span><span class="p">,</span>
<span class="w">                               </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">address</span><span class="p">,</span>
<span class="w">                               </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">count</span><span class="p">,</span>
<span class="w">                               </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">out_inputs</span><span class="p">);</span>

<span class="cm">/* -------------------------------------------------------------------------- */</span>
<span class="cm">/*                          Synchronous Write Operations                      */</span>
<span class="cm">/* -------------------------------------------------------------------------- */</span>

<span class="n">mb_err_t</span><span class="w"> </span><span class="nf">mb_host_write_single_register</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">,</span>
<span class="w">                                       </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">unit_id</span><span class="p">,</span>
<span class="w">                                       </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">address</span><span class="p">,</span>
<span class="w">                                       </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>

<span class="n">mb_err_t</span><span class="w"> </span><span class="nf">mb_host_write_single_coil</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">,</span>
<span class="w">                                   </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">unit_id</span><span class="p">,</span>
<span class="w">                                   </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">address</span><span class="p">,</span>
<span class="w">                                   </span><span class="kt">bool</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>

<span class="n">mb_err_t</span><span class="w"> </span><span class="nf">mb_host_write_multiple_registers</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">,</span>
<span class="w">                                          </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">unit_id</span><span class="p">,</span>
<span class="w">                                          </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">address</span><span class="p">,</span>
<span class="w">                                          </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">count</span><span class="p">,</span>
<span class="w">                                          </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>

<span class="n">mb_err_t</span><span class="w"> </span><span class="nf">mb_host_write_multiple_coils</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">,</span>
<span class="w">                                      </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">unit_id</span><span class="p">,</span>
<span class="w">                                      </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">address</span><span class="p">,</span>
<span class="w">                                      </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">count</span><span class="p">,</span>
<span class="w">                                      </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">coils</span><span class="p">);</span>

<span class="cm">/* -------------------------------------------------------------------------- */</span>
<span class="cm">/*                              Configuration                                 */</span>
<span class="cm">/* -------------------------------------------------------------------------- */</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">mb_host_set_timeout</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">timeout_ms</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">mb_host_enable_logging</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">enable</span><span class="p">);</span>

<span class="cm">/* -------------------------------------------------------------------------- */</span>
<span class="cm">/*                              Error Handling                                */</span>
<span class="cm">/* -------------------------------------------------------------------------- */</span>

<span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="nf">mb_host_error_string</span><span class="p">(</span><span class="n">mb_err_t</span><span class="w"> </span><span class="n">err</span><span class="p">);</span>

<span class="kt">uint8_t</span><span class="w"> </span><span class="nf">mb_host_last_exception</span><span class="p">(</span><span class="n">mb_host_client_t</span><span class="w"> </span><span class="o">*</span><span class="n">client</span><span class="p">);</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#endif </span><span class="cm">/* MODBUS_MB_HOST_H */</span>
</pre></div>
</div>
 </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The returned handle must be freed with <a class="reference internal" href="#mb__host_8h_1a82922a41dcadd05c0bec2923f0824a65"><span class="std std-ref">mb_host_disconnect()</span></a> when done.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">param host_port<span class="colon">:</span></dt>
<dd class="field-odd"><p>Server address in format “host:port” or “host” (defaults to port 502). Examples: “192.168.1.10:502”, “localhost”, “modbus.example.com:5020”</p>
</dd>
<dt class="field-even">return<span class="colon">:</span></dt>
<dd class="field-even"><p>Opaque client handle on success, NULL on failure (check errno for details).</p>
</dd>
</dl>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="_2home_2runner_2work_2modbus_2modbus_2modbus_2include_2modbus_2transport_8h-example"></span><em><span class="pre">example</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/include/modbus/transport.h</span></span></dt>
<dd><p>Read function pointer. </p>
<p>Read function pointer.Reads <code class="docutils literal notranslate"><span class="pre">count</span></code> bytes into <code class="docutils literal notranslate"><span class="pre">buf</span></code>. Should return:<ul class="simple">
<li><p>The number of bytes actually read if successful.</p></li>
<li><p>0 to <code class="docutils literal notranslate"><span class="pre">count-1</span></code> if a timeout occurred (partial read).</p></li>
<li><p>A negative value if a transport error occurred.</p></li>
</ul>
</p>
<p><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">int32_t</span><span class="w"> </span><span class="nf">uart_read</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">count</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Implement UART read logic here</span>
<span class="p">}</span>
</pre></div>
</div>
 <div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="cp">#ifndef MODBUS_TRANSPORT_H</span>
<span class="cp">#define MODBUS_TRANSPORT_H</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdint.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stddef.h&gt;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/mb_err.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/transport_if.h&gt;</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="p">{</span>
<span class="cp">#endif </span>

<span class="k">typedef</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MODBUS_TRANSPORT_RTU</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">    </span>
<span class="w">    </span><span class="n">MODBUS_TRANSPORT_TCP</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">    </span>
<span class="w">    </span><span class="n">MODBUS_TRANSPORT_ASCII</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w">   </span>
<span class="p">}</span><span class="w"> </span><span class="n">modbus_transport_type_t</span><span class="p">;</span>

<span class="k">typedef</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">modbus_transport_type_t</span><span class="w"> </span><span class="n">transport</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">read</span><span class="p">)(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>

<span class="w">    </span><span class="kt">int32_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">write</span><span class="p">)(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">count</span><span class="p">);</span>

<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">get_reference_msec</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>

<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">measure_time_msec</span><span class="p">)(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">ref</span><span class="p">);</span>

<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">change_baudrate</span><span class="p">)(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">baudrate</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">restart_uart</span><span class="p">)(</span><span class="kt">void</span><span class="p">);</span>

<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">write_gpio</span><span class="p">)(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">gpio</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>

<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">parse_bootloader_request</span><span class="p">)(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">buffer_size</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">arg</span><span class="p">;</span>
<span class="p">}</span><span class="w"> </span><span class="n">modbus_transport_t</span><span class="p">;</span>

<span class="n">mb_err_t</span><span class="w"> </span><span class="nf">modbus_transport_bind_legacy</span><span class="p">(</span><span class="n">mb_transport_if_t</span><span class="w"> </span><span class="o">*</span><span class="n">iface</span><span class="p">,</span><span class="w"> </span><span class="n">modbus_transport_t</span><span class="w"> </span><span class="o">*</span><span class="n">legacy</span><span class="p">);</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#endif </span><span class="cm">/* MODBUS_TRANSPORT_H */</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">param buf<span class="colon">:</span></dt>
<dd class="field-odd"><p>Buffer to store read data. </p>
</dd>
<dt class="field-even">param count<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bytes to read. </p>
</dd>
<dt class="field-odd">return<span class="colon">:</span></dt>
<dd class="field-odd"><p>int32_t Number of bytes read or error code.</p>
</dd>
</dl>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="_2home_2runner_2work_2modbus_2modbus_2modbus_2include_2modbus_2utils_8h-example"></span><em><span class="pre">example</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/include/modbus/utils.h</span></span></dt>
<dd><p><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define TIME_US 100000 </span><span class="c1">// 100 ms</span>
<span class="cp">#define BAUDRATE 19200</span>
<span class="kt">uint16_t</span><span class="w"> </span><span class="n">interval_ms</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MODBUS_CONVERT_CHAR_INTERVAL_TO_MS</span><span class="p">(</span><span class="n">TIME_US</span><span class="p">,</span><span class="w"> </span><span class="n">BAUDRATE</span><span class="p">);</span>
<span class="c1">// interval_ms will be approximately 572 ms</span>
</pre></div>
</div>
 <div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="cp">#ifndef MODBUS_UTILS_H</span>
<span class="cp">#define MODBUS_UTILS_H</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdint.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdbool.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>


<span class="cp">#ifdef __cplusplus</span>
<span class="k">extern</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="p">{</span>
<span class="cp">#endif </span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/base.h&gt;</span>

<span class="cp">#define MODBUS_CONVERT_CHAR_INTERVAL_TO_MS(TIME_US, BAUDRATE) \</span>
<span class="cp">        ((1000U * (TIME_US) * 11) / (BAUDRATE))</span>

<span class="kt">bool</span><span class="w"> </span><span class="nf">modbus_read_uint8</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">buffer_size</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">value</span><span class="p">);</span>

<span class="kt">bool</span><span class="w"> </span><span class="nf">modbus_read_uint16</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">buffer_size</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">value</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_selection_sort</span><span class="p">(</span><span class="n">variable_modbus_t</span><span class="w"> </span><span class="n">modbus_variables</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="p">);</span>

<span class="c1">// NOLINTBEGIN(bugprone-easily-swappable-parameters)</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">modbus_binary_search</span><span class="p">(</span><span class="n">variable_modbus_t</span><span class="w"> </span><span class="n">modbus_variables</span><span class="p">[],</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">high</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="c1">// NOLINTEND(bugprone-easily-swappable-parameters)</span>

<span class="kt">uint32_t</span><span class="w"> </span><span class="nf">modbus_get_uint32_abcd</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>

<span class="kt">uint32_t</span><span class="w"> </span><span class="nf">modbus_get_uint32_dcba</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>

<span class="kt">uint32_t</span><span class="w"> </span><span class="nf">modbus_get_uint32_badc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>

<span class="kt">uint32_t</span><span class="w"> </span><span class="nf">modbus_get_uint32_cdab</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_uint32_abcd</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_uint32_dcba</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_uint32_badc</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_uint32_cdab</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>

<span class="kt">int32_t</span><span class="w"> </span><span class="nf">modbus_get_int32_abcd</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">modbus_get_int32_dcba</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">modbus_get_int32_badc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>
<span class="kt">int32_t</span><span class="w"> </span><span class="nf">modbus_get_int32_cdab</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_int32_abcd</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_int32_dcba</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_int32_badc</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_int32_cdab</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>

<span class="kt">float</span><span class="w"> </span><span class="nf">modbus_get_float_abcd</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>
<span class="kt">float</span><span class="w"> </span><span class="nf">modbus_get_float_dcba</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>
<span class="kt">float</span><span class="w"> </span><span class="nf">modbus_get_float_badc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>
<span class="kt">float</span><span class="w"> </span><span class="nf">modbus_get_float_cdab</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_float_abcd</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_float_dcba</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_float_badc</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_float_cdab</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">);</span>

<span class="kt">uint16_t</span><span class="w"> </span><span class="nf">modbus_calculate_crc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">length</span><span class="p">);</span>

<span class="kt">uint16_t</span><span class="w"> </span><span class="nf">modbus_crc_with_table</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">length</span><span class="p">);</span>

<span class="kt">bool</span><span class="w"> </span><span class="nf">modbus_crc_validate</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">frame</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">length</span><span class="p">);</span>

<span class="cp">#ifdef __cplusplus</span>
<span class="p">}</span>
<span class="cp">#endif</span>

<span class="cp">#endif </span><span class="cm">/* MODBUS_UTILS_H */</span>
</pre></div>
</div>
</p>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="_2home_2runner_2work_2modbus_2modbus_2modbus_2src_2core_8c-example"></span><em><span class="pre">example</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/src/core.c</span></span></dt>
<dd><p>Builds a Modbus RTU frame by adding CRC. </p>
<p>Builds a Modbus RTU frame by adding CRC.This function constructs a complete Modbus RTU frame by appending the CRC to the provided address, function code, and data payload. It ensures that the output buffer has sufficient space to hold the entire frame, including the CRC.</p>
<p><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">payload</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mh">0x00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x02</span><span class="p">};</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">frame</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span>
<span class="kt">uint16_t</span><span class="w"> </span><span class="n">frame_len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modbus_build_rtu_frame</span><span class="p">(</span><span class="mh">0x01</span><span class="p">,</span><span class="w"> </span><span class="n">MODBUS_FUNC_READ_HOLDING_REGISTERS</span><span class="p">,</span>
<span class="w">                                          </span><span class="n">payload</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">payload</span><span class="p">),</span>
<span class="w">                                          </span><span class="n">frame</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">frame</span><span class="p">));</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">frame_len</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Frame successfully built, proceed to send</span>
<span class="p">}</span>
</pre></div>
</div>
 <div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string.h&gt;</span>

<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/conf.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/core.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/frame.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/transport_if.h&gt;</span>

<span class="cm">/* Internal defines for timeouts, if needed */</span>
<span class="cp">#ifndef MODBUS_INTERFRAME_TIMEOUT_MS</span>
<span class="cp">#define MODBUS_INTERFRAME_TIMEOUT_MS 100 </span>
<span class="cp">#endif</span>

<span class="cp">#ifndef MODBUS_BYTE_TIMEOUT_MS</span>
<span class="cp">#define MODBUS_BYTE_TIMEOUT_MS 50 </span>
<span class="cp">#endif</span>

<span class="cp">#if MB_CONF_TRANSPORT_RTU</span>
<span class="kt">uint16_t</span><span class="w"> </span><span class="nf">modbus_build_rtu_frame</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">function_code</span><span class="p">,</span>
<span class="w">                                </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">data_length</span><span class="p">,</span>
<span class="w">                                </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">out_buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">out_buffer_size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">mb_adu_view_t</span><span class="w"> </span><span class="n">adu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">.</span><span class="n">unit_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">address</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">function</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">function_code</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="p">,</span>
<span class="w">        </span><span class="p">.</span><span class="n">payload_len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data_length</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="n">mb_size_t</span><span class="w"> </span><span class="n">produced</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mb_frame_rtu_encode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">adu</span><span class="p">,</span><span class="w"> </span><span class="n">out_buffer</span><span class="p">,</span><span class="w"> </span><span class="n">out_buffer_size</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">produced</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">MODBUS_ERROR_NONE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">produced</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">modbus_error_t</span><span class="w"> </span><span class="nf">modbus_parse_rtu_frame</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">frame</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">frame_length</span><span class="p">,</span>
<span class="w">                                      </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">address</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">function</span><span class="p">,</span>
<span class="w">                                      </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">**</span><span class="n">payload</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">payload_len</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">frame</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">address</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">function</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">payload</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">payload_len</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_ERROR_INVALID_ARGUMENT</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">mb_adu_view_t</span><span class="w"> </span><span class="n">adu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="w">    </span><span class="n">modbus_error_t</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mb_frame_rtu_decode</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span><span class="w"> </span><span class="n">frame_length</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">adu</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">MODBUS_ERROR_NONE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="o">*</span><span class="n">address</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adu</span><span class="p">.</span><span class="n">unit_id</span><span class="p">;</span>
<span class="w">    </span><span class="o">*</span><span class="n">function</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adu</span><span class="p">.</span><span class="n">function</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/* Check if the function code indicates an error response */</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">modbus_is_error_response</span><span class="p">(</span><span class="o">*</span><span class="n">function</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">adu</span><span class="p">.</span><span class="n">payload_len</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0U</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">adu</span><span class="p">.</span><span class="n">payload</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_ERROR_INVALID_ARGUMENT</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">exception_code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adu</span><span class="p">.</span><span class="n">payload</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">modbus_exception_to_error</span><span class="p">(</span><span class="n">exception_code</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/* Extract payload */</span>
<span class="w">    </span><span class="o">*</span><span class="n">payload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">adu</span><span class="p">.</span><span class="n">payload</span><span class="p">;</span>
<span class="w">    </span><span class="o">*</span><span class="n">payload_len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">adu</span><span class="p">.</span><span class="n">payload_len</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_ERROR_NONE</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">modbus_error_t</span><span class="w"> </span><span class="nf">modbus_send_frame</span><span class="p">(</span><span class="n">modbus_context_t</span><span class="w"> </span><span class="o">*</span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">frame</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">frame_len</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">ctx</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">frame</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">frame_len</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_ERROR_INVALID_ARGUMENT</span><span class="p">;</span><span class="w"> </span><span class="c1">// Invalid arguments</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">mb_transport_if_t</span><span class="w"> </span><span class="o">*</span><span class="n">iface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">transport_iface</span><span class="p">;</span>
<span class="w">    </span><span class="n">mb_transport_io_result_t</span><span class="w"> </span><span class="n">io</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">mb_err_t</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mb_transport_send</span><span class="p">(</span><span class="n">iface</span><span class="p">,</span><span class="w"> </span><span class="n">frame</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">mb_size_t</span><span class="p">)</span><span class="n">frame_len</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">io</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">MODBUS_ERROR_NONE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">io</span><span class="p">.</span><span class="n">processed</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="n">mb_size_t</span><span class="p">)</span><span class="n">frame_len</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_reference_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mb_transport_now</span><span class="p">(</span><span class="n">iface</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">io</span><span class="p">.</span><span class="n">processed</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="p">(</span><span class="n">mb_size_t</span><span class="p">)</span><span class="n">frame_len</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">MODBUS_ERROR_NONE</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">MODBUS_ERROR_TRANSPORT</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">modbus_error_t</span><span class="w"> </span><span class="nf">modbus_receive_frame</span><span class="p">(</span><span class="n">modbus_context_t</span><span class="w"> </span><span class="o">*</span><span class="n">ctx</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">out_buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">out_size</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">out_length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">ctx</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">out_buffer</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">out_length</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">out_size</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_ERROR_INVALID_ARGUMENT</span><span class="p">;</span><span class="w"> </span><span class="c1">// Invalid arguments</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">mb_transport_if_t</span><span class="w"> </span><span class="o">*</span><span class="n">iface</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">transport_iface</span><span class="p">;</span>
<span class="w">    </span><span class="n">mb_size_t</span><span class="w"> </span><span class="n">bytes_read</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">expected_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">last_activity_tick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">mb_transport_now</span><span class="p">(</span><span class="n">iface</span><span class="p">);</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">frame_origin_tick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">last_activity_tick</span><span class="p">;</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">bytes_read</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">mb_size_t</span><span class="p">)</span><span class="n">out_size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">mb_transport_io_result_t</span><span class="w"> </span><span class="n">io</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">};</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">mb_err_t</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mb_transport_recv</span><span class="p">(</span><span class="n">iface</span><span class="p">,</span>
<span class="w">                                                  </span><span class="o">&amp;</span><span class="n">out_buffer</span><span class="p">[</span><span class="n">bytes_read</span><span class="p">],</span>
<span class="w">                                                  </span><span class="p">(</span><span class="n">mb_size_t</span><span class="p">)(</span><span class="n">out_size</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">bytes_read</span><span class="p">),</span>
<span class="w">                                                  </span><span class="o">&amp;</span><span class="n">io</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">MODBUS_ERROR_NONE</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">io</span><span class="p">.</span><span class="n">processed</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">bytes_read</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">io</span><span class="p">.</span><span class="n">processed</span><span class="p">;</span>
<span class="w">            </span><span class="n">last_activity_tick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">mb_transport_now</span><span class="p">(</span><span class="n">iface</span><span class="p">);</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bytes_read</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">3U</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">expected_length</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">function_code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">out_buffer</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">function_code</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">MODBUS_FUNC_ERROR_FRAME_HEADER</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">expected_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2U</span><span class="p">;</span>
<span class="w">                </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">function_code</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">MODBUS_FUNC_READ_COILS</span><span class="p">:</span>
<span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">MODBUS_FUNC_READ_DISCRETE_INPUTS</span><span class="p">:</span>
<span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">MODBUS_FUNC_READ_HOLDING_REGISTERS</span><span class="p">:</span>
<span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">MODBUS_FUNC_READ_INPUT_REGISTERS</span><span class="p">:</span>
<span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">MODBUS_FUNC_WRITE_MULTIPLE_COILS</span><span class="p">:</span>
<span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">MODBUS_FUNC_WRITE_MULTIPLE_REGISTERS</span><span class="p">:</span>
<span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">MODBUS_FUNC_READ_WRITE_MULTIPLE_REGISTERS</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">byte_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">out_buffer</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="w">                        </span><span class="n">expected_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)(</span><span class="mi">3U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">byte_count</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2U</span><span class="p">);</span>
<span class="w">                        </span><span class="k">break</span><span class="p">;</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">MODBUS_FUNC_WRITE_SINGLE_COIL</span><span class="p">:</span>
<span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">MODBUS_FUNC_WRITE_SINGLE_REGISTER</span><span class="p">:</span>
<span class="w">                        </span><span class="n">expected_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2U</span><span class="p">;</span>
<span class="w">                        </span><span class="k">break</span><span class="p">;</span>
<span class="w">                    </span><span class="k">case</span><span class="w"> </span><span class="no">MODBUS_FUNC_READ_DEVICE_INFORMATION</span><span class="p">:</span>
<span class="w">                        </span><span class="n">expected_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2U</span><span class="p">;</span>
<span class="w">                        </span><span class="k">break</span><span class="p">;</span>
<span class="w">                    </span><span class="k">default</span><span class="o">:</span>
<span class="w">                        </span><span class="n">expected_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1U</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2U</span><span class="p">;</span>
<span class="w">                        </span><span class="k">break</span><span class="p">;</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">expected_length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0U</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">bytes_read</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">expected_length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="k">continue</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">MODBUS_ERROR_TIMEOUT</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">MODBUS_ERROR_NONE</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">io</span><span class="p">.</span><span class="n">processed</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0U</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">now_tick</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">mb_transport_now</span><span class="p">(</span><span class="n">iface</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(((</span><span class="kt">uint16_t</span><span class="p">)(</span><span class="n">now_tick</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">last_activity_tick</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">MODBUS_BYTE_TIMEOUT_MS</span><span class="p">)</span><span class="w"> </span><span class="o">||</span>
<span class="w">                </span><span class="p">((</span><span class="kt">uint16_t</span><span class="p">)(</span><span class="n">now_tick</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">frame_origin_tick</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">MODBUS_INTERFRAME_TIMEOUT_MS</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_ERROR_TIMEOUT</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">mb_transport_yield</span><span class="p">(</span><span class="n">iface</span><span class="p">);</span>
<span class="w">            </span><span class="k">continue</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">bytes_read</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_ERROR_TIMEOUT</span><span class="p">;</span><span class="w"> </span><span class="c1">// No data received</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="o">*</span><span class="n">out_length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">bytes_read</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_ERROR_NONE</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">#endif </span><span class="cm">/* MB_CONF_TRANSPORT_RTU */</span>

<span class="n">modbus_error_t</span><span class="w"> </span><span class="nf">modbus_exception_to_error</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">exception_code</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">switch</span><span class="w"> </span><span class="p">(</span><span class="n">exception_code</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">1U</span><span class="p">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_EXCEPTION_ILLEGAL_FUNCTION</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">2U</span><span class="p">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_EXCEPTION_ILLEGAL_DATA_ADDRESS</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">3U</span><span class="p">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_EXCEPTION_ILLEGAL_DATA_VALUE</span><span class="p">;</span>
<span class="w">        </span><span class="k">case</span><span class="w"> </span><span class="mi">4U</span><span class="p">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_EXCEPTION_SERVER_DEVICE_FAILURE</span><span class="p">;</span>
<span class="w">        </span><span class="k">default</span><span class="o">:</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">MODBUS_ERROR_OTHER</span><span class="p">;</span><span class="w"> </span><span class="c1">// Unknown exception code</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_reset_buffers</span><span class="p">(</span><span class="n">modbus_context_t</span><span class="w"> </span><span class="o">*</span><span class="n">ctx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">ctx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="c1">// Invalid context pointer</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cm">/* Reset RX buffer indices and counters */</span>
<span class="w">    </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/* Reset TX buffer indices and counters */</span>
<span class="w">    </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_raw_index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>

<span class="w">    </span><span class="cm">/* Clear RX and TX buffers */</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_buffer</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_capacity</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">memset</span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_buffer</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_capacity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_raw_buffer</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_raw_capacity</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">memset</span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_raw_buffer</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">rx_raw_capacity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_buffer</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_capacity</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">memset</span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_buffer</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_capacity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_raw_buffer</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_raw_capacity</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">memset</span><span class="p">(</span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_raw_buffer</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">ctx</span><span class="o">-&gt;</span><span class="n">tx_raw_capacity</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
 </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><ul class="simple">
<li><p>Ensure that <code class="docutils literal notranslate"><span class="pre">out_buffer</span></code> has enough space to accommodate <code class="docutils literal notranslate"><span class="pre">address</span></code> (1 byte), <code class="docutils literal notranslate"><span class="pre">function_code</span></code> (1 byte), <code class="docutils literal notranslate"><span class="pre">data</span></code> (<code class="docutils literal notranslate"><span class="pre">data_length</span></code> bytes), and CRC (2 bytes).</p></li>
</ul>
</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">param address<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Modbus server/client address (or target device address). </p>
</dd>
<dt class="field-even">param function_code<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Modbus function code. </p>
</dd>
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Pointer to the data payload (excluding CRC). </p>
</dd>
<dt class="field-even">param data_length<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Length of the data payload in bytes. </p>
</dd>
<dt class="field-odd">param out_buffer<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[out]</strong> Buffer to store the complete frame (including CRC). </p>
</dd>
<dt class="field-even">param out_buffer_size<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Size of the <code class="docutils literal notranslate"><span class="pre">out_buffer</span></code> in bytes.</p>
</dd>
<dt class="field-odd">retval &gt;0<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of bytes written to <code class="docutils literal notranslate"><span class="pre">out_buffer</span></code>. </p>
</dd>
<dt class="field-even">retval 0<span class="colon">:</span></dt>
<dd class="field-even"><p>Insufficient buffer size to store the complete frame.</p>
</dd>
<dt class="field-odd">return<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of bytes written to <code class="docutils literal notranslate"><span class="pre">out_buffer</span></code>, or 0 if there is not enough space.</p>
</dd>
</dl>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="_2home_2runner_2work_2modbus_2modbus_2modbus_2src_2fsm_8c-example"></span><em><span class="pre">example</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/src/fsm.c</span></span></dt>
<dd><p>Initializes the finite state machine (FSM). </p>
<p>Initializes the finite state machine (FSM).Sets the initial state, associates optional user data, and clears the event queue. This function must be called before using the FSM to ensure it starts in a known state.</p>
<p><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">fsm_t</span><span class="w"> </span><span class="n">my_fsm</span><span class="p">;</span>
<span class="n">fsm_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">my_fsm</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">state_idle</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">app_context</span><span class="p">);</span>
</pre></div>
</div>
 <div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/fsm.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stddef.h&gt;</span>

<span class="k">extern</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="nf">get_current_time_ms</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<span class="k">static</span><span class="w"> </span><span class="kr">inline</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="nf">fsm_now</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">time_fn</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">time_fn</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">get_current_time_ms</span><span class="p">();</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">fsm_queue_reset</span><span class="p">(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">fsm_bind_queue</span><span class="p">(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_config_t</span><span class="w"> </span><span class="o">*</span><span class="n">config</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">config</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">config</span><span class="o">-&gt;</span><span class="n">queue_storage</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">config</span><span class="o">-&gt;</span><span class="n">queue_capacity</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">events</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="o">-&gt;</span><span class="n">queue_storage</span><span class="p">;</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">config</span><span class="o">-&gt;</span><span class="n">queue_capacity</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="cp">#if FSM_CONF_INLINE_QUEUE</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">events</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">inline_queue</span><span class="p">;</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FSM_EVENT_QUEUE_SIZE</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="cp">#else</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">events</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="cp">#endif</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">capacity</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">events</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">capacity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">fsm_queue_reset</span><span class="p">(</span><span class="n">fsm</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">fsm_init_with_config</span><span class="p">(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">,</span>
<span class="w">                          </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_state_t</span><span class="w"> </span><span class="o">*</span><span class="n">initial_state</span><span class="p">,</span>
<span class="w">                          </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">user_data</span><span class="p">,</span>
<span class="w">                          </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_config_t</span><span class="w"> </span><span class="o">*</span><span class="n">config</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">initial_state</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">current_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">initial_state</span><span class="p">;</span>
<span class="w">    </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">user_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user_data</span><span class="p">;</span>
<span class="w">    </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">time_fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">config</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">config</span><span class="o">-&gt;</span><span class="n">time_fn</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">config</span><span class="o">-&gt;</span><span class="n">time_fn</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">get_current_time_ms</span><span class="p">;</span>
<span class="w">    </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_drop_cb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">config</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">config</span><span class="o">-&gt;</span><span class="n">on_event_drop</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span>

<span class="w">    </span><span class="n">fsm_bind_queue</span><span class="p">(</span><span class="n">fsm</span><span class="p">,</span><span class="w"> </span><span class="n">config</span><span class="p">);</span>

<span class="w">    </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">state_entry_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fsm_now</span><span class="p">(</span><span class="n">fsm</span><span class="p">);</span>
<span class="w">    </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">has_timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">fsm_init</span><span class="p">(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_state_t</span><span class="w"> </span><span class="o">*</span><span class="n">initial_state</span><span class="p">,</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">user_data</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">fsm_init_with_config</span><span class="p">(</span><span class="n">fsm</span><span class="p">,</span><span class="w"> </span><span class="n">initial_state</span><span class="p">,</span><span class="w"> </span><span class="n">user_data</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">fsm_handle_event</span><span class="p">(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">fsm</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Optionally, log an error or handle the invalid FSM pointer</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">events</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">capacity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">fsm_queue_index_t</span><span class="w"> </span><span class="n">next_tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">tail</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1U</span><span class="p">;</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">next_tail</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">capacity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">next_tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">next_tail</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">head</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">events</span><span class="p">[</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">tail</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">event</span><span class="p">;</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">tail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">next_tail</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_drop_cb</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_drop_cb</span><span class="p">(</span><span class="n">fsm</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">fsm_run</span><span class="p">(</span><span class="n">fsm_t</span><span class="w"> </span><span class="o">*</span><span class="n">fsm</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">fsm</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">current_state</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Optionally, log an error or handle the invalid FSM state</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_state_t</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">current_state</span><span class="p">;</span>
<span class="w">    </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">has_timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// 1) se este estado tem timeout configurado, verifica se excedeu</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">s</span><span class="o">-&gt;</span><span class="n">timeout_ms</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fsm_now</span><span class="p">(</span><span class="n">fsm</span><span class="p">);</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">elapsed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">state_entry_time</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">elapsed</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">s</span><span class="o">-&gt;</span><span class="n">timeout_ms</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// limpa fila e dispara evento de timeout</span>
<span class="w">            </span><span class="n">fsm_queue_reset</span><span class="p">(</span><span class="n">fsm</span><span class="p">);</span>
<span class="w">            </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">has_timeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">            </span><span class="n">fsm_handle_event</span><span class="p">(</span><span class="n">fsm</span><span class="p">,</span><span class="w"> </span><span class="n">FSM_EVENT_STATE_TIMEOUT</span><span class="p">);</span>
<span class="w">            </span><span class="c1">// atualiza timestamp (para não disparar repetidamente)</span>
<span class="w">            </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">state_entry_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">now</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">events</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">capacity</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">current_state</span><span class="o">-&gt;</span><span class="n">default_action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">current_state</span><span class="o">-&gt;</span><span class="n">default_action</span><span class="p">(</span><span class="n">fsm</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Check if we have an event to process</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">head</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">tail</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// No events pending, execute default action if available</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">current_state</span><span class="o">-&gt;</span><span class="n">default_action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">current_state</span><span class="o">-&gt;</span><span class="n">default_action</span><span class="p">(</span><span class="n">fsm</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Get next event from the queue</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">event</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">events</span><span class="p">[</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">head</span><span class="p">];</span>
<span class="w">    </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">head</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1U</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">head</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">capacity</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Try to find a matching transition for this event</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_state_t</span><span class="w"> </span><span class="o">*</span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">current_state</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_transition_t</span><span class="w"> </span><span class="o">*</span><span class="n">transitions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="o">-&gt;</span><span class="n">transitions</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">num_transitions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">state</span><span class="o">-&gt;</span><span class="n">num_transitions</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">event_processed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">num_transitions</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">fsm_transition_t</span><span class="w"> </span><span class="o">*</span><span class="n">transition</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">transitions</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">transition</span><span class="o">-&gt;</span><span class="n">event</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">event</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kt">bool</span><span class="w"> </span><span class="n">guard_passed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">transition</span><span class="o">-&gt;</span><span class="n">guard</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">transition</span><span class="o">-&gt;</span><span class="n">guard</span><span class="p">(</span><span class="n">fsm</span><span class="p">);</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">guard_passed</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">transition</span><span class="o">-&gt;</span><span class="n">action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">transition</span><span class="o">-&gt;</span><span class="n">action</span><span class="p">(</span><span class="n">fsm</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">                </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">current_state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">transition</span><span class="o">-&gt;</span><span class="n">next_state</span><span class="p">;</span>
<span class="w">                </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">state_entry_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fsm_now</span><span class="p">(</span><span class="n">fsm</span><span class="p">);</span>
<span class="w">                </span><span class="n">event_processed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="cm">/* Guard rejected transition, requeue event for future evaluation */</span>
<span class="w">                </span><span class="n">fsm_handle_event</span><span class="p">(</span><span class="n">fsm</span><span class="p">,</span><span class="w"> </span><span class="n">event</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="k">break</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// If the event was not processed (no matching transition), it is ignored.</span>
<span class="w">    </span><span class="c1">// Optionally, handle unprocessed events here (e.g., logging or error handling).</span>

<span class="w">    </span><span class="c1">// After handling this event, if no transitions occurred and no more events are queued,</span>
<span class="w">    </span><span class="c1">// execute the default action if defined.</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">event_processed</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">head</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">event_queue</span><span class="p">.</span><span class="n">tail</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">current_state</span><span class="o">-&gt;</span><span class="n">default_action</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">fsm</span><span class="o">-&gt;</span><span class="n">current_state</span><span class="o">-&gt;</span><span class="n">default_action</span><span class="p">(</span><span class="n">fsm</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
 </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><ul class="simple">
<li><p>Both <code class="docutils literal notranslate"><span class="pre">fsm</span></code> and <code class="docutils literal notranslate"><span class="pre">initial_state</span></code> must not be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>. If either is <code class="docutils literal notranslate"><span class="pre">NULL</span></code>, the function returns immediately without initializing.</p></li>
</ul>
</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">param fsm<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[inout]</strong> Pointer to the FSM instance to initialize. </p>
</dd>
<dt class="field-even">param initial_state<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[in]</strong> Pointer to the initial state of the FSM. </p>
</dd>
<dt class="field-odd">param user_data<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Pointer to user-defined data (can be <code class="docutils literal notranslate"><span class="pre">NULL</span></code>).</p>
</dd>
</dl>
</dd></dl>

<dl>
<dt class="sig sig-object cpp">
<span class="target" id="_2home_2runner_2work_2modbus_2modbus_2modbus_2src_2utils_8c-example"></span><em><span class="pre">example</span></em> <span class="sig-name descname"><span class="pre">/home/runner/work/modbus/modbus/modbus/src/utils.c</span></span></dt>
<dd><p>Safely reads an 8-bit unsigned integer from a buffer. </p>
<p>Safely reads an 8-bit unsigned integer from a buffer.This function checks if there is enough space in the buffer before reading an 8-bit value. If reading would exceed the buffer size, it returns <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<p><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">data</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mh">0x12</span><span class="p">,</span><span class="w"> </span><span class="mh">0x34</span><span class="p">};</span>
<span class="kt">uint16_t</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">val</span><span class="p">;</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">modbus_read_uint8</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">idx</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">val</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// val = 0x12</span>
<span class="p">}</span>
</pre></div>
</div>
 <div class="highlight-c notranslate"><div class="highlight"><pre><span></span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;modbus/utils.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stddef.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string.h&gt;</span>

<span class="cp">#ifndef CRC_POLYNOMIAL</span>
<span class="cp">#define CRC_POLYNOMIAL 0xA001U </span>
<span class="cp">#endif</span>

<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">crc_table</span><span class="p">[</span><span class="mi">256</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mh">0x0000</span><span class="p">,</span><span class="w"> </span><span class="mh">0xC0C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xC181</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0140</span><span class="p">,</span><span class="w"> </span><span class="mh">0xC301</span><span class="p">,</span><span class="w"> </span><span class="mh">0x03C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0280</span><span class="p">,</span><span class="w"> </span><span class="mh">0xC241</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xC601</span><span class="p">,</span><span class="w"> </span><span class="mh">0x06C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0780</span><span class="p">,</span><span class="w"> </span><span class="mh">0xC741</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0500</span><span class="p">,</span><span class="w"> </span><span class="mh">0xC5C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xC481</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0440</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xCC01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0CC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0D80</span><span class="p">,</span><span class="w"> </span><span class="mh">0xCD41</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0F00</span><span class="p">,</span><span class="w"> </span><span class="mh">0xCFC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xCE81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0E40</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x0A00</span><span class="p">,</span><span class="w"> </span><span class="mh">0xCAC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xCB81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0B40</span><span class="p">,</span><span class="w"> </span><span class="mh">0xC901</span><span class="p">,</span><span class="w"> </span><span class="mh">0x09C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x0880</span><span class="p">,</span><span class="w"> </span><span class="mh">0xC841</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xD801</span><span class="p">,</span><span class="w"> </span><span class="mh">0x18C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1980</span><span class="p">,</span><span class="w"> </span><span class="mh">0xD941</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1B00</span><span class="p">,</span><span class="w"> </span><span class="mh">0xDBC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xDA81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1A40</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x1E00</span><span class="p">,</span><span class="w"> </span><span class="mh">0xDEC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xDF81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1F40</span><span class="p">,</span><span class="w"> </span><span class="mh">0xDD01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1DC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1C80</span><span class="p">,</span><span class="w"> </span><span class="mh">0xDC41</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x1400</span><span class="p">,</span><span class="w"> </span><span class="mh">0xD4C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xD581</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1540</span><span class="p">,</span><span class="w"> </span><span class="mh">0xD701</span><span class="p">,</span><span class="w"> </span><span class="mh">0x17C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1680</span><span class="p">,</span><span class="w"> </span><span class="mh">0xD641</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xD201</span><span class="p">,</span><span class="w"> </span><span class="mh">0x12C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1380</span><span class="p">,</span><span class="w"> </span><span class="mh">0xD341</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1100</span><span class="p">,</span><span class="w"> </span><span class="mh">0xD1C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xD081</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1040</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xF001</span><span class="p">,</span><span class="w"> </span><span class="mh">0x30C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3180</span><span class="p">,</span><span class="w"> </span><span class="mh">0xF141</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3300</span><span class="p">,</span><span class="w"> </span><span class="mh">0xF3C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xF281</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3240</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x3600</span><span class="p">,</span><span class="w"> </span><span class="mh">0xF6C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xF781</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3740</span><span class="p">,</span><span class="w"> </span><span class="mh">0xF501</span><span class="p">,</span><span class="w"> </span><span class="mh">0x35C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3480</span><span class="p">,</span><span class="w"> </span><span class="mh">0xF441</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x3C00</span><span class="p">,</span><span class="w"> </span><span class="mh">0xFCC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xFD81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3D40</span><span class="p">,</span><span class="w"> </span><span class="mh">0xFF01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3FC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3E80</span><span class="p">,</span><span class="w"> </span><span class="mh">0xFE41</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xFA01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3AC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3B80</span><span class="p">,</span><span class="w"> </span><span class="mh">0xFB41</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3900</span><span class="p">,</span><span class="w"> </span><span class="mh">0xF9C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xF881</span><span class="p">,</span><span class="w"> </span><span class="mh">0x3840</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x2800</span><span class="p">,</span><span class="w"> </span><span class="mh">0xE8C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xE981</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2940</span><span class="p">,</span><span class="w"> </span><span class="mh">0xEB01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2BC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2A80</span><span class="p">,</span><span class="w"> </span><span class="mh">0xEA41</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xEE01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2EC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2F80</span><span class="p">,</span><span class="w"> </span><span class="mh">0xEF41</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2D00</span><span class="p">,</span><span class="w"> </span><span class="mh">0xEDC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xEC81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2C40</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xE401</span><span class="p">,</span><span class="w"> </span><span class="mh">0x24C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2580</span><span class="p">,</span><span class="w"> </span><span class="mh">0xE541</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2700</span><span class="p">,</span><span class="w"> </span><span class="mh">0xE7C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xE681</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2640</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x2200</span><span class="p">,</span><span class="w"> </span><span class="mh">0xE2C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xE381</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2340</span><span class="p">,</span><span class="w"> </span><span class="mh">0xE101</span><span class="p">,</span><span class="w"> </span><span class="mh">0x21C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x2080</span><span class="p">,</span><span class="w"> </span><span class="mh">0xE041</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xA001</span><span class="p">,</span><span class="w"> </span><span class="mh">0x60C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6180</span><span class="p">,</span><span class="w"> </span><span class="mh">0xA141</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6300</span><span class="p">,</span><span class="w"> </span><span class="mh">0xA3C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xA281</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6240</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x6600</span><span class="p">,</span><span class="w"> </span><span class="mh">0xA6C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xA781</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6740</span><span class="p">,</span><span class="w"> </span><span class="mh">0xA501</span><span class="p">,</span><span class="w"> </span><span class="mh">0x65C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6480</span><span class="p">,</span><span class="w"> </span><span class="mh">0xA441</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x6C00</span><span class="p">,</span><span class="w"> </span><span class="mh">0xACC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xAD81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6D40</span><span class="p">,</span><span class="w"> </span><span class="mh">0xAF01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6FC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6E80</span><span class="p">,</span><span class="w"> </span><span class="mh">0xAE41</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xAA01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6AC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6B80</span><span class="p">,</span><span class="w"> </span><span class="mh">0xAB41</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6900</span><span class="p">,</span><span class="w"> </span><span class="mh">0xA9C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xA881</span><span class="p">,</span><span class="w"> </span><span class="mh">0x6840</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x7800</span><span class="p">,</span><span class="w"> </span><span class="mh">0xB8C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xB981</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7940</span><span class="p">,</span><span class="w"> </span><span class="mh">0xBB01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7BC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7A80</span><span class="p">,</span><span class="w"> </span><span class="mh">0xBA41</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xBE01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7EC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7F80</span><span class="p">,</span><span class="w"> </span><span class="mh">0xBF41</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7D00</span><span class="p">,</span><span class="w"> </span><span class="mh">0xBDC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xBC81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7C40</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0xB401</span><span class="p">,</span><span class="w"> </span><span class="mh">0x74C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7580</span><span class="p">,</span><span class="w"> </span><span class="mh">0xB541</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7700</span><span class="p">,</span><span class="w"> </span><span class="mh">0xB7C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xB681</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7640</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x7200</span><span class="p">,</span><span class="w"> </span><span class="mh">0xB2C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0xB381</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7340</span><span class="p">,</span><span class="w"> </span><span class="mh">0xB101</span><span class="p">,</span><span class="w"> </span><span class="mh">0x71C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x7080</span><span class="p">,</span><span class="w"> </span><span class="mh">0xB041</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x5000</span><span class="p">,</span><span class="w"> </span><span class="mh">0x90C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9181</span><span class="p">,</span><span class="w"> </span><span class="mh">0x5140</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9301</span><span class="p">,</span><span class="w"> </span><span class="mh">0x53C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x5280</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9241</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x9601</span><span class="p">,</span><span class="w"> </span><span class="mh">0x56C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x5780</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9741</span><span class="p">,</span><span class="w"> </span><span class="mh">0x5500</span><span class="p">,</span><span class="w"> </span><span class="mh">0x95C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9481</span><span class="p">,</span><span class="w"> </span><span class="mh">0x5440</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x9C01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x5CC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x5D80</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9D41</span><span class="p">,</span><span class="w"> </span><span class="mh">0x5F00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9FC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9E81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x5E40</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x5A00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9AC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9B81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x5B40</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9901</span><span class="p">,</span><span class="w"> </span><span class="mh">0x59C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x5880</span><span class="p">,</span><span class="w"> </span><span class="mh">0x9841</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x8801</span><span class="p">,</span><span class="w"> </span><span class="mh">0x48C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4980</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8941</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4B00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8BC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8A81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4A40</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x4E00</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8EC1</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8F81</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4F40</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8D01</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4DC0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4C80</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8C41</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x4400</span><span class="p">,</span><span class="w"> </span><span class="mh">0x84C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8581</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4540</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8701</span><span class="p">,</span><span class="w"> </span><span class="mh">0x47C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4680</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8641</span><span class="p">,</span>
<span class="w">    </span><span class="mh">0x8201</span><span class="p">,</span><span class="w"> </span><span class="mh">0x42C0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4380</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8341</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4100</span><span class="p">,</span><span class="w"> </span><span class="mh">0x81C1</span><span class="p">,</span><span class="w"> </span><span class="mh">0x8081</span><span class="p">,</span><span class="w"> </span><span class="mh">0x4040</span>
<span class="p">};</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">modbus_regs_to_bytes_abcd</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">out</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">out</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">registers</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">out</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">        </span><span class="n">out</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">        </span><span class="n">out</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">        </span><span class="n">out</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)((</span><span class="n">registers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFU</span><span class="p">);</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)(</span><span class="n">registers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFU</span><span class="p">);</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)((</span><span class="n">registers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFU</span><span class="p">);</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)(</span><span class="n">registers</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFU</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">modbus_bytes_to_regs_abcd</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">bytes</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dest</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">dest</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)(((</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
<span class="w">    </span><span class="n">dest</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)(((</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">bytes</span><span class="p">[</span><span class="mi">3</span><span class="p">]);</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="nf">modbus_bytes_to_u32</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">bytes</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">((</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">bytes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span><span class="w"> </span><span class="o">|</span>
<span class="w">           </span><span class="p">((</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">bytes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">|</span>
<span class="w">           </span><span class="p">((</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">bytes</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w">  </span><span class="o">|</span>
<span class="w">           </span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">bytes</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">modbus_u32_to_bytes</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">out</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)((</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFU</span><span class="p">);</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)((</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFU</span><span class="p">);</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)((</span><span class="n">value</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFU</span><span class="p">);</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)(</span><span class="n">value</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0xFFU</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">modbus_reorder_bytes</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">in</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">out</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b0</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b2</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b3</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">[</span><span class="n">b0</span><span class="p">];</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">[</span><span class="n">b1</span><span class="p">];</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">[</span><span class="n">b2</span><span class="p">];</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">[</span><span class="n">b3</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="nf">modbus_get_u32_ordered</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b0</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b2</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b3</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">abcd</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">ordered</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="w">    </span><span class="n">modbus_regs_to_bytes_abcd</span><span class="p">(</span><span class="n">registers</span><span class="p">,</span><span class="w"> </span><span class="n">abcd</span><span class="p">);</span>
<span class="w">    </span><span class="n">modbus_reorder_bytes</span><span class="p">(</span><span class="n">abcd</span><span class="p">,</span><span class="w"> </span><span class="n">ordered</span><span class="p">,</span><span class="w"> </span><span class="n">b0</span><span class="p">,</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="n">b2</span><span class="p">,</span><span class="w"> </span><span class="n">b3</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">modbus_bytes_to_u32</span><span class="p">(</span><span class="n">ordered</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_u32_ordered</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b0</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b2</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">b3</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dest</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">abcd</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="w">    </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">ordered</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
<span class="w">    </span><span class="n">modbus_u32_to_bytes</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">abcd</span><span class="p">);</span>
<span class="w">    </span><span class="n">modbus_reorder_bytes</span><span class="p">(</span><span class="n">abcd</span><span class="p">,</span><span class="w"> </span><span class="n">ordered</span><span class="p">,</span><span class="w"> </span><span class="n">b0</span><span class="p">,</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="n">b2</span><span class="p">,</span><span class="w"> </span><span class="n">b3</span><span class="p">);</span>
<span class="w">    </span><span class="n">modbus_bytes_to_regs_abcd</span><span class="p">(</span><span class="n">ordered</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="p">);</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nf">modbus_float_from_u32</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">raw</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0f</span><span class="p">;</span>
<span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">raw</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">value</span><span class="p">));</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">static</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="nf">modbus_u32_from_float</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">raw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0U</span><span class="p">;</span>
<span class="w">    </span><span class="n">memcpy</span><span class="p">(</span><span class="o">&amp;</span><span class="n">raw</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">raw</span><span class="p">));</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">raw</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span><span class="w"> </span><span class="nf">modbus_read_uint8</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">buffer_size</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">value</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">buffer</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">index</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// Invalid arguments</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="n">index</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">buffer_size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// Not enough data to read</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="o">*</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buffer</span><span class="p">[(</span><span class="o">*</span><span class="n">index</span><span class="p">)</span><span class="o">++</span><span class="p">];</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span><span class="w"> </span><span class="nf">modbus_read_uint16</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">buffer_size</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">value</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">buffer</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">index</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">!</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// Invalid arguments</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="o">*</span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1U</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">buffer_size</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span><span class="w"> </span><span class="c1">// Not enough data to read</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">data_high</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buffer</span><span class="p">[(</span><span class="o">*</span><span class="n">index</span><span class="p">)</span><span class="o">++</span><span class="p">];</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">data_low</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">buffer</span><span class="p">[(</span><span class="o">*</span><span class="n">index</span><span class="p">)</span><span class="o">++</span><span class="p">];</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">high_word</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)((</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">data_high</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">8U</span><span class="p">);</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">low_word</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">data_low</span><span class="p">;</span>
<span class="w">    </span><span class="o">*</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)(</span><span class="n">high_word</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">low_word</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_selection_sort</span><span class="p">(</span><span class="n">variable_modbus_t</span><span class="w"> </span><span class="n">modbus_variables</span><span class="p">[],</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">length</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">modbus_variables</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="c1">// No need to sort</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="p">(</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">min_idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">        </span><span class="c1">// Find the minimum element in the unsorted part of the array</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">modbus_variables</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">address</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">modbus_variables</span><span class="p">[</span><span class="n">min_idx</span><span class="p">].</span><span class="n">address</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">min_idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">j</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="c1">// Swap the found minimum element with the first element of the unsorted part</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">min_idx</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">variable_modbus_t</span><span class="w"> </span><span class="n">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modbus_variables</span><span class="p">[</span><span class="n">min_idx</span><span class="p">];</span>
<span class="w">            </span><span class="n">modbus_variables</span><span class="p">[</span><span class="n">min_idx</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modbus_variables</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">            </span><span class="n">modbus_variables</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// NOLINTBEGIN(bugprone-easily-swappable-parameters)</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">modbus_binary_search</span><span class="p">(</span><span class="n">variable_modbus_t</span><span class="w"> </span><span class="n">modbus_variables</span><span class="p">[],</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">low</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">high</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">value</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">modbus_variables</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">low</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">high</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">// Invalid parameters</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">low</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">high</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">mid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">low</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">high</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">low</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2U</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">modbus_variables</span><span class="p">[</span><span class="n">mid</span><span class="p">].</span><span class="n">address</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">mid</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">modbus_variables</span><span class="p">[</span><span class="n">mid</span><span class="p">].</span><span class="n">address</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">low</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mid</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1U</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">mid</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// Prevent underflow</span>
<span class="w">                </span><span class="k">break</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">high</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mid</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1U</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">// Not found</span>
<span class="p">}</span>
<span class="c1">// NOLINTEND(bugprone-easily-swappable-parameters)</span>

<span class="kt">uint32_t</span><span class="w"> </span><span class="nf">modbus_get_uint32_abcd</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">modbus_get_u32_ordered</span><span class="p">(</span><span class="n">registers</span><span class="p">,</span><span class="w"> </span><span class="mi">0U</span><span class="p">,</span><span class="w"> </span><span class="mi">1U</span><span class="p">,</span><span class="w"> </span><span class="mi">2U</span><span class="p">,</span><span class="w"> </span><span class="mi">3U</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">uint32_t</span><span class="w"> </span><span class="nf">modbus_get_uint32_dcba</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">modbus_get_u32_ordered</span><span class="p">(</span><span class="n">registers</span><span class="p">,</span><span class="w"> </span><span class="mi">3U</span><span class="p">,</span><span class="w"> </span><span class="mi">2U</span><span class="p">,</span><span class="w"> </span><span class="mi">1U</span><span class="p">,</span><span class="w"> </span><span class="mi">0U</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">uint32_t</span><span class="w"> </span><span class="nf">modbus_get_uint32_badc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">modbus_get_u32_ordered</span><span class="p">(</span><span class="n">registers</span><span class="p">,</span><span class="w"> </span><span class="mi">1U</span><span class="p">,</span><span class="w"> </span><span class="mi">0U</span><span class="p">,</span><span class="w"> </span><span class="mi">3U</span><span class="p">,</span><span class="w"> </span><span class="mi">2U</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">uint32_t</span><span class="w"> </span><span class="nf">modbus_get_uint32_cdab</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">modbus_get_u32_ordered</span><span class="p">(</span><span class="n">registers</span><span class="p">,</span><span class="w"> </span><span class="mi">2U</span><span class="p">,</span><span class="w"> </span><span class="mi">3U</span><span class="p">,</span><span class="w"> </span><span class="mi">0U</span><span class="p">,</span><span class="w"> </span><span class="mi">1U</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_uint32_abcd</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_u32_ordered</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="mi">0U</span><span class="p">,</span><span class="w"> </span><span class="mi">1U</span><span class="p">,</span><span class="w"> </span><span class="mi">2U</span><span class="p">,</span><span class="w"> </span><span class="mi">3U</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_uint32_dcba</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_u32_ordered</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="mi">3U</span><span class="p">,</span><span class="w"> </span><span class="mi">2U</span><span class="p">,</span><span class="w"> </span><span class="mi">1U</span><span class="p">,</span><span class="w"> </span><span class="mi">0U</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_uint32_badc</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_u32_ordered</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="mi">1U</span><span class="p">,</span><span class="w"> </span><span class="mi">0U</span><span class="p">,</span><span class="w"> </span><span class="mi">3U</span><span class="p">,</span><span class="w"> </span><span class="mi">2U</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_uint32_cdab</span><span class="p">(</span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_u32_ordered</span><span class="p">(</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="p">,</span><span class="w"> </span><span class="mi">2U</span><span class="p">,</span><span class="w"> </span><span class="mi">3U</span><span class="p">,</span><span class="w"> </span><span class="mi">0U</span><span class="p">,</span><span class="w"> </span><span class="mi">1U</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int32_t</span><span class="w"> </span><span class="nf">modbus_get_int32_abcd</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">modbus_get_uint32_abcd</span><span class="p">(</span><span class="n">registers</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int32_t</span><span class="w"> </span><span class="nf">modbus_get_int32_dcba</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">modbus_get_uint32_dcba</span><span class="p">(</span><span class="n">registers</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int32_t</span><span class="w"> </span><span class="nf">modbus_get_int32_badc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">modbus_get_uint32_badc</span><span class="p">(</span><span class="n">registers</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int32_t</span><span class="w"> </span><span class="nf">modbus_get_int32_cdab</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">int32_t</span><span class="p">)</span><span class="n">modbus_get_uint32_cdab</span><span class="p">(</span><span class="n">registers</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_int32_abcd</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_uint32_abcd</span><span class="p">((</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_int32_dcba</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_uint32_dcba</span><span class="p">((</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_int32_badc</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_uint32_badc</span><span class="p">((</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_int32_cdab</span><span class="p">(</span><span class="kt">int32_t</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_uint32_cdab</span><span class="p">((</span><span class="kt">uint32_t</span><span class="p">)</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">dest</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">float</span><span class="w"> </span><span class="nf">modbus_get_float_abcd</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">modbus_float_from_u32</span><span class="p">(</span><span class="n">modbus_get_uint32_abcd</span><span class="p">(</span><span class="n">registers</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">float</span><span class="w"> </span><span class="nf">modbus_get_float_dcba</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">modbus_float_from_u32</span><span class="p">(</span><span class="n">modbus_get_uint32_dcba</span><span class="p">(</span><span class="n">registers</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">float</span><span class="w"> </span><span class="nf">modbus_get_float_badc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">modbus_float_from_u32</span><span class="p">(</span><span class="n">modbus_get_uint32_badc</span><span class="p">(</span><span class="n">registers</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">float</span><span class="w"> </span><span class="nf">modbus_get_float_cdab</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">registers</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">modbus_float_from_u32</span><span class="p">(</span><span class="n">modbus_get_uint32_cdab</span><span class="p">(</span><span class="n">registers</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_float_abcd</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_uint32_abcd</span><span class="p">(</span><span class="n">modbus_u32_from_float</span><span class="p">(</span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">dest</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_float_dcba</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_uint32_dcba</span><span class="p">(</span><span class="n">modbus_u32_from_float</span><span class="p">(</span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">dest</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_float_badc</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_uint32_badc</span><span class="p">(</span><span class="n">modbus_u32_from_float</span><span class="p">(</span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">dest</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">modbus_set_float_cdab</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="o">*</span><span class="n">dest</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">modbus_set_uint32_cdab</span><span class="p">(</span><span class="n">modbus_u32_from_float</span><span class="p">(</span><span class="n">value</span><span class="p">),</span><span class="w"> </span><span class="n">dest</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">uint16_t</span><span class="w"> </span><span class="nf">modbus_calculate_crc</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">length</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mh">0xFFFFU</span><span class="p">;</span><span class="w"> </span><span class="c1">// Default CRC for invalid data</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">crc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0xFFFFU</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">crc</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">8U</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">crc</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0x0001U</span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">crc</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="mi">1U</span><span class="p">;</span>
<span class="w">                </span><span class="n">crc</span><span class="w"> </span><span class="o">^=</span><span class="w"> </span><span class="n">CRC_POLYNOMIAL</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">crc</span><span class="w"> </span><span class="o">&gt;&gt;=</span><span class="w"> </span><span class="mi">1U</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">crc</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">uint16_t</span><span class="w"> </span><span class="nf">modbus_crc_with_table</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">length</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mh">0xFFFFU</span><span class="p">;</span><span class="w"> </span><span class="c1">// Default CRC for invalid data</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">crc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0xFFFFU</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)(</span><span class="n">crc</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">data</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="w">        </span><span class="n">crc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)((</span><span class="n">crc</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">8U</span><span class="p">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="n">crc_table</span><span class="p">[</span><span class="n">index</span><span class="p">]);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">crc</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span><span class="w"> </span><span class="nf">modbus_crc_validate</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="o">*</span><span class="n">frame</span><span class="p">,</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">length</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">frame</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2U</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">payload_len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)(</span><span class="n">length</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">2U</span><span class="p">);</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">expected_crc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)((</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">frame</span><span class="p">[</span><span class="n">payload_len</span><span class="p">]</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">((</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">frame</span><span class="p">[</span><span class="n">payload_len</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1U</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">8U</span><span class="p">));</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w"> </span><span class="n">computed_crc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">modbus_crc_with_table</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span><span class="w"> </span><span class="n">payload_len</span><span class="p">);</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">computed_crc</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">expected_crc</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
 </p>
<dl class="field-list simple">
<dt class="field-odd">param buffer<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Pointer to the data buffer. </p>
</dd>
<dt class="field-even">param index<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[inout]</strong> Pointer to the current read index in the buffer. It is incremented by one on success. </p>
</dd>
<dt class="field-odd">param buffer_size<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[in]</strong> Size of the buffer in bytes. </p>
</dd>
<dt class="field-even">param value<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>[out]</strong> Pointer to the variable where the read value will be stored.</p>
</dd>
<dt class="field-odd">return<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code> if the value was successfully read, <code class="docutils literal notranslate"><span class="pre">false</span></code> if not enough data.</p>
</dd>
</dl>
</dd></dl>

<section id="clients">
<h2>Clients<a class="headerlink" href="#clients" title="Link to this heading"></a></h2>
<dl class="cpp struct">
<dt class="sig sig-object cpp">
<span class="target" id="structmb__client"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp">
<span class="target" id="structmb__client__metrics__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_metrics_t</span></span></span><br /></dt>
<dd></dd></dl>

<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “mb_client_init” in doxygen xml output for project “modbus” from directory: /home/runner/work/modbus/modbus/build/host-docs/doxygen/xml</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenfunction: Cannot find function “mb_client_init_tcp” in doxygen xml output for project “modbus” from directory: /home/runner/work/modbus/modbus/build/host-docs/doxygen/xml</p>
</div>
<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8h_1a68ca51f665a58084ae934b8fe7dd0691"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_submit</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv419mb_client_request_t" title="mb_client_request_t"><span class="n"><span class="pre">mb_client_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">request</span></span>, <a class="reference internal" href="#_CPPv415mb_client_txn_t" title="mb_client_txn_t"><span class="n"><span class="pre">mb_client_txn_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_txn</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialises a Modbus client instance bound to a transport. </p>
<p>The client adopts <code class="docutils literal notranslate"><span class="pre">iface</span></code> as its non-blocking transport, clears the transaction pool and applies default timeout/backoff configuration. Callers must provide storage for the transaction descriptors in <code class="docutils literal notranslate"><span class="pre">txn_pool</span></code>.</p>
<p>
Initialises a client instance targeting Modbus TCP transports.</p>
<p>This variant wires the TCP transport helper, enabling transaction ID routing and multi-socket aware callbacks. Parameters mirror mb_client_init.</p>
<p>
Queues a Modbus request for transmission.<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>mb_client_init</p>
</div>
</p>
<p>The request is copied into an available transaction slot. When <code class="docutils literal notranslate"><span class="pre">out_txn</span></code> is not NULL it receives the descriptor so callers can later inspect state or cancel the operation. Requests flagged with <a class="reference internal" href="#client_8h_1a765cdd10d7609f0a8a886b13aa850cba"><span class="std std-ref">MB_CLIENT_REQUEST_HIGH_PRIORITY</span></a> bypass the FIFO order while <a class="reference internal" href="#client_8h_1add7f49ff2da4dd3ec146833231dca439"><span class="std std-ref">MB_CLIENT_REQUEST_POISON</span></a> flushes the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client object to initialise. </p></li>
<li><p><strong>iface</strong> – Transport interface implementing <a class="reference internal" href="#structmb__transport__if__t"><span class="std std-ref">mb_transport_if_t</span></a>. </p></li>
<li><p><strong>txn_pool</strong> – Array of transaction slots managed by the client. </p></li>
<li><p><strong>txn_pool_len</strong> – Number of elements in <code class="docutils literal notranslate"><span class="pre">txn_pool</span></code>.</p></li>
<li><p><strong>client</strong> – Client instance obtained from mb_client_init. </p></li>
<li><p><strong>request</strong> – Immutable request description; payload is copied internally. </p></li>
<li><p><strong>out_txn</strong> – Optional pointer that receives the allocated transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Initialisation succeeded. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – One of the arguments was NULL or invalid.</p></li>
<li><p><strong>MB_OK</strong> – Initialisation succeeded. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – One of the arguments was NULL or invalid.</p></li>
<li><p><strong>MB_OK</strong> – The request was queued successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Arguments were NULL or payload exceeded <a class="reference internal" href="#pdu_8h_1a39d8f0bb73f4a38dfb518fa175b5597f"><span class="std std-ref">MB_PDU_MAX</span></a>. </p></li>
<li><p><strong>MB_ERR_NO_RESOURCES</strong> – No transaction slots or queue capacity available. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8h_1a69937448e11a18673f7fcb85ed78021e"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_poll</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Advances the client finite-state machine. </p>
<p>Poll this function from your event loop to progress retries, timeouts and transport I/O.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Operation succeeded or no work was required. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">client</span></code> was NULL. </p></li>
<li><p><strong>other</strong> – Error codes bubbled up from the active transport. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8h_1ac979f2e5cb7d13404cdf432695677b34"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_get_metrics</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv419mb_client_metrics_t" title="mb_client_metrics_t"><span class="n"><span class="pre">mb_client_metrics_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_metrics</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Copies the current client metrics into <code class="docutils literal notranslate"><span class="pre">out_metrics</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>out_metrics</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8h_1a898cecfee36e5182ebb50f23815d5d03"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_reset_metrics</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Resets all accumulated client metrics back to zero. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8h_1a212f352c64102a4ff41e5f20101ce3cb"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_get_diag</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_diag</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Copies diagnostic counters into <code class="docutils literal notranslate"><span class="pre">out_diag</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>out_diag</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8h_1a26ec61f6eab3953cf76501f522e9f2da"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_reset_diag</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Clears the diagnostic counters collected for this client. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>client</strong> – Client instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8h_1a82173f682c01703acc4dc3d18983189d"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_event_callback</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <a class="reference internal" href="#_CPPv419mb_event_callback_t" title="mb_event_callback_t"><span class="n"><span class="pre">mb_event_callback_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">callback</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Registers an event callback to observe client activity. </p>
<p>When <code class="docutils literal notranslate"><span class="pre">callback</span></code> is non-NULL the current state is emitted immediately.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>callback</strong> – Event sink invoked on state and transaction updates. </p></li>
<li><p><strong>user_ctx</strong> – Opaque pointer forwarded to <code class="docutils literal notranslate"><span class="pre">callback</span></code>. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="client_8h_1ae124b55c97dede90cf0b0a6f87d49510"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_client_set_trace_hex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_client_t" title="mb_client_t"><span class="n"><span class="pre">mb_client_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">client</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">enable</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Toggles hexadecimal tracing of TX/RX PDUs to the logging sink. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client</strong> – Client instance. </p></li>
<li><p><strong>enable</strong> – <code class="docutils literal notranslate"><span class="pre">true</span></code> to enable tracing, <code class="docutils literal notranslate"><span class="pre">false</span></code> to disable. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="servers">
<h2>Servers<a class="headerlink" href="#servers" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenstruct: Cannot find class “mb_server” in doxygen xml output for project “modbus” from directory: /home/runner/work/modbus/modbus/build/host-docs/doxygen/xml</p>
</div>
<dl class="cpp enum">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a7a218e7a3fb97d17f268961eda0f8cc0"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_state_t</span></span></span><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a7a218e7a3fb97d17f268961eda0f8cc0a8373e09524e9f907a3f727c946833e4e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_SERVER_STATE_IDLE</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a7a218e7a3fb97d17f268961eda0f8cc0a19bd48318f64c650f31f61b28e88a9e7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_SERVER_STATE_PROCESSING</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a7a218e7a3fb97d17f268961eda0f8cc0a784b5444c5761bd0afa69f40bcc44083"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_SERVER_STATE_DRAINING</span></span></span><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp">
<span class="target" id="structmb__server__request"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_request</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp">
<span class="target" id="structmb__server__metrics__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_metrics_t</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a6bc380aa0da1913fb9f77b6093b5ffc8"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_init</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv417mb_transport_if_t" title="mb_transport_if_t"><span class="n"><span class="pre">mb_transport_if_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">iface</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">unit_id</span></span>, <a class="reference internal" href="#_CPPv418mb_server_region_t" title="mb_server_region_t"><span class="n"><span class="pre">mb_server_region_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">regions</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">region_capacity</span></span>, <a class="reference internal" href="#_CPPv419mb_server_request_t" title="mb_server_request_t"><span class="n"><span class="pre">mb_server_request_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">request_pool</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">request_pool_len</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Initialises a server object bound to a transport interface. </p>
<p>All memory backing regions and request slots is supplied by the caller so the server can operate without dynamic allocations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance to initialise. </p></li>
<li><p><strong>iface</strong> – Transport implementing <a class="reference internal" href="#structmb__transport__if__t"><span class="std std-ref">mb_transport_if_t</span></a>. </p></li>
<li><p><strong>unit_id</strong> – Modbus unit identifier served by this instance. </p></li>
<li><p><strong>regions</strong> – Array used to store region descriptors. </p></li>
<li><p><strong>region_capacity</strong> – Number of entries available in <code class="docutils literal notranslate"><span class="pre">regions</span></code>. </p></li>
<li><p><strong>request_pool</strong> – Array of request descriptors used as queue storage. </p></li>
<li><p><strong>request_pool_len</strong> – Number of entries in <code class="docutils literal notranslate"><span class="pre">request_pool</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Initialisation succeeded. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid argument or missing storage. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a00f274e9718b81e217ada5eb29d5d8c4"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_add_storage</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">start</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">count</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">read_only</span></span>, <a class="reference internal" href="#_CPPv46mb_u16" title="mb_u16"><span class="n"><span class="pre">mb_u16</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">storage</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Registers a region backed by caller-provided storage. </p>
<p>The buffer provided in <code class="docutils literal notranslate"><span class="pre">storage</span></code> must contain at least <code class="docutils literal notranslate"><span class="pre">count</span></code> elements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>start</strong> – First register address handled by the region. </p></li>
<li><p><strong>count</strong> – Number of registers backed by <code class="docutils literal notranslate"><span class="pre">storage</span></code>. </p></li>
<li><p><strong>read_only</strong> – Reject write requests when true. </p></li>
<li><p><strong>storage</strong> – Caller-owned register array.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Region added successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – Invalid storage pointer or range. </p></li>
<li><p><strong>MB_ERR_OTHER</strong> – Region capacity exhausted. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1aa9f6c189ff6fdee018c60a1b6328c1fa"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_poll</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Advances the server finite-state machine. </p>
<p>Poll this function frequently to accept new Modbus requests and service the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Operation succeeded or no work was pending. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">server</span></code> was NULL. </p></li>
<li><p><strong>other</strong> – Error codes bubbled up from the active transport. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a91ab7ab8e2354c0aca5ef3165eb0ea47"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_queue_capacity</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">capacity</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Limits how many requests can be staged at once. </p>
<p>Setting <code class="docutils literal notranslate"><span class="pre">capacity</span></code> to zero enables an unbounded queue capped only by the size of the request pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>capacity</strong> – Maximum number of queued requests. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a7729d7ac922e7a7e72b1e0c33c54a753"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_queue_capacity</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Retrieves the current queue capacity limit. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Queue capacity (0 when <code class="docutils literal notranslate"><span class="pre">server</span></code> is NULL). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a26ee057e4c67605b53de1d59238e02da"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_fc_timeout</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span>, <a class="reference internal" href="#_CPPv412mb_time_ms_t" title="mb_time_ms_t"><span class="n"><span class="pre">mb_time_ms_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">timeout_ms</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Overrides the timeout used for a specific function code. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>function</strong> – Function code whose timeout should be updated. </p></li>
<li><p><strong>timeout_ms</strong> – Timeout in milliseconds (0 reverts to default). </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a3eb509c52701e0ec07de10399e80ab32"></span><a class="reference internal" href="#_CPPv49mb_size_t" title="mb_size_t"><span class="n"><span class="pre">mb_size_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_pending</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Returns the number of requests currently pending in the queue. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of pending requests (0 when <code class="docutils literal notranslate"><span class="pre">server</span></code> is NULL). </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1aa3b7f7cfedc21030f9b964022abe5786"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_is_idle</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Reports whether the server has no active or queued requests. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>true</strong> – No requests are in-flight or queued. </p></li>
<li><p><strong>false</strong> – There is active or pending work. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a42a6d0e4cd47912279229b955b5f13d0"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_submit_poison</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Enqueues a poison pill that flushes outstanding requests. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance.</p>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – Poison request queued successfully. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">server</span></code> was NULL. </p></li>
<li><p><strong>MB_ERR_NO_RESOURCES</strong> – No spare request slot was available. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1ae0e50d61a54e470987647b6962e942eb"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_get_metrics</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_server_metrics_t" title="mb_server_metrics_t"><span class="n"><span class="pre">mb_server_metrics_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_metrics</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Copies accumulated metrics into <code class="docutils literal notranslate"><span class="pre">out_metrics</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>out_metrics</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a850905963d134e13219f51acfe22ffb0"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_reset_metrics</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Resets the server metrics to zero. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a3c19b9859ebe03189762a3d1874025c8"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_inject_adu</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv413mb_adu_view_t" title="mb_adu_view_t"><span class="n"><span class="pre">mb_adu_view_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">adu</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Injects a raw ADU into the server for testing purposes. </p>
<p>Intended for simulations where the transport path is bypassed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>adu</strong> – ADU to inject.</p></li>
</ul>
</dd>
<dt class="field-even">Return values<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>MB_OK</strong> – ADU was accepted for processing. </p></li>
<li><p><strong>MB_ERR_INVALID_ARGUMENT</strong> – <code class="docutils literal notranslate"><span class="pre">server</span></code> or <code class="docutils literal notranslate"><span class="pre">adu</span></code> was NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a19a2c83a75b3d992c5734b939d97e3dd"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_get_diag</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">out_diag</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Copies diagnostic counters into <code class="docutils literal notranslate"><span class="pre">out_diag</span></code>. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>out_diag</strong> – Destination structure; left untouched when NULL. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a7c5e71bc7167531bb4a01c6c5bf36294"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_reset_diag</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Clears the diagnostic counters maintained by the server. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>server</strong> – Server instance. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1aad048669d3f8c9eeb6502a59d139d858"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_event_callback</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <a class="reference internal" href="#_CPPv419mb_event_callback_t" title="mb_event_callback_t"><span class="n"><span class="pre">mb_event_callback_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">callback</span></span>, <span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">user_ctx</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Registers an event callback invoked on state transitions and requests. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>callback</strong> – Event sink; pass NULL to disable notifications. </p></li>
<li><p><strong>user_ctx</strong> – Opaque pointer forwarded to <code class="docutils literal notranslate"><span class="pre">callback</span></code>. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="server_8h_1a089448fed50fa7d208924fcf2a722902"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_server_set_trace_hex</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv411mb_server_t" title="mb_server_t"><span class="n"><span class="pre">mb_server_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">server</span></span>, <span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">enable</span></span><span class="sig-paren">)</span><br /></dt>
<dd><p>Enables or disables hexadecimal tracing of requests and responses. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> – Server instance. </p></li>
<li><p><strong>enable</strong> – <code class="docutils literal notranslate"><span class="pre">true</span></code> to enable tracing, <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise. </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="observability">
<h2>Observability<a class="headerlink" href="#observability" title="Link to this heading"></a></h2>
<dl class="cpp struct">
<dt class="sig sig-object cpp">
<span class="target" id="structmb__event"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_event</span></span></span><br /></dt>
<dd><p>Payload carried by an observability event. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="structmb__event_1ad9bdeeec277296dbcc6d51bd18348531"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">state</span></span></span><br /></dt>
<dd><p>Client state identifier (see <a class="reference internal" href="#client_8h_1aa88e914caed5e7255444fa976d557c02"><span class="std std-ref">mb_client_state_t</span></a>).</p>
<p>Server state identifier. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="structmb__event_1a416d9f8b116c7de7312682bcb379c3a0"></span><a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">function</span></span></span><br /></dt>
<dd><p>Function code associated with the transaction.</p>
<p>Function code of the request. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="structmb__event_1a4d105cca863f07fe53e44c3a83322130"></span><a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">status</span></span></span><br /></dt>
<dd><p>Completion status (MB_OK on success).</p>
<p>Resulting status (exception or transport error). </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="structmb__event_1a8d4b96b73de5e7d9ba3bbfedc393a1c4"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">expect_response</span></span></span><br /></dt>
<dd><p>Whether the transaction expects a response. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp">
<span class="target" id="structmb__event_1a95120ffa86178d84bf92ad51194715b0"></span><span class="kt"><span class="pre">bool</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">broadcast</span></span></span><br /></dt>
<dd><p>True when the request was a broadcast (unit id == 0). </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1ac18a8256f9b92a1f80e602fafb724be5"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_event_source_t</span></span></span><br /></dt>
<dd><p>Identifies the component emitting an observability event. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1ac18a8256f9b92a1f80e602fafb724be5a9d3e9076aa48fb46dfbef8ae2c1d405a"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SOURCE_CLIENT</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1ac18a8256f9b92a1f80e602fafb724be5adc8e591fa269545adba3cc540bb51dec"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SOURCE_SERVER</span></span></span><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_event_type_t</span></span></span><br /></dt>
<dd><p>Event categories surfaced through the observability callback. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a1921845e024f1970d49e8ab42af6f19d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_CLIENT_STATE_ENTER</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a751b4c16f216a685d8b569d2472657b7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_CLIENT_STATE_EXIT</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a320fe707abcf816f7a1d33a75ac285ed"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_CLIENT_TX_SUBMIT</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a5e78a2a754d3900ac61772c8ab7833bd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_CLIENT_TX_COMPLETE</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06ae7666cb8044e36b58159b509e224f1af"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SERVER_STATE_ENTER</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a3d4e62e679128180fdde8a3da2eae9fe"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SERVER_STATE_EXIT</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a98e4131b77ea1d80fd82be54e9e91101"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SERVER_REQUEST_ACCEPT</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a1bd6d670759accc04157f22b90e8fe06a089d55d698e88ddaa2e95805e1c9cc41"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_EVENT_SERVER_REQUEST_COMPLETE</span></span></span><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp struct">
<dt class="sig sig-object cpp">
<span class="target" id="structmb__diag__counters__t"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_counters_t</span></span></span><br /></dt>
<dd><p>Aggregated counters grouped by function code and error bucket. </p>
</dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_err_slot_t</span></span></span><br /></dt>
<dd><p>Canonical buckets used for error diagnostics counters. </p>
<p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8aabdbc24a4ecf6fa7180a48cea324994d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_OK</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a43ceb2cac3df9f1a029e5b61d8aa8e69"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_INVALID_ARGUMENT</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a8b7ad32d95f5526e8da5fc83ecfcfce3"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_TIMEOUT</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a59e1a9d6bb017e8693885bd08611b5b5"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_TRANSPORT</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a3b53e420bbad8a644176ccfc450f581b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_CRC</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8ac591cc5446695e72532fef1785e043ae"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_INVALID_REQUEST</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8aa19ead720945afcfd055d28eea177747"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_OTHER_REQUESTS</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a2c9ffa3f1c34b262dceb5004330c2a4e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_OTHER</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a249bad96b91b5ea550ad7128f3ea5e1c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_CANCELLED</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a486d78071fc0da19c44a45a967edd4a7"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_NO_RESOURCES</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a4f133574e39f8a778fbce396c61dbc4b"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_FUNCTION</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a04afef893267e237d9e92eaef1472972"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_ADDRESS</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a0ac018b244ee0b6e2db6ba6c40403e6d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ILLEGAL_DATA_VALUE</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a475b46306f0f8f9f213fbfe5cef5979e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_FAILURE</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a79a0d3d0908aa9b500c4f890f2e013ab"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_ACKNOWLEDGE</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a740797fe3e9d94006b2d637a93e57ddb"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_SERVER_DEVICE_BUSY</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a03dd09f3d143051686a647d192daf57d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_NEGATIVE_ACKNOWLEDGE</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a9ecf80b823776a31f940e97b899f37f1"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_MEMORY_PARITY_ERROR</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a1436cd7d2dfc0e6f54e7077d14e482b6"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_PATH_UNAVAILABLE</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8a2537a76ea03c4fe7df4f5d138b0b6f59"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_EXCEPTION_GATEWAY_TARGET_DEVICE_FAILED</span></span></span><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a53a7e4dcff931f7be5da72815ae304f8ac04d008606822cf411e3e9165a941f7e"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">MB_DIAG_ERR_SLOT_MAX</span></span></span><br /></dt>
<dd></dd></dl>

</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a4f282a61695c7148d76413916465f9c9"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_reset</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">diag</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1aa367e5b5c40368644090fbf0677a9298"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_record_fc</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">diag</span></span>, <a class="reference internal" href="#_CPPv45mb_u8" title="mb_u8"><span class="n"><span class="pre">mb_u8</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">function</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a3a1d96777d345c0f178f34aaab63041b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_record_error</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_counters_t" title="mb_diag_counters_t"><span class="n"><span class="pre">mb_diag_counters_t</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">diag</span></span>, <a class="reference internal" href="#_CPPv48mb_err_t" title="mb_err_t"><span class="n"><span class="pre">mb_err_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">err</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp">
<span class="target" id="observe_8h_1a320d9b60aee0566573098f48b075df52"></span><span class="k"><span class="pre">const</span></span><span class="w"> </span><span class="kt"><span class="pre">char</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">mb_diag_err_slot_str</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv418mb_diag_err_slot_t" title="mb_diag_err_slot_t"><span class="n"><span class="pre">mb_diag_err_slot_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">slot</span></span><span class="sig-paren">)</span><br /></dt>
<dd></dd></dl>

</section>
<section id="transports">
<h2>Transports<a class="headerlink" href="#transports" title="Link to this heading"></a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenstruct: Cannot find class “mb_rtu_transport” in doxygen xml output for project “modbus” from directory: /home/runner/work/modbus/modbus/build/host-docs/doxygen/xml</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenstruct: Cannot find class “mb_tcp_transport” in doxygen xml output for project “modbus” from directory: /home/runner/work/modbus/modbus/build/host-docs/doxygen/xml</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>doxygenstruct: Cannot find class “mb_tcp_multi_transport” in doxygen xml output for project “modbus” from directory: /home/runner/work/modbus/modbus/build/host-docs/doxygen/xml</p>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="developer_guide.html" class="btn btn-neutral float-left" title="Developer Guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="roadmapping.html" class="btn btn-neutral float-right" title="Roadmap &amp; Gates (0–44)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Luiz Carlos Gili.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>